!function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=663)}([function(e,t,n){"use strict";e.exports=n(319)},function(e,t,n){"use strict";n(12),n(13),n(14),n(42),n(10),n(72),n(35),n(5),n(15),n(83),n(16),n(7),n(194),n(30),n(55),n(8),n(58),n(49),n(45),n(9);var r=n(113),a=n.n(r),i=n(0),p=n.n(i),o=n(44),h=n(4),m=n(104),s=n(70),v=n(39);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=c(this,d(n).call(this,e))).updateMessages=function(){t.setState(t.getTranslationState())},t.state=t.getTranslationState(),t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,p.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){o.a.listen(this.updateMessages)}},{key:"componentWillUnmount",value:function(){o.a.unlisten(this.updateMessages)}},{key:"getTranslationState",value:function(){var e=o.a.getState();return{translationMessages:e.translationMessages,language:e.language}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.translationMessages!==t.translationMessages||this.state.language!==t.language||this.props.message!==e.message||this.props.className!==e.className||this.props.disabled!==e.disabled||this.props.onClick!==e.onClick||this.props.component!==e.component||!a()(this.props.params,e.params)}},{key:"render",value:function(){var e,t,r=this,n=this.props.message||"";(t=n.match(/^([A-Za-z_]+):(\S.*)$/))?(e=t[1],n=t[2]):e=this.props.section||this.props.localeSection;var a=[e,this.state.language].join("_"),i=this.state.translationMessages[a]||{},o=i[n]||n,s=this.props.component;!0===window.DEBUG_TRANSLATIONS&&(o=void 0===i[n]?"!!MISSING!!"+n:h.a.debugTranslation(o,this.props.params||{})),this.props.params&&Object.keys(this.props.params).forEach(function(e){var t=r.props.params[e],n=new RegExp("%"+e+"%","g");o=o.replace(n,Object(v.b)(t))});var l,u,c,d=Object(m.a)(this.props,["section","localeSection","message","dangerouslyAllowUnescapedHTML","params","component","attribute"]);if(void 0===i[n]&&!0!==this.props.dangerouslyAllowUnescapedHTML)return p.a.createElement(s,d,this.props.message);if(this.props.attribute)return p.a.createElement(s,Object.assign((l={},u=this.props.attribute,c=o,u in l?Object.defineProperty(l,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[u]=c,l),d));var f={dangerouslySetInnerHTML:{__html:o}};return p.a.createElement(s,Object.assign(f,d))}}])&&u(e.prototype,t),r&&u(e,r),n}();y.defaultProps={component:"span",dangerouslyAllowUnescapedHTML:!1},t.a=Object(s.b)(y)},function(e,t,n){"use strict";n(56),n(7),n(30),n(55),n(232);var r=n(134),a=n.n(r),i=window.location.search.substring(1),o={getAppKey:function(){return window.APP_KEY},getOrgName:function(){return window.APP_ORG_NAME},getOrgUrlName:function(){return window.APP_ORG_URL_NAME},isOrgHidden:function(){return window.APP_ORG_HIDDEN},getAccessName:function(){return window.ACCESS_NAME},getAppIdentifier:function(){return window.APP_IDENTIFIER},getAppTitle:function(){return window.APP_TITLE},getResourcesUrl:function(){return window.APP_RESOURCES_URL},getBaseUrl:function(){return window.APP_BASE_URL},getLoginUrl:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return o.getBaseUrl()+"/login"+(t?"?_target_path="+encodeURIComponent(window.location.href.toString().substring(window.location.origin.length)):"")},getAssetsVersion:function(){return window.ASSETS_VERSION},getLanguage:function(){return window.APP_LANGUAGE},getLanguageSections:function(){return window.APP_LANGUAGE_SECTIONS},getUse24h:function(){return window.APP_DATETIME_USE24H},getDateLocale:function(){return window.APP_DATETIME_LOCALE},getCalendarDefaults:function(){return window.calendarStateDefaults},getQueryParams:function(){return a.a.parse(window.location.search.substring(1))},getInitialQueryParams:function(){return a.a.parse(i)},getAdministrationBaseUrl:function(){return window.APP_BASE_URL+"/admintool96"},getCustomFieldImages:function(){return window.customFieldImages},getSlackClientId:function(){return window.SLACK_CLIENT_ID},getLoggedInUser:function(){return window.loggedUser||null},getIsTestUser:function(){var e;return(null===(e=window.loggedUser)||void 0===e?void 0:e.isTestUser)||null},isDebugMode:function(){return window.DEBUG_MODE}};t.a=o},function(e,t,Mi){(function(Pi){var ji;//! moment.js
Pi.exports=function(){"use strict";var t,a;function u(){return t.apply(null,arguments)}function e(e){t=e}function o(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function s(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function l(e){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(e).length===0}else{var t;for(t in e){if(e.hasOwnProperty(t)){return false}}return true}}function i(e){return e===void 0}function c(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function d(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function n(e,t){var n=[],r;for(r=0;r<e.length;++r){n.push(t(e[r],r))}return n}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var n in t){if(f(t,n)){e[n]=t[n]}}if(f(t,"toString")){e.toString=t.toString}if(f(t,"valueOf")){e.valueOf=t.valueOf}return e}function h(e,t,n,r){return zn(e,t,n,r,true).utc()}function r(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function m(e){if(e._pf==null){e._pf=r()}return e._pf}if(Array.prototype.some){a=Array.prototype.some}else{a=function(e){var t=Object(this);var n=t.length>>>0;for(var r=0;r<n;r++){if(r in t&&e.call(this,t[r],r,t)){return true}}return false}}function v(e){if(e._isValid==null){var t=m(e);var n=a.call(t.parsedDateParts,function(e){return e!=null});var r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict){r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=r}else{return r}}return e._isValid}function y(e){var t=h(NaN);if(e!=null){p(m(t),e)}else{m(t).userInvalidated=true}return t}var g=u.momentProperties=[];function b(e,t){var n,r,a;if(!i(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!i(t._i)){e._i=t._i}if(!i(t._f)){e._f=t._f}if(!i(t._l)){e._l=t._l}if(!i(t._strict)){e._strict=t._strict}if(!i(t._tzm)){e._tzm=t._tzm}if(!i(t._isUTC)){e._isUTC=t._isUTC}if(!i(t._offset)){e._offset=t._offset}if(!i(t._pf)){e._pf=m(t)}if(!i(t._locale)){e._locale=t._locale}if(g.length>0){for(n=0;n<g.length;n++){r=g[n];a=t[r];if(!i(a)){e[r]=a}}}return e}var w=false;function _(e){b(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(w===false){w=true;u.updateOffset(this);w=false}}function E(e){return e instanceof _||e!=null&&e._isAMomentObject!=null}function S(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function k(e){var t=+e,n=0;if(t!==0&&isFinite(t)){n=S(t)}return n}function O(e,t,n){var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++){if(n&&e[o]!==t[o]||!n&&k(e[o])!==k(t[o])){i++}}return i+a}function C(e){if(u.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function D(a,i){var o=true;return p(function(){if(u.deprecationHandler!=null){u.deprecationHandler(null,a)}if(o){var e=[];var t;for(var n=0;n<arguments.length;n++){t="";if(typeof arguments[n]==="object"){t+="\n["+n+"] ";for(var r in arguments[0]){t+=r+": "+arguments[0][r]+", "}t=t.slice(0,-2)}else{t=arguments[n]}e.push(t)}C(a+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack);o=false}return i.apply(this,arguments)},i)}var T={},x;function P(e,t){if(u.deprecationHandler!=null){u.deprecationHandler(e,t)}if(!T[e]){C(t);T[e]=true}}function j(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function M(e){var t,n;for(n in e){t=e[n];if(j(t)){this[n]=t}else{this["_"+n]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(e,t){var n=p({},e),r;for(r in t){if(f(t,r)){if(s(e[r])&&s(t[r])){n[r]={};p(n[r],e[r]);p(n[r],t[r])}else if(t[r]!=null){n[r]=t[r]}else{delete n[r]}}}for(r in e){if(f(e,r)&&!f(t,r)&&s(e[r])){n[r]=p({},n[r])}}return n}function A(e){if(e!=null){this.set(e)}}if(u.suppressDeprecationWarnings=false,u.deprecationHandler=null,Object.keys){x=Object.keys}else{x=function(e){var t,n=[];for(t in e){if(f(e,t)){n.push(t)}}return n}}var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar["sameElse"];return j(r)?r.call(t,n):r}var I={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function F(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];if(t||!n){return t}this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var V="Invalid date";function U(){return this._invalidDate}var Y="%d",H=/\d{1,2}/;function B(e){return this._ordinal.replace("%d",e)}var W={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function z(e,t,n,r){var a=this._relativeTime[n];return j(a)?a(e,t,n,r):a.replace(/%d/i,e)}function G(e,t){var n=this._relativeTime[e>0?"future":"past"];return j(n)?n(t):n.replace(/%s/i,t)}var K={};function q(e,t){var n=e.toLowerCase();K[n]=K[n+"s"]=K[t]=e}function $(e){return typeof e==="string"?K[e]||K[e.toLowerCase()]:undefined}function J(e){var t={},n,r;for(r in e){if(f(e,r)){n=$(r);if(n){t[n]=e[r]}}}return t}var Q={};function Z(e,t){Q[e]=t}function X(e){var t=[];for(var n in e){t.push({unit:n,priority:Q[n]})}t.sort(function(e,t){return e.priority-t.priority});return t}function ee(e,t,n){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,re={},ae={};function ie(e,t,n,r){var a=r;if(typeof r==="string"){a=function(){return this[r]()}}if(e){ae[e]=a}if(t){ae[t[0]]=function(){return ee(a.apply(this,arguments),t[1],t[2])}}if(n){ae[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)}}}function oe(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function se(r){var a=r.match(te),e,i;for(e=0,i=a.length;e<i;e++){if(ae[a[e]]){a[e]=ae[a[e]]}else{a[e]=oe(a[e])}}return function(e){var t="",n;for(n=0;n<i;n++){t+=j(a[n])?a[n].call(e,r):a[n]}return t}}function le(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=ue(t,e.localeData());re[t]=re[t]||se(t);return re[t](e)}function ue(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}ne.lastIndex=0;while(n>=0&&ne.test(e)){e=e.replace(ne,r);ne.lastIndex=0;n-=1}return e}var ce=/\d/,de=/\d\d/,fe=/\d{3}/,pe=/\d{4}/,he=/[+-]?\d{6}/,me=/\d\d?/,ve=/\d\d\d\d?/,ye=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,be=/\d{1,4}/,we=/[+-]?\d{1,6}/,_e=/\d+/,Ee=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,ke=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,Ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,De={};function Te(e,n,r){De[e]=j(n)?n:function(e,t){return e&&r?r:n}}function xe(e,t){if(!f(De,e)){return new RegExp(Pe(e))}return De[e](t._strict,t._locale)}function Pe(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a}))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Me={};function Ne(e,n){var t,r=n;if(typeof e==="string"){e=[e]}if(c(n)){r=function(e,t){t[n]=k(e)}}for(t=0;t<e.length;t++){Me[e[t]]=r}}function Ae(e,a){Ne(e,function(e,t,n,r){n._w=n._w||{};a(e,n._w,n,r)})}function Le(e,t,n){if(t!=null&&f(Me,e)){Me[e](t,n._a,n,e)}}var Re=0,Ie=1,Fe=2,Ve=3,Ue=4,Ye=5,He=6,Be=7,We=8;function ze(e){return Ge(e)?366:365}function Ge(e){return e%4===0&&e%100!==0||e%400===0}ie("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),ie(0,["YY",2],0,function(){return this.year()%100}),ie(0,["YYYY",4],0,"year"),ie(0,["YYYYY",5],0,"year"),ie(0,["YYYYYY",6,true],0,"year"),q("year","y"),Z("year",1),Te("Y",Ee),Te("YY",me,de),Te("YYYY",be,pe),Te("YYYYY",we,he),Te("YYYYYY",we,he),Ne(["YYYYY","YYYYYY"],Re),Ne("YYYY",function(e,t){t[Re]=e.length===2?u.parseTwoDigitYear(e):k(e)}),Ne("YY",function(e,t){t[Re]=u.parseTwoDigitYear(e)}),Ne("Y",function(e,t){t[Re]=parseInt(e,10)}),u.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var Ke=Je("FullYear",true),qe;function $e(){return Ge(this.year())}function Je(t,n){return function(e){if(e!=null){Ze(this,t,e);u.updateOffset(this,n);return this}else{return Qe(this,t)}}}function Qe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ze(e,t,n){if(e.isValid()&&!isNaN(n)){if(t==="FullYear"&&Ge(e.year())&&e.month()===1&&e.date()===29){e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),nt(n,e.month()))}else{e._d["set"+(e._isUTC?"UTC":"")+t](n)}}}function Xe(e){e=$(e);if(j(this[e])){return this[e]()}return this}function et(e,t){if(typeof e==="object"){e=J(e);var n=X(e);for(var r=0;r<n.length;r++){this[n[r].unit](e[n[r].unit])}}else{e=$(e);if(j(this[e])){return this[e](t)}}return this}function tt(e,t){return(e%t+t)%t}if(Array.prototype.indexOf){qe=Array.prototype.indexOf}else{qe=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}function nt(e,t){if(isNaN(e)||isNaN(t)){return NaN}var n=tt(t,12);e+=(t-n)/12;return n===1?Ge(e)?29:28:31-n%7%2}ie("M",["MM",2],"Mo",function(){return this.month()+1}),ie("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),ie("MMMM",0,0,function(e){return this.localeData().months(this,e)}),q("month","M"),Z("month",8),Te("M",me),Te("MM",me,de),Te("MMM",function(e,t){return t.monthsShortRegex(e)}),Te("MMMM",function(e,t){return t.monthsRegex(e)}),Ne(["M","MM"],function(e,t){t[Ie]=k(e)-1}),Ne(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);if(a!=null){t[Ie]=a}else{m(n).invalidMonth=e}});var rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function it(e,t){if(!e){return o(this._months)?this._months:this._months["standalone"]}return o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rt).test(t)?"format":"standalone"][e.month()]}var ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function st(e,t){if(!e){return o(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rt.test(t)?"format":"standalone"][e.month()]}function lt(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(r=0;r<12;++r){i=h([2e3,r]);this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase();this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase()}}if(n){if(t==="MMM"){a=qe.call(this._shortMonthsParse,o);return a!==-1?a:null}else{a=qe.call(this._longMonthsParse,o);return a!==-1?a:null}}else{if(t==="MMM"){a=qe.call(this._shortMonthsParse,o);if(a!==-1){return a}a=qe.call(this._longMonthsParse,o);return a!==-1?a:null}else{a=qe.call(this._longMonthsParse,o);if(a!==-1){return a}a=qe.call(this._shortMonthsParse,o);return a!==-1?a:null}}}function ut(e,t,n){var r,a,i;if(this._monthsParseExact){return lt.call(this,e,t,n)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(r=0;r<12;r++){a=h([2e3,r]);if(n&&!this._longMonthsParse[r]){this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i");this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")}if(!n&&!this._monthsParse[r]){i="^"+this.months(a,"")+"|^"+this.monthsShort(a,"");this._monthsParse[r]=new RegExp(i.replace(".",""),"i")}if(n&&t==="MMMM"&&this._longMonthsParse[r].test(e)){return r}else if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e)){return r}else if(!n&&this._monthsParse[r].test(e)){return r}}}function ct(e,t){var n;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=k(t)}else{t=e.localeData().monthsParse(t);if(!c(t)){return e}}}n=Math.min(e.date(),nt(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n);return e}function dt(e){if(e!=null){ct(this,e);u.updateOffset(this,true);return this}else{return Qe(this,"Month")}}function ft(){return nt(this.year(),this.month())}var pt=Ce;function ht(e){if(this._monthsParseExact){if(!f(this,"_monthsRegex")){yt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!f(this,"_monthsShortRegex")){this._monthsShortRegex=pt}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var mt=Ce;function vt(e){if(this._monthsParseExact){if(!f(this,"_monthsRegex")){yt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!f(this,"_monthsRegex")){this._monthsRegex=mt}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function yt(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],a,i;for(a=0;a<12;a++){i=h([2e3,a]);t.push(this.monthsShort(i,""));n.push(this.months(i,""));r.push(this.months(i,""));r.push(this.monthsShort(i,""))}t.sort(e);n.sort(e);r.sort(e);for(a=0;a<12;a++){t[a]=je(t[a]);n[a]=je(n[a])}for(a=0;a<24;a++){r[a]=je(r[a])}this._monthsRegex=new RegExp("^("+r.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function gt(e,t,n,r,a,i,o){var s=new Date(e,t,n,r,a,i,o);if(e<100&&e>=0&&isFinite(s.getFullYear())){s.setFullYear(e)}return s}function bt(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function wt(e,t,n){var r=7+t-n,a=(7+bt(e,0,r).getUTCDay()-t)%7;return-a+r-1}function _t(e,t,n,r,a){var i=(7+n-r)%7,o=wt(e,r,a),s=1+7*(t-1)+i+o,l,u;if(s<=0){l=e-1;u=ze(l)+s}else if(s>ze(e)){l=e+1;u=s-ze(e)}else{l=e;u=s}return{year:l,dayOfYear:u}}function Et(e,t,n){var r=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;if(a<1){o=e.year()-1;i=a+St(o,t,n)}else if(a>St(e.year(),t,n)){i=a-St(e.year(),t,n);o=e.year()+1}else{o=e.year();i=a}return{week:i,year:o}}function St(e,t,n){var r=wt(e,t,n),a=wt(e+1,t,n);return(ze(e)-r+a)/7}function kt(e){return Et(e,this._week.dow,this._week.doy).week}ie("w",["ww",2],"wo","week"),ie("W",["WW",2],"Wo","isoWeek"),q("week","w"),q("isoWeek","W"),Z("week",5),Z("isoWeek",5),Te("w",me),Te("ww",me,de),Te("W",me),Te("WW",me,de),Ae(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=k(e)});var Ot={dow:0,doy:6};function Ct(){return this._week.dow}function Dt(){return this._week.doy}function Tt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function xt(e){var t=Et(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}function Pt(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function jt(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}ie("d",0,"do","day"),ie("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),ie("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),ie("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),ie("e",0,0,"weekday"),ie("E",0,0,"isoWeekday"),q("day","d"),q("weekday","e"),q("isoWeekday","E"),Z("day",11),Z("weekday",11),Z("isoWeekday",11),Te("d",me),Te("e",me),Te("E",me),Te("dd",function(e,t){return t.weekdaysMinRegex(e)}),Te("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Te("dddd",function(e,t){return t.weekdaysRegex(e)}),Ae(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);if(a!=null){t.d=a}else{m(n).invalidWeekday=e}}),Ae(["d","e","E"],function(e,t,n,r){t[r]=k(e)});var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Nt(e,t){if(!e){return o(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var At="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Lt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function It(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ft(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(r=0;r<7;++r){i=h([2e3,1]).day(r);this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase();this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase();this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase()}}if(n){if(t==="dddd"){a=qe.call(this._weekdaysParse,o);return a!==-1?a:null}else if(t==="ddd"){a=qe.call(this._shortWeekdaysParse,o);return a!==-1?a:null}else{a=qe.call(this._minWeekdaysParse,o);return a!==-1?a:null}}else{if(t==="dddd"){a=qe.call(this._weekdaysParse,o);if(a!==-1){return a}a=qe.call(this._shortWeekdaysParse,o);if(a!==-1){return a}a=qe.call(this._minWeekdaysParse,o);return a!==-1?a:null}else if(t==="ddd"){a=qe.call(this._shortWeekdaysParse,o);if(a!==-1){return a}a=qe.call(this._weekdaysParse,o);if(a!==-1){return a}a=qe.call(this._minWeekdaysParse,o);return a!==-1?a:null}else{a=qe.call(this._minWeekdaysParse,o);if(a!==-1){return a}a=qe.call(this._weekdaysParse,o);if(a!==-1){return a}a=qe.call(this._shortWeekdaysParse,o);return a!==-1?a:null}}}function Vt(e,t,n){var r,a,i;if(this._weekdaysParseExact){return Ft.call(this,e,t,n)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(r=0;r<7;r++){a=h([2e3,1]).day(r);if(n&&!this._fullWeekdaysParse[r]){this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[r]){i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,"");this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")}if(n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e)){return r}else if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e)){return r}else if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e)){return r}else if(!n&&this._weekdaysParse[r].test(e)){return r}}}function Ut(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=Pt(e,this.localeData());return this.add(e-t,"d")}else{return t}}function Yt(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=jt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var Bt=Ce;function Wt(e){if(this._weekdaysParseExact){if(!f(this,"_weekdaysRegex")){$t.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!f(this,"_weekdaysRegex")){this._weekdaysRegex=Bt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var zt=Ce;function Gt(e){if(this._weekdaysParseExact){if(!f(this,"_weekdaysRegex")){$t.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!f(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=zt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var Kt=Ce;function qt(e){if(this._weekdaysParseExact){if(!f(this,"_weekdaysRegex")){$t.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!f(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=Kt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function $t(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],a=[],i,o,s,l,u;for(i=0;i<7;i++){o=h([2e3,1]).day(i);s=this.weekdaysMin(o,"");l=this.weekdaysShort(o,"");u=this.weekdays(o,"");t.push(s);n.push(l);r.push(u);a.push(s);a.push(l);a.push(u)}t.sort(e);n.sort(e);r.sort(e);a.sort(e);for(i=0;i<7;i++){n[i]=je(n[i]);r[i]=je(r[i]);a[i]=je(a[i])}this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function Zt(e,t){ie(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Xt(e,t){return t._meridiemParse}function en(e){return(e+"").toLowerCase().charAt(0)==="p"}ie("H",["HH",2],0,"hour"),ie("h",["hh",2],0,Jt),ie("k",["kk",2],0,Qt),ie("hmm",0,0,function(){return""+Jt.apply(this)+ee(this.minutes(),2)}),ie("hmmss",0,0,function(){return""+Jt.apply(this)+ee(this.minutes(),2)+ee(this.seconds(),2)}),ie("Hmm",0,0,function(){return""+this.hours()+ee(this.minutes(),2)}),ie("Hmmss",0,0,function(){return""+this.hours()+ee(this.minutes(),2)+ee(this.seconds(),2)}),Zt("a",true),Zt("A",false),q("hour","h"),Z("hour",13),Te("a",Xt),Te("A",Xt),Te("H",me),Te("h",me),Te("k",me),Te("HH",me,de),Te("hh",me,de),Te("kk",me,de),Te("hmm",ve),Te("hmmss",ye),Te("Hmm",ve),Te("Hmmss",ye),Ne(["H","HH"],Ve),Ne(["k","kk"],function(e,t,n){var r=k(e);t[Ve]=r===24?0:r}),Ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e);n._meridiem=e}),Ne(["h","hh"],function(e,t,n){t[Ve]=k(e);m(n).bigHour=true}),Ne("hmm",function(e,t,n){var r=e.length-2;t[Ve]=k(e.substr(0,r));t[Ue]=k(e.substr(r));m(n).bigHour=true}),Ne("hmmss",function(e,t,n){var r=e.length-4;var a=e.length-2;t[Ve]=k(e.substr(0,r));t[Ue]=k(e.substr(r,2));t[Ye]=k(e.substr(a));m(n).bigHour=true}),Ne("Hmm",function(e,t,n){var r=e.length-2;t[Ve]=k(e.substr(0,r));t[Ue]=k(e.substr(r))}),Ne("Hmmss",function(e,t,n){var r=e.length-4;var a=e.length-2;t[Ve]=k(e.substr(0,r));t[Ue]=k(e.substr(r,2));t[Ye]=k(e.substr(a))});var tn=/[ap]\.?m?\.?/i;function nn(e,t,n){if(e>11){return n?"pm":"PM"}else{return n?"am":"AM"}}var rn=Je("Hours",true),an={calendar:L,longDateFormat:I,invalidDate:V,ordinal:Y,dayOfMonthOrdinalParse:H,relativeTime:W,months:at,monthsShort:ot,week:Ot,weekdays:Mt,weekdaysMin:Rt,weekdaysShort:At,meridiemParse:tn},on={},sn={},ln;function un(e){return e?e.toLowerCase().replace("_","-"):e}function cn(e){var t=0,n,r,a,i;while(t<e.length){i=un(e[t]).split("-");n=i.length;r=un(e[t+1]);r=r?r.split("-"):null;while(n>0){a=dn(i.slice(0,n).join("-"));if(a){return a}if(r&&r.length>=n&&O(i,r,true)>=n-1){break}n--}t++}return ln}function dn(e){var t=null;if(!on[e]&&typeof Pi!=="undefined"&&Pi&&Pi.exports){try{t=ln._abbr;var n=ji;Mi(303)("./"+e);fn(t)}catch(e){}}return on[e]}function fn(e,t){var n;if(e){if(i(t)){n=mn(e)}else{n=pn(e,t)}if(n){ln=n}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+e+" not found. Did you forget to load it?")}}}return ln._abbr}function pn(e,t){if(t!==null){var n,r=an;t.abbr=e;if(on[e]!=null){P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");r=on[e]._config}else if(t.parentLocale!=null){if(on[t.parentLocale]!=null){r=on[t.parentLocale]._config}else{n=dn(t.parentLocale);if(n!=null){r=n._config}else{if(!sn[t.parentLocale]){sn[t.parentLocale]=[]}sn[t.parentLocale].push({name:e,config:t});return null}}}on[e]=new A(N(r,t));if(sn[e]){sn[e].forEach(function(e){pn(e.name,e.config)})}fn(e);return on[e]}else{delete on[e];return null}}function hn(e,t){if(null!=t){var n,r,a=an;null!=(r=dn(e))&&(a=r._config),t=N(a,t),(n=new A(t)).parentLocale=on[e],on[e]=n,fn(e)}else null!=on[e]&&(null!=on[e].parentLocale?on[e]=on[e].parentLocale:null!=on[e]&&delete on[e]);return on[e]}function mn(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return ln}if(!o(e)){t=dn(e);if(t){return t}e=[e]}return cn(e)}function vn(){return x(on)}function yn(e){var t;var n=e._a;if(n&&m(e).overflow===-2){t=n[Ie]<0||n[Ie]>11?Ie:n[Fe]<1||n[Fe]>nt(n[Re],n[Ie])?Fe:n[Ve]<0||n[Ve]>24||n[Ve]===24&&(n[Ue]!==0||n[Ye]!==0||n[He]!==0)?Ve:n[Ue]<0||n[Ue]>59?Ue:n[Ye]<0||n[Ye]>59?Ye:n[He]<0||n[He]>999?He:-1;if(m(e)._overflowDayOfYear&&(t<Re||t>Fe)){t=Fe}if(m(e)._overflowWeeks&&t===-1){t=Be}if(m(e)._overflowWeekday&&t===-1){t=We}m(e).overflow=t}return e}function gn(e,t,n){if(e!=null){return e}if(t!=null){return t}return n}function bn(e){var t=new Date(u.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function wn(e){var t,n,r=[],a,i,o;if(e._d){return}a=bn(e);if(e._w&&e._a[Fe]==null&&e._a[Ie]==null){_n(e)}if(e._dayOfYear!=null){o=gn(e._a[Re],a[Re]);if(e._dayOfYear>ze(o)||e._dayOfYear===0){m(e)._overflowDayOfYear=true}n=bt(o,0,e._dayOfYear);e._a[Ie]=n.getUTCMonth();e._a[Fe]=n.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=r[t]=a[t]}for(;t<7;t++){e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[Ve]===24&&e._a[Ue]===0&&e._a[Ye]===0&&e._a[He]===0){e._nextDay=true;e._a[Ve]=0}e._d=(e._useUTC?bt:gt).apply(null,r);i=e._useUTC?e._d.getUTCDay():e._d.getDay();if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[Ve]=24}if(e._w&&typeof e._w.d!=="undefined"&&e._w.d!==i){m(e).weekdayMismatch=true}}function _n(e){var t,n,r,a,i,o,s,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){i=1;o=4;n=gn(t.GG,e._a[Re],Et(Gn(),1,4).year);r=gn(t.W,1);a=gn(t.E,1);if(a<1||a>7){l=true}}else{i=e._locale._week.dow;o=e._locale._week.doy;var u=Et(Gn(),i,o);n=gn(t.gg,e._a[Re],u.year);r=gn(t.w,u.week);if(t.d!=null){a=t.d;if(a<0||a>6){l=true}}else if(t.e!=null){a=t.e+i;if(t.e<0||t.e>6){l=true}}else{a=i}}if(r<1||r>St(n,i,o)){m(e)._overflowWeeks=true}else if(l!=null){m(e)._overflowWeekday=true}else{s=_t(n,r,a,i,o);e._a[Re]=s.year;e._dayOfYear=s.dayOfYear}}var En=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/Z|[+-]\d\d(?::?\d\d)?/,On=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dn=/^\/?Date\((\-?\d+)/i;function Tn(e){var t,n,r=e._i,a=En.exec(r)||Sn.exec(r),i,o,s,l;if(a){m(e).iso=true;for(t=0,n=On.length;t<n;t++){if(On[t][1].exec(a[1])){o=On[t][0];i=On[t][2]!==false;break}}if(o==null){e._isValid=false;return}if(a[3]){for(t=0,n=Cn.length;t<n;t++){if(Cn[t][1].exec(a[3])){s=(a[2]||" ")+Cn[t][0];break}}if(s==null){e._isValid=false;return}}if(!i&&s!=null){e._isValid=false;return}if(a[4]){if(kn.exec(a[4])){l="Z"}else{e._isValid=false;return}}e._f=o+(s||"")+(l||"");Fn(e)}else{e._isValid=false}}var xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Pn(e,t,n,r,a,i){var o=[jn(e),ot.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];if(i){o.push(parseInt(i,10))}return o}function jn(e){var t=parseInt(e,10);if(t<=49){return 2e3+t}else if(t<=999){return 1900+t}return t}function Mn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Nn(e,t,n){if(e){var r=At.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a){m(n).weekdayMismatch=true;n._isValid=false;return false}}return true}var An={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ln(e,t,n){if(e){return An[e]}else if(t){return 0}else{var r=parseInt(n,10);var a=r%100,i=(r-a)/100;return i*60+a}}function Rn(e){var t=xn.exec(Mn(e._i));if(t){var n=Pn(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Nn(t[1],n,e)){return}e._a=n;e._tzm=Ln(t[8],t[9],t[10]);e._d=bt.apply(null,e._a);e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm);m(e).rfc2822=true}else{e._isValid=false}}function In(e){var t=Dn.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}Tn(e);if(e._isValid===false){delete e._isValid}else{return}Rn(e);if(e._isValid===false){delete e._isValid}else{return}u.createFromInputFallback(e)}function Fn(e){if(e._f===u.ISO_8601){Tn(e);return}if(e._f===u.RFC_2822){Rn(e);return}e._a=[];m(e).empty=true;var t=""+e._i,n,r,a,i,o,s=t.length,l=0;a=ue(e._f,e._locale).match(te)||[];for(n=0;n<a.length;n++){i=a[n];r=(t.match(xe(i,e))||[])[0];if(r){o=t.substr(0,t.indexOf(r));if(o.length>0){m(e).unusedInput.push(o)}t=t.slice(t.indexOf(r)+r.length);l+=r.length}if(ae[i]){if(r){m(e).empty=false}else{m(e).unusedTokens.push(i)}Le(i,r,e)}else if(e._strict&&!r){m(e).unusedTokens.push(i)}}m(e).charsLeftOver=s-l;if(t.length>0){m(e).unusedInput.push(t)}if(e._a[Ve]<=12&&m(e).bigHour===true&&e._a[Ve]>0){m(e).bigHour=undefined}m(e).parsedDateParts=e._a.slice(0);m(e).meridiem=e._meridiem;e._a[Ve]=Vn(e._locale,e._a[Ve],e._meridiem);wn(e);yn(e)}function Vn(e,t,n){var r;if(n==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,n)}else if(e.isPM!=null){r=e.isPM(n);if(r&&t<12){t+=12}if(!r&&t===12){t=0}return t}else{return t}}function Un(e){var t,n,r,a,i;if(e._f.length===0){m(e).invalidFormat=true;e._d=new Date(NaN);return}for(a=0;a<e._f.length;a++){i=0;t=b({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[a];Fn(t);if(!v(t)){continue}i+=m(t).charsLeftOver;i+=m(t).unusedTokens.length*10;m(t).score=i;if(r==null||i<r){r=i;n=t}}p(e,n||t)}function Yn(e){if(e._d){return}var t=J(e._i);e._a=n([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});wn(e)}function Hn(e){var t=new _(yn(Bn(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function Bn(e){var t=e._i,n=e._f;e._locale=e._locale||mn(e._l);if(t===null||n===undefined&&t===""){return y({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(E(t)){return new _(yn(t))}else if(d(t)){e._d=t}else if(o(n)){Un(e)}else if(n){Fn(e)}else{Wn(e)}if(!v(e)){e._d=null}return e}function Wn(e){var t=e._i;if(i(t)){e._d=new Date(u.now())}else if(d(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){In(e)}else if(o(t)){e._a=n(t.slice(0),function(e){return parseInt(e,10)});wn(e)}else if(s(t)){Yn(e)}else if(c(t)){e._d=new Date(t)}else{u.createFromInputFallback(e)}}function zn(e,t,n,r,a){var i={};if(n===true||n===false){r=n;n=undefined}if(s(e)&&l(e)||o(e)&&e.length===0){e=undefined}i._isAMomentObject=true;i._useUTC=i._isUTC=a;i._l=n;i._i=e;i._f=t;i._strict=r;return Hn(i)}function Gn(e,t,n,r){return zn(e,t,n,r,false)}u.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),u.ISO_8601=function(){},u.RFC_2822=function(){};var Kn=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Gn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return y()}}),qn=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Gn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return y()}});function $n(e,t){var n,r;if(t.length===1&&o(t[0])){t=t[0]}if(!t.length){return Gn()}n=t[0];for(r=1;r<t.length;++r){if(!t[r].isValid()||t[r][e](n)){n=t[r]}}return n}function Jn(){var e;return $n("isBefore",[].slice.call(arguments,0))}function Qn(){var e;return $n("isAfter",[].slice.call(arguments,0))}var Zn=function(){return Date.now?Date.now():+new Date},Xn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function er(e){for(var t in e){if(!(qe.call(Xn,t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var n=false;for(var r=0;r<Xn.length;++r){if(e[Xn[r]]){if(n){return false}if(parseFloat(e[Xn[r]])!==k(e[Xn[r]])){n=true}}}return true}function tr(){return this._isValid}function nr(){return kr(NaN)}function rr(e){var t=J(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=er(t);this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60;this._days=+o+i*7;this._months=+a+r*3+n*12;this._data={};this._locale=mn();this._bubble()}function ar(e){return e instanceof rr}function ir(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function or(e,n){ie(e,0,0,function(){var e=this.utcOffset();var t="+";if(e<0){e=-e;t="-"}return t+ee(~~(e/60),2)+n+ee(~~e%60,2)})}or("Z",":"),or("ZZ",""),Te("Z",ke),Te("ZZ",ke),Ne(["Z","ZZ"],function(e,t,n){n._useUTC=true;n._tzm=lr(ke,e)});var sr=/([\+\-]|\d\d)/gi;function lr(e,t){var n=(t||"").match(e);if(n===null){return null}var r=n[n.length-1]||[];var a=(r+"").match(sr)||["-",0,0];var i=+(a[1]*60)+k(a[2]);return i===0?0:a[0]==="+"?i:-i}function ur(e,t){var n,r;if(t._isUTC){n=t.clone();r=(E(e)||d(e)?e.valueOf():Gn(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+r);u.updateOffset(n,false);return n}else{return Gn(e).local()}}function cr(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}function dr(e,t,n){var r=this._offset||0,a;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=lr(ke,e);if(e===null){return this}}else if(Math.abs(e)<16&&!n){e=e*60}if(!this._isUTC&&t){a=cr(this)}this._offset=e;this._isUTC=true;if(a!=null){this.add(a,"m")}if(r!==e){if(!t||this._changeInProgress){xr(this,kr(e-r,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;u.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?r:cr(this)}}function fr(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function pr(e){return this.utcOffset(0,e)}function hr(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(cr(this),"m")}}return this}function mr(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=lr(Se,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function vr(e){if(!this.isValid()){return false}e=e?Gn(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function yr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function gr(){if(!i(this._isDSTShifted)){return this._isDSTShifted}var e={};b(e,this);e=Bn(e);if(e._a){var t=e._isUTC?h(e._a):Gn(e._a);this._isDSTShifted=this.isValid()&&O(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function br(){return this.isValid()?!this._isUTC:false}function wr(){return this.isValid()?this._isUTC:false}function _r(){return this.isValid()?this._isUTC&&this._offset===0:false}u.updateOffset=function(){};var Er=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Sr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kr(e,t){var n=e,r=null,a,i,o;if(ar(e)){n={ms:e._milliseconds,d:e._days,M:e._months}}else if(c(e)){n={};if(t){n[t]=e}else{n.milliseconds=e}}else if(!!(r=Er.exec(e))){a=r[1]==="-"?-1:1;n={y:0,d:k(r[Fe])*a,h:k(r[Ve])*a,m:k(r[Ue])*a,s:k(r[Ye])*a,ms:k(ir(r[He]*1e3))*a}}else if(!!(r=Sr.exec(e))){a=r[1]==="-"?-1:r[1]==="+"?1:1;n={y:Or(r[2],a),M:Or(r[3],a),w:Or(r[4],a),d:Or(r[5],a),h:Or(r[6],a),m:Or(r[7],a),s:Or(r[8],a)}}else if(n==null){n={}}else if(typeof n==="object"&&("from"in n||"to"in n)){o=Dr(Gn(n.from),Gn(n.to));n={};n.ms=o.milliseconds;n.M=o.months}i=new rr(n);if(ar(e)&&f(e,"_locale")){i._locale=e._locale}return i}function Or(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Cr(e,t){var n={milliseconds:0,months:0};n.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(n.months,"M").isAfter(t)){--n.months}n.milliseconds=+t-+e.clone().add(n.months,"M");return n}function Dr(e,t){var n;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=ur(t,e);if(e.isBefore(t)){n=Cr(e,t)}else{n=Cr(t,e);n.milliseconds=-n.milliseconds;n.months=-n.months}return n}function Tr(a,i){return function(e,t){var n,r;if(t!==null&&!isNaN(+t)){P(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");r=e;e=t;t=r}e=typeof e==="string"?+e:e;n=kr(e,t);xr(this,n,a);return this}}function xr(e,t,n,r){var a=t._milliseconds,i=ir(t._days),o=ir(t._months);if(!e.isValid()){return}r=r==null?true:r;if(o){ct(e,Qe(e,"Month")+o*n)}if(i){Ze(e,"Date",Qe(e,"Date")+i*n)}if(a){e._d.setTime(e._d.valueOf()+a*n)}if(r){u.updateOffset(e,i||o)}}kr.fn=rr.prototype,kr.invalid=nr;var Pr=Tr(1,"add"),jr=Tr(-1,"subtract");function Mr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Nr(e,t){var n=e||Gn(),r=ur(n,this).startOf("day"),a=u.calendarFormat(this,r)||"sameElse";var i=t&&(j(t[a])?t[a].call(this,n):t[a]);return this.format(i||this.localeData().calendar(a,this,Gn(n)))}function Ar(){return new _(this)}function Lr(e,t){var n=E(e)?e:Gn(e);if(!(this.isValid()&&n.isValid())){return false}t=$(!i(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>n.valueOf()}else{return n.valueOf()<this.clone().startOf(t).valueOf()}}function Rr(e,t){var n=E(e)?e:Gn(e);if(!(this.isValid()&&n.isValid())){return false}t=$(!i(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<n.valueOf()}else{return this.clone().endOf(t).valueOf()<n.valueOf()}}function Ir(e,t,n,r){r=r||"()";return(r[0]==="("?this.isAfter(e,n):!this.isBefore(e,n))&&(r[1]===")"?this.isBefore(t,n):!this.isAfter(t,n))}function Fr(e,t){var n=E(e)?e:Gn(e),r;if(!(this.isValid()&&n.isValid())){return false}t=$(t||"millisecond");if(t==="millisecond"){return this.valueOf()===n.valueOf()}else{r=n.valueOf();return this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()}}function Vr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ur(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Yr(e,t,n){var r,a,i;if(!this.isValid()){return NaN}r=ur(e,this);if(!r.isValid()){return NaN}a=(r.utcOffset()-this.utcOffset())*6e4;t=$(t);switch(t){case"year":i=Hr(this,r)/12;break;case"month":i=Hr(this,r);break;case"quarter":i=Hr(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:S(i)}function Hr(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),a,i;if(t-r<0){a=e.clone().add(n-1,"months");i=(t-r)/(r-a)}else{a=e.clone().add(n+1,"months");i=(t-r)/(a-r)}return-(n+i)||0}function Br(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Wr(e){if(!this.isValid()){return null}var t=e!==true;var n=t?this.clone().utc():this;if(n.year()<0||n.year()>9999){return le(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(j(Date.prototype.toISOString)){if(t){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",le(n,"Z"))}}return le(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zr(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var n="["+e+'("]';var r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var a="-MM-DD[T]HH:mm:ss.SSS";var i=t+'[")]';return this.format(n+r+a+i)}function Gr(e){if(!e){e=this.isUtc()?u.defaultFormatUtc:u.defaultFormat}var t=le(this,e);return this.localeData().postformat(t)}function Kr(e,t){if(this.isValid()&&(E(e)&&e.isValid()||Gn(e).isValid())){return kr({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function qr(e){return this.from(Gn(),e)}function $r(e,t){if(this.isValid()&&(E(e)&&e.isValid()||Gn(e).isValid())){return kr({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Jr(e){return this.to(Gn(),e)}function Qr(e){var t;if(e===undefined){return this._locale._abbr}else{t=mn(e);if(t!=null){this._locale=t}return this}}u.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",u.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zr=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function Xr(){return this._locale}function ea(e){var t=this.date(),n=true,r,a;e=$(e);if(e==="week"||e==="isoWeek"){this.hours(12)}switch(e){case"year":this.month(0);case"quarter":if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}case"month":this.date(1);n=false;case"week":case"isoWeek":if(e==="week"){this.weekday(0);t=this.date()}if(e==="isoWeek"){this.isoWeekday(1);t=this.date()}case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(n&&this.date()!==t){if(this.date()>t){this.date(t)}else{r=1;do{a=this.clone().add(r++,"hour")}while(a.date()<t);this.date(t);this.hours(a.hours())}}return this}function ta(e){e=$(e);if(e===undefined||e==="millisecond"){return this}if(e==="week"||e==="isoWeek"){this.hours(12)}switch(e){case"year":this.month(11);case"quarter":if(e==="quarter"){this.month(Math.floor(this.month()/3)*3+2)}case"month":this.date(this.month()===1?this.isLeapYear()?29:28:[0,2,4,6,7,9,11].indexOf(this.month())===-1?30:31);case"week":case"isoWeek":if(e==="week"){this.weekday(6)}if(e==="isoWeek"){this.isoWeekday(7)}case"day":case"date":this.hours(23);case"hour":this.minutes(59);case"minute":this.seconds(59);case"second":this.milliseconds(999)}return this}function na(){return this._d.valueOf()-(this._offset||0)*6e4}function ra(){return Math.floor(this.valueOf()/1e3)}function aa(){return new Date(this.valueOf())}function ia(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function oa(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function sa(){return this.isValid()?this.toISOString():null}function la(){return v(this)}function ua(){return p({},m(this))}function ca(){return m(this).overflow}function da(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function fa(e,t){ie(0,[e,e.length],0,t)}function pa(e){return ya.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ha(e){return ya.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function ma(){return St(this.year(),1,4)}function va(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function ya(e,t,n,r,a){var i;if(e==null){return Et(this,r,a).year}else{i=St(e,r,a);if(t>i){t=i}return ga.call(this,e,t,n,r,a)}}function ga(e,t,n,r,a){var i=_t(e,t,n,r,a),o=bt(i.year,0,i.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}function ba(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ie(0,["gg",2],0,function(){return this.weekYear()%100}),ie(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fa("gggg","weekYear"),fa("ggggg","weekYear"),fa("GGGG","isoWeekYear"),fa("GGGGG","isoWeekYear"),q("weekYear","gg"),q("isoWeekYear","GG"),Z("weekYear",1),Z("isoWeekYear",1),Te("G",Ee),Te("g",Ee),Te("GG",me,de),Te("gg",me,de),Te("GGGG",be,pe),Te("gggg",be,pe),Te("GGGGG",we,he),Te("ggggg",we,he),Ae(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=k(e)}),Ae(["gg","GG"],function(e,t,n,r){t[r]=u.parseTwoDigitYear(e)}),ie("Q",0,"Qo","quarter"),q("quarter","Q"),Z("quarter",7),Te("Q",ce),Ne("Q",function(e,t){t[Ie]=(k(e)-1)*3}),ie("D",["DD",2],"Do","date"),q("date","D"),Z("date",9),Te("D",me),Te("DD",me,de),Te("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Ne(["D","DD"],Fe),Ne("Do",function(e,t){t[Fe]=k(e.match(me)[0])});var wa=Je("Date",true);function _a(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ie("DDD",["DDDD",3],"DDDo","dayOfYear"),q("dayOfYear","DDD"),Z("dayOfYear",4),Te("DDD",ge),Te("DDDD",fe),Ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=k(e)}),ie("m",["mm",2],0,"minute"),q("minute","m"),Z("minute",14),Te("m",me),Te("mm",me,de),Ne(["m","mm"],Ue);var Ea=Je("Minutes",false);ie("s",["ss",2],0,"second"),q("second","s"),Z("second",15),Te("s",me),Te("ss",me,de),Ne(["s","ss"],Ye);var Sa=Je("Seconds",false),ka;for(ie("S",0,0,function(){return~~(this.millisecond()/100)}),ie(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ie(0,["SSS",3],0,"millisecond"),ie(0,["SSSS",4],0,function(){return this.millisecond()*10}),ie(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ie(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ie(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ie(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ie(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),q("millisecond","ms"),Z("millisecond",16),Te("S",ge,ce),Te("SS",ge,de),Te("SSS",ge,fe),ka="SSSS";ka.length<=9;ka+="S"){Te(ka,_e)}function Oa(e,t){t[He]=k(("0."+e)*1e3)}for(ka="S";ka.length<=9;ka+="S"){Ne(ka,Oa)}var Ca=Je("Milliseconds",false);function Da(){return this._isUTC?"UTC":""}function Ta(){return this._isUTC?"Coordinated Universal Time":""}ie("z",0,0,"zoneAbbr"),ie("zz",0,0,"zoneName");var xa=_.prototype;function Pa(e){return Gn(1e3*e)}function ja(){return Gn.apply(null,arguments).parseZone()}function Ma(e){return e}xa.add=Pr,xa.calendar=Nr,xa.clone=Ar,xa.diff=Yr,xa.endOf=ta,xa.format=Gr,xa.from=Kr,xa.fromNow=qr,xa.to=$r,xa.toNow=Jr,xa.get=Xe,xa.invalidAt=ca,xa.isAfter=Lr,xa.isBefore=Rr,xa.isBetween=Ir,xa.isSame=Fr,xa.isSameOrAfter=Vr,xa.isSameOrBefore=Ur,xa.isValid=la,xa.lang=Zr,xa.locale=Qr,xa.localeData=Xr,xa.max=qn,xa.min=Kn,xa.parsingFlags=ua,xa.set=et,xa.startOf=ea,xa.subtract=jr,xa.toArray=ia,xa.toObject=oa,xa.toDate=aa,xa.toISOString=Wr,xa.inspect=zr,xa.toJSON=sa,xa.toString=Br,xa.unix=ra,xa.valueOf=na,xa.creationData=da,xa.year=Ke,xa.isLeapYear=$e,xa.weekYear=pa,xa.isoWeekYear=ha,xa.quarter=xa.quarters=ba,xa.month=dt,xa.daysInMonth=ft,xa.week=xa.weeks=Tt,xa.isoWeek=xa.isoWeeks=xt,xa.weeksInYear=va,xa.isoWeeksInYear=ma,xa.date=wa,xa.day=xa.days=Ut,xa.weekday=Yt,xa.isoWeekday=Ht,xa.dayOfYear=_a,xa.hour=xa.hours=rn,xa.minute=xa.minutes=Ea,xa.second=xa.seconds=Sa,xa.millisecond=xa.milliseconds=Ca,xa.utcOffset=dr,xa.utc=pr,xa.local=hr,xa.parseZone=mr,xa.hasAlignedHourOffset=vr,xa.isDST=yr,xa.isLocal=br,xa.isUtcOffset=wr,xa.isUtc=_r,xa.isUTC=_r,xa.zoneAbbr=Da,xa.zoneName=Ta,xa.dates=D("dates accessor is deprecated. Use date instead.",wa),xa.months=D("months accessor is deprecated. Use month instead",dt),xa.years=D("years accessor is deprecated. Use year instead",Ke),xa.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fr),xa.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",gr);var Na=A.prototype;function Aa(e,t,n,r){var a=mn();var i=h().set(r,t);return a[n](i,e)}function La(e,t,n){if(c(e)){t=e;e=undefined}e=e||"";if(t!=null){return Aa(e,t,n,"month")}var r;var a=[];for(r=0;r<12;r++){a[r]=Aa(e,r,n,"month")}return a}function Ra(e,t,n,r){if(typeof e==="boolean"){if(c(t)){n=t;t=undefined}t=t||""}else{t=e;n=t;e=false;if(c(t)){n=t;t=undefined}t=t||""}var a=mn(),i=e?a._week.dow:0;if(n!=null){return Aa(t,(n+i)%7,r,"day")}var o;var s=[];for(o=0;o<7;o++){s[o]=Aa(t,(o+i)%7,r,"day")}return s}function Ia(e,t){return La(e,t,"months")}function Fa(e,t){return La(e,t,"monthsShort")}function Va(e,t,n){return Ra(e,t,n,"weekdays")}function Ua(e,t,n){return Ra(e,t,n,"weekdaysShort")}function Ya(e,t,n){return Ra(e,t,n,"weekdaysMin")}Na.calendar=R,Na.longDateFormat=F,Na.invalidDate=U,Na.ordinal=B,Na.preparse=Ma,Na.postformat=Ma,Na.relativeTime=z,Na.pastFuture=G,Na.set=M,Na.months=it,Na.monthsShort=st,Na.monthsParse=ut,Na.monthsRegex=vt,Na.monthsShortRegex=ht,Na.week=kt,Na.firstDayOfYear=Dt,Na.firstDayOfWeek=Ct,Na.weekdays=Nt,Na.weekdaysMin=It,Na.weekdaysShort=Lt,Na.weekdaysParse=Vt,Na.weekdaysRegex=Wt,Na.weekdaysShortRegex=Gt,Na.weekdaysMinRegex=qt,Na.isPM=en,Na.meridiem=nn,fn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=k(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),u.lang=D("moment.lang is deprecated. Use moment.locale instead.",fn),u.langData=D("moment.langData is deprecated. Use moment.localeData instead.",mn);var Ha=Math.abs;function Ba(){var e=this._data;return this._milliseconds=Ha(this._milliseconds),this._days=Ha(this._days),this._months=Ha(this._months),e.milliseconds=Ha(e.milliseconds),e.seconds=Ha(e.seconds),e.minutes=Ha(e.minutes),e.hours=Ha(e.hours),e.months=Ha(e.months),e.years=Ha(e.years),this}function Wa(e,t,n,r){var a=kr(t,n);e._milliseconds+=r*a._milliseconds;e._days+=r*a._days;e._months+=r*a._months;return e._bubble()}function za(e,t){return Wa(this,e,t,1)}function Ga(e,t){return Wa(this,e,t,-1)}function Ka(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function qa(){var e,t,n,r,a,i=this._milliseconds,o=this._days,s=this._months,l=this._data;if(!(0<=i&&0<=o&&0<=s||i<=0&&o<=0&&s<=0))i+=864e5*Ka(Ja(s)+o),s=o=0;return l.milliseconds=i%1e3,e=S(i/1e3),l.seconds=e%60,t=S(e/60),l.minutes=t%60,n=S(t/60),l.hours=n%24,o+=S(n/24),a=S($a(o)),s+=a,o-=Ka(Ja(a)),r=S(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function $a(e){return e*4800/146097}function Ja(e){return e*146097/4800}function Qa(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=$(e))||"year"===e)return t=this._days+r/864e5,n=this._months+$a(t),"month"===e?n:n/12}function Za(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN}function Xa(e){return function(){return this.as(e)}}var ei=Xa("ms"),ti=Xa("s"),ni=Xa("m"),ri=Xa("h"),ai=Xa("d"),ii=Xa("w"),oi=Xa("M"),si=Xa("y");function li(){return kr(this)}function ui(e){return e=$(e),this.isValid()?this[e+"s"]():NaN}function ci(e){return function(){return this.isValid()?this._data[e]:NaN}}var di=ci("milliseconds"),fi=ci("seconds"),pi=ci("minutes"),hi=ci("hours"),mi=ci("days"),vi=ci("months"),yi=ci("years");function gi(){return S(this.days()/7)}var bi=Math.round,wi={ss:44,s:45,m:45,h:22,d:26,M:11};function _i(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function Ei(e,t,n){var r=kr(e).abs(),a=bi(r.as("s")),i=bi(r.as("m")),o=bi(r.as("h")),s=bi(r.as("d")),l=bi(r.as("M")),u=bi(r.as("y")),c=a<=wi.ss&&["s",a]||a<wi.s&&["ss",a]||i<=1&&["m"]||i<wi.m&&["mm",i]||o<=1&&["h"]||o<wi.h&&["hh",o]||s<=1&&["d"]||s<wi.d&&["dd",s]||l<=1&&["M"]||l<wi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=0<+e,c[4]=n,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,c)}function Si(e){return void 0!==e?"function"!=typeof e?0:(bi=e,!0):bi}function ki(e,t){if(void 0===wi[e])return!1;if(void 0===t)return wi[e];if(wi[e]=t,"s"===e)wi.ss=t-1;return!0}function Oi(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=kr(e).abs(),a=bi(r.as("s")),i=bi(r.as("m")),o=bi(r.as("h")),s=bi(r.as("d")),l=bi(r.as("M")),u=bi(r.as("y")),c=a<=wi.ss&&["s",a]||a<wi.s&&["ss",a]||i<=1&&["m"]||i<wi.m&&["mm",i]||o<=1&&["h"]||o<wi.h&&["hh",o]||s<=1&&["d"]||s<wi.d&&["dd",s]||l<=1&&["M"]||l<wi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=0<+e,c[4]=n,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);if(e)n=t.pastFuture(+this,n);return t.postformat(n)}var Ci=Math.abs;function Di(e){return(e>0)-(e<0)||+e}function Ti(){if(!this.isValid()){return this.localeData().invalidDate()}var e=Ci(this._milliseconds)/1e3;var t=Ci(this._days);var n=Ci(this._months);var r,a,i;r=S(e/60);a=S(r/60);e%=60;r%=60;i=S(n/12);n%=12;var o=i;var s=n;var l=t;var u=a;var c=r;var d=e?e.toFixed(3).replace(/\.?0+$/,""):"";var f=this.asSeconds();if(!f){return"P0D"}var p=f<0?"-":"";var h=Di(this._months)!==Di(f)?"-":"";var m=Di(this._days)!==Di(f)?"-":"";var v=Di(this._milliseconds)!==Di(f)?"-":"";return p+"P"+(o?h+o+"Y":"")+(s?h+s+"M":"")+(l?m+l+"D":"")+(u||c||d?"T":"")+(u?v+u+"H":"")+(c?v+c+"M":"")+(d?v+d+"S":"")}var xi=rr.prototype;return xi.isValid=function(){return this._isValid},xi.abs=function(){var e=this._data;return this._milliseconds=Ha(this._milliseconds),this._days=Ha(this._days),this._months=Ha(this._months),e.milliseconds=Ha(e.milliseconds),e.seconds=Ha(e.seconds),e.minutes=Ha(e.minutes),e.hours=Ha(e.hours),e.months=Ha(e.months),e.years=Ha(e.years),this},xi.add=function(e,t){return Wa(this,e,t,1)},xi.subtract=function(e,t){return Wa(this,e,t,-1)},xi.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;{if("month"===(e=$(e))||"year"===e)return t=this._days+r/864e5,n=this._months+$a(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Ja(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}},xi.asMilliseconds=ei,xi.asSeconds=ti,xi.asMinutes=ni,xi.asHours=ri,xi.asDays=ai,xi.asWeeks=ii,xi.asMonths=oi,xi.asYears=si,xi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},xi._bubble=function(){var e,t,n,r,a,i=this._milliseconds,o=this._days,s=this._months,l=this._data;0<=i&&0<=o&&0<=s||i<=0&&o<=0&&s<=0||(i+=864e5*Ka(Ja(s)+o),s=o=0);return l.milliseconds=i%1e3,e=S(i/1e3),l.seconds=e%60,t=S(e/60),l.minutes=t%60,n=S(t/60),l.hours=n%24,o+=S(n/24),a=S($a(o)),s+=a,o-=Ka(Ja(a)),r=S(s/12),s%=12,l.days=o,l.months=s,l.years=r,this},xi.clone=function(){return kr(this)},xi.get=function(e){return e=$(e),this.isValid()?this[e+"s"]():NaN},xi.milliseconds=di,xi.seconds=fi,xi.minutes=pi,xi.hours=hi,xi.days=mi,xi.weeks=function(){return S(this.days()/7)},xi.months=vi,xi.years=yi,xi.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=kr(e).abs(),a=bi(r.as("s")),i=bi(r.as("m")),o=bi(r.as("h")),s=bi(r.as("d")),l=bi(r.as("M")),u=bi(r.as("y")),c=a<=wi.ss&&["s",a]||a<wi.s&&["ss",a]||i<=1&&["m"]||i<wi.m&&["mm",i]||o<=1&&["h"]||o<wi.h&&["hh",o]||s<=1&&["d"]||s<wi.d&&["dd",s]||l<=1&&["M"]||l<wi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=0<+e,c[4]=n,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);e&&(n=t.pastFuture(+this,n));return t.postformat(n)},xi.toISOString=Ti,xi.toString=Ti,xi.toJSON=Ti,xi.locale=Qr,xi.localeData=Xr,xi.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ti),xi.lang=Zr,ie("X",0,0,"unix"),ie("x",0,0,"valueOf"),Te("x",Ee),Te("X",/[+-]?\d+(\.\d{1,3})?/),Ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Ne("x",function(e,t,n){n._d=new Date(k(e))}),u.version="2.22.2",function(e){t=e}(Gn),u.fn=xa,u.min=function(){return $n("isBefore",[].slice.call(arguments,0))},u.max=function(){return $n("isAfter",[].slice.call(arguments,0))},u.now=function(){return Date.now?Date.now():+new Date},u.utc=h,u.unix=function(e){return Gn(1e3*e)},u.months=function(e,t){return La(e,t,"months")},u.isDate=d,u.locale=fn,u.invalid=y,u.duration=kr,u.isMoment=E,u.weekdays=function(e,t,n){return Ra(e,t,n,"weekdays")},u.parseZone=function(){return Gn.apply(null,arguments).parseZone()},u.localeData=mn,u.isDuration=ar,u.monthsShort=function(e,t){return La(e,t,"monthsShort")},u.weekdaysMin=function(e,t,n){return Ra(e,t,n,"weekdaysMin")},u.defineLocale=pn,u.updateLocale=function(e,t){if(null!=t){var n,r,a=an;null!=(r=dn(e))&&(a=r._config),t=N(a,t),(n=new A(t)).parentLocale=on[e],on[e]=n,fn(e)}else null!=on[e]&&(null!=on[e].parentLocale?on[e]=on[e].parentLocale:null!=on[e]&&delete on[e]);return on[e]},u.locales=function(){return x(on)},u.weekdaysShort=function(e,t,n){return Ra(e,t,n,"weekdaysShort")},u.normalizeUnits=$,u.relativeTimeRounding=function(e){return void 0!==e?"function"!=typeof e?0:(bi=e,!0):bi},u.relativeTimeThreshold=function(e,t){if(void 0===wi[e])return!1;if(void 0===t)return wi[e];wi[e]=t,"s"===e&&(wi.ss=t-1);return!0},u.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},u.prototype=xa,u.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},u}()}).call(this,Mi(162)(e))},function(e,t,n){"use strict";n(72),n(5),n(30),n(58),n(49);var c=n(44),d=n(39);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u)}var e,t,n;return e=u,n=[{key:"debugTranslation",value:function(e,t){for(var n in e=e.replace(/(\S+)/g,function(e){return"%"===e.substring(0,1)||"%"===e.substring(-1,1)?e:new Array(e.length+1).join("x")}),t)t.hasOwnProperty(n)&&(e=e.replace("%"+n+"%","%"+n+"="+Object(d.b)(t[n])+"%"));return e}},{key:"trans",value:function(e,t){var n,r=1<arguments.length&&void 0!==t?t:{};if(n=e.match(/^([A-Za-z_]+):(.+)$/)){var a=n[1],i=n[2];return u.translate(a,i,r)}return e}},{key:"translate",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:void 0,a=2<arguments.length&&void 0!==n?n:{};void 0===r&&(r="");var i=c.a.getState(),o=i.translationMessages[e+"_"+i.language]||{},s=o[r]||r;for(var l in!0===window.DEBUG_TRANSLATIONS&&(void 0===o[r]?(s="!!MISSING!!"+r,console.error("Missing translation: "+r)):s=u.debugTranslation(s,a)),a)a.hasOwnProperty(l)&&(s=s.replace("%"+l+"%",Object(d.b)(a[l])));return s}},{key:"partial",value:function(t){return function(e){return u.translate(t,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}}}],(t=null)&&r(e.prototype,t),n&&r(e,n),u}();t.a=a},function(e,t,n){var r=n(19),a=n(33);r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:n(37).f})},function(e,t,n){e.exports=n(410)()},function(e,t,n){var r=n(127),a=n(38),i=n(265);r||a(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var a=n(193).charAt,r=n(73),i=n(148),o="String Iterator",s=r.set,l=r.getterFor(o);i(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function(){var e,t=l(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=a(n,r),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(21),a=n(217),i=n(10),o=n(40),s=n(23),l=s("iterator"),u=s("toStringTag"),c=i.values;for(var d in a){var f=r[d],p=f&&f.prototype;if(p){if(p[l]!==c)try{o(p,l,c)}catch(e){p[l]=c}if(p[u]||o(p,u,d),a[d])for(var h in i)if(p[h]!==i[h])try{o(p,h,i[h])}catch(e){p[h]=i[h]}}}},function(e,t,n){"use strict";var r=n(54),a=n(153),i=n(97),o=n(73),s=n(148),l="Array Iterator",u=o.set,c=o.getterFor(l);e.exports=s(Array,"Array",function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),i.Arguments=i.Array,a("keys"),a("values"),a("entries")},function(e,t,n){"use strict";n(12),n(13),n(14),n(62),n(10),n(72),n(36),n(56),n(25),n(196),n(15),n(83),n(16),n(7),n(80),n(294),n(55),n(8),n(9);var s={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(s.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function f(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:s.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s.arrayBuffer&&s.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=i(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[i(e)]},u.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},u.prototype.set=function(e,t){this.map[i(e)]=o(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),l(n)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},u.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),l(n)},s.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,a=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),-1<m.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function y(e){var a=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");a.append(decodeURIComponent(n),decodeURIComponent(r))}}),a}function g(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},h.call(v.prototype),h.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];g.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})};var w=self.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function _(a,o){return new Promise(function(r,e){var t=new v(a,o);if(t.signal&&t.signal.aborted)return e(new w("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,a,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",a=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();a.append(n,r)}}),a)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new g(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new w("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&s.blob&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}_.polyfill=!0,self.fetch||(self.fetch=_,self.Headers=u,self.Request=v,self.Response=g);n(253);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function k(e){var r="function"==typeof Map?new Map:void 0;return(k=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return O(e,arguments,D(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)})(e)}function O(e,t,n){return(O=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&C(a,n.prototype),a}).apply(null,arguments)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return x});var T=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=S(this,D(n).call(this,"Request Failed"))).name="RequestError",t.response=e,t.stack=(new Error).stack,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,k(Error)),n}();function x(e,t){var n,r,a,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s={method:e.toUpperCase(),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"};return o&&(t+="?"+Object.keys(o).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&")),void 0!==window.FormData&&i instanceof FormData?s.body=i:i&&(s.body=JSON.stringify(i),s.headers["Content-Type"]="application/json"),n=new Promise(function(n,r){_(t,s).then(function(t){var e;("application/json"===(e=t).headers.get("Content-Type")?e.json():e.text()).then(function(e){if(t.status&&200<=t.status&&t.status<300)return n(e);return e.error&&e.error.message?r(new T(e)):t.status&&400<=t.status?r(new T({error:{title:"Unexpected server error",message:"Apologies for the trouble, we have been notified but please get in touch with details if the error persists."}})):r(new T({error:{title:"Unexpected connection error",message:"It appears the Teamup website can not be reached, you may be offline."}}))}).catch(function(e){return r(new T({error:{title:"Unexpected connection error",message:"It appears the Teamup website can not be reached, you may be offline."}}))})}).catch(function(e){if(!e.isCanceled)return r(new T({error:{title:"Unexpected connection error",message:"It appears the Teamup website can not be reached, you may be offline."}}))})}),r=!1,{promise:a=n.then(function(e){return r?Promise.reject({isCanceled:!0}):Promise.resolve(e)},function(e){return r?Promise.reject({isCanceled:!0}):Promise.reject(e)}),then:function(e,t){var n=1<arguments.length&&void 0!==t?t:void 0;return a.then(e,n)},catch:function(e){return a.catch(e)},finally:function(e){return a.finally(e)},cancel:function(){r=!0},isCanceled:function(){return r}}}},function(e,t,n){"use strict";function a(e,t){var n=ne[e]=S(J[z]);return K(n,{type:W,tag:e,description:t}),d||(n.description=t),n}function r(t,e){g(t);var n=w(e),r=k(n).concat(pe(n));return H(r,function(e){d&&!fe.call(n,e)||de(t,e,n[e])}),t}function i(e,t){var n=w(e),r=_(t,!0);if(n!==$||!m(ne,r)||m(re,r)){var a=Z(n,r);return!a||!m(ne,r)||m(n,B)&&n[B][r]||(a.enumerable=!0),a}}function o(e){var t=ee(w(e)),n=[];return H(t,function(e){m(ne,e)||m(L,e)||n.push(e)}),n}var s=n(19),l=n(21),u=n(61),c=n(74),d=n(33),f=n(126),p=n(192),h=n(20),m=n(31),v=n(147),y=n(28),g=n(29),b=n(52),w=n(54),_=n(105),E=n(89),S=n(90),k=n(111),O=n(110),C=n(302),D=n(136),T=n(91),x=n(37),P=n(121),j=n(40),M=n(38),N=n(125),A=n(107),L=n(85),R=n(99),I=n(23),F=n(229),V=n(227),U=n(92),Y=n(73),H=n(96).forEach,B=A("hidden"),W="Symbol",z="prototype",G=I("toPrimitive"),K=Y.set,q=Y.getterFor(W),$=Object[z],J=l.Symbol,Q=u("JSON","stringify"),Z=T.f,X=x.f,ee=C.f,te=P.f,ne=N("symbols"),re=N("op-symbols"),ae=N("string-to-symbol-registry"),ie=N("symbol-to-string-registry"),oe=N("wks"),se=l.QObject,le=!se||!se[z]||!se[z].findChild,ue=d&&h(function(){return 7!=S(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Z($,t);r&&delete $[t],X(e,t,n),r&&e!==$&&X($,t,r)}:X,ce=f&&"symbol"==typeof J.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof J},de=function(e,t,n){e===$&&de(re,t,n),g(e);var r=_(t,!0);return g(n),m(ne,r)?(n.enumerable?(m(e,B)&&e[B][r]&&(e[B][r]=!1),n=S(n,{enumerable:E(0,!1)})):(m(e,B)||X(e,B,E(1,{})),e[B][r]=!0),ue(e,r,n)):X(e,r,n)},fe=function(e){var t=_(e,!0),n=te.call(this,t);return!(this===$&&m(ne,t)&&!m(re,t))&&(!(n||!m(this,t)||!m(ne,t)||m(this,B)&&this[B][t])||n)},pe=function(e){var t=e===$,n=ee(t?re:w(e)),r=[];return H(n,function(e){!m(ne,e)||t&&!m($,e)||r.push(ne[e])}),r};f||(M((J=function(e){if(this instanceof J)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==e?String(e):void 0,n=R(t),r=function(e){this===$&&r.call(re,e),m(this,B)&&m(this[B],n)&&(this[B][n]=!1),ue(this,n,E(1,e))};return d&&le&&ue($,n,{configurable:!0,set:r}),a(n,t)})[z],"toString",function(){return q(this).tag}),P.f=fe,x.f=de,T.f=i,O.f=C.f=o,D.f=pe,d&&(X(J[z],"description",{configurable:!0,get:function(){return q(this).description}}),c||M($,"propertyIsEnumerable",fe,{unsafe:!0}))),p||(F.f=function(e){return a(I(e),e)}),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:J}),H(k(oe),function(e){V(e)}),s({target:W,stat:!0,forced:!f},{for:function(e){var t=String(e);if(m(ae,t))return ae[t];var n=J(t);return ae[t]=n,ie[n]=t,n},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(m(ie,e))return ie[e]},useSetter:function(){le=!0},useSimple:function(){le=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!d},{create:function(e,t){return void 0===t?S(e):r(S(e),t)},defineProperty:de,defineProperties:r,getOwnPropertyDescriptor:i}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:o,getOwnPropertySymbols:pe}),s({target:"Object",stat:!0,forced:h(function(){D.f(1)})},{getOwnPropertySymbols:function(e){return D.f(b(e))}}),Q&&s({target:"JSON",stat:!0,forced:!f||h(function(){var e=J();return"[null]"!=Q([e])||"{}"!=Q({a:e})||"{}"!=Q(Object(e))})},{stringify:function(e,t,n){for(var r,a=[e],i=1;i<arguments.length;)a.push(arguments[i++]);if((y(r=t)||void 0!==e)&&!ce(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ce(t))return t}),a[1]=t,Q.apply(null,a)}});J[z][G]||j(J[z],G,J[z].valueOf),U(J,W),L[B]=!0},function(e,t,n){"use strict";var r=n(19),a=n(33),i=n(21),o=n(31),s=n(28),l=n(37).f,u=n(200),c=i.Symbol;if(a&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},f=function(e){var t=arguments.length<1||void 0===e?void 0:String(e),n=this instanceof f?new c(t):void 0===t?c():c(t);return""===t&&(d[n]=!0),n};u(f,c);var p=f.prototype=c.prototype;p.constructor=f;var h=p.toString,m="Symbol(test)"==String(c("test")),v=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(o(d,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},function(e,t,n){n(227)("iterator")},function(e,t,n){var r=n(19),a=n(20),i=n(52),o=n(149),s=n(221);r({target:"Object",stat:!0,forced:a(function(){o(1)}),sham:!s},{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){n(19)({target:"Object",stat:!0},{setPrototypeOf:n(154)})},function(e,t,n){"use strict";n(12),n(13),n(14),n(42),n(138),n(62),n(10),n(72),n(5),n(83),n(7),n(30),n(249),n(8),n(49),n(45),n(9);var a=n(2),i=n(39);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"openEventEditor",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};t.event_id?this.openUrl("view_event",{event_id:t.event_id}):this.openUrl("create_event",{},t)}},{key:"printEvent",value:function(e){this.openUrl("print_event",{event_id:e})}},{key:"openDefaultRemindersPreferences",value:function(){this.openUrl("preferences.reminders")}},{key:"openEmailNotificationsPreferences",value:function(){this.openUrl("preferences.email-notifications")}},{key:"openAgendaPreferences",value:function(){this.openUrl("preferences.agenda")}},{key:"openSlackNotificationsPreferences",value:function(){this.openUrl("preferences.slack-notifications")}},{key:"openICalFeedsPreferences",value:function(){this.openUrl("preferences.ical-feeds")}},{key:"openPdfPrint",value:function(){this.openUrl("print_pdf")}},{key:"openSettings",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";window.location.href=this.getSettingsUrl(t)}},{key:"getSettingsUrl",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";return this.getAppUrl()+"/settings/"+t}},{key:"openUrl",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},a=2<arguments.length&&void 0!==n?n:{};window.teamup.history.push(this.getUrl(e,r,a))}},{key:"getUrl",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},a=2<arguments.length&&void 0!==n?n:{};if(void 0===this.routes[e])throw new Error("Unknown route name "+e);var i=this.routes[e];Object.keys(r).forEach(function(e){i=i.replace(":"+e,""+r[e])});var o=[];return Object.keys(a).forEach(function(e){void 0!==a[e]&&null!==a[e]&&("object"===s(a[e])?o.push(e+"="+encodeURIComponent(JSON.stringify(a[e]))):o.push(e+"="+encodeURIComponent(a[e])))}),0<o.length&&(i+="?"+o.join("&")),i}},{key:"getRawPath",value:function(e){if(void 0===this.routes[e])throw new Error("Unknown route name "+e);return this.routes[e]}},{key:"backToCalendar",value:function(){this.openUrl("calendar")}},{key:"getAppUrl",value:function(){if(!a.a.getAppKey())return a.a.getBaseUrl();if(0===a.a.getAppKey().indexOf("ks"))return a.a.getBaseUrl()+"/"+a.a.getAppKey();var e=Object(i.d)(a.a.getAppTitle()),t=window.URL_APP_TITLE&&0<e.length?"/"+e:"";return a.a.getBaseUrl()+"/c/"+a.a.getAppKey()+t}},{key:"getAbsoluteBaseUrl",value:function(){return window.location.origin+a.a.getBaseUrl()}}])&&o(t.prototype,n),r&&o(t,r),e}()),l=r.getAppUrl(),u=a.a.getLoggedInUser(),c=u&&(u.roles.includes("ROLE_ADMIN")||u.roles.includes("ROLE_SUPPORT")),d=u&&(u.roles.includes("ROLE_ADMIN")||u.roles.includes("ROLE_SALES"));r.routes={preferences:l+"/preferences","preferences.ical-feeds":l+"/preferences/ical-feeds","preferences.email-notifications":l+"/preferences/email-notifications","preferences.slack-notifications":l+"/preferences/slack-notifications","preferences.agenda":l+"/preferences/agenda","preferences.reminders":l+"/preferences/reminders","preferences.reminders.list":l+"/preferences/reminders/list","preferences.reminders.edit":l+"/preferences/reminders/edit/:resource_id",create_event:l+"/events/new",print_event:l+"/events/:event_id/print",view_event:l+"/events/:event_id",print_pdf:l+"/print",calendar:l+"","settings.general-settings":l+"/settings/general","settings.general-settings.list":l+"/settings/general/list","settings.general-settings.delete":l+"/settings/general/delete","settings.calendar-views":l+"/settings/calendar-views","settings.identity":l+"/settings/identity","settings.resources":l+"/settings/calendars","settings.resources.list":l+"/settings/calendars/list","settings.resources.create":l+"/settings/calendars/create/:type","settings.resources.edit":l+"/settings/calendars/edit/:resource_id","settings.resources.delete":l+"/settings/calendars/delete/:resource_id","settings.sharing":l+"/settings/sharing","settings.sharing.links":l+"/settings/sharing/links","settings.sharing.create":l+"/settings/sharing/create","settings.sharing.create_user_invitation":l+"/settings/sharing/create-user-invitation","settings.sharing.edit":l+"/settings/sharing/edit/:key_id","settings.sharing.delete":l+"/settings/sharing/delete/:key_id","settings.sharing.create_user":l+"/settings/sharing/create-user","settings.sharing.edit_user":l+"/settings/sharing/edit-user/:user_id","settings.sharing.delete_user":l+"/settings/sharing/delete-user/:user_id","settings.sharing.create_group":l+"/settings/sharing/create-group","settings.sharing.edit_group":l+"/settings/sharing/edit-group/:group_id","settings.sharing.delete_group":l+"/settings/sharing/delete-group/:group_id","settings.fields":l+"/settings/fields","settings.fields.list":l+"/settings/fields/list","settings.fields.create":l+"/settings/fields/create","settings.fields.edit":l+"/settings/fields/edit/:field_id","settings.fields.delete":l+"/settings/fields/delete/:field_id","settings.notifications":l+"/settings/notifications","settings.notifications.list":l+"/settings/notifications/list","settings.notifications.intro":l+"/settings/notifications/type/:type/:transport","settings.notifications.create":l+"/settings/notifications/edit/:type/:transport","settings.notifications.edit":l+"/settings/notifications/edit/:type/:transport/:subscription_id/:key_id","settings.notifications.delete":l+"/settings/notifications/delete/:type/:transport/:subscription_id/:key_id","settings.notifications.duplicate":l+"/settings/notifications/edit/:type/:transport/:subscription_id/:key_id/duplicate","settings.subscription":l+"/settings/subscription","settings.subscription.overview":l+"/settings/subscription/overview","settings.subscription.preview":l+"/settings/subscription/change/:plan","settings.subscription.billing":l+"/settings/subscription/billing","settings.subscription.billing_v1to2":l+"/settings/subscription/upgrade-billing","settings.subscription.address":l+"/settings/subscription/address","settings.subscription.payment":l+"/settings/subscription/payment","settings.subscription.cancel":l+"/settings/subscription/cancel","settings.subscription.delete_credit_card":l+"/settings/subscription/delete-credit-card","settings.date-time":l+"/settings/date-time","settings.import-events":l+"/settings/import-events","settings.export-events":l+"/settings/export-events","settings.integrations":l+"/settings/integrations","settings.integrations.slack.list":l+"/settings/integrations/slack/list","settings.integrations.slack.create":l+"/settings/integrations/slack/create","settings.integrations.slack.delete":l+"/settings/integrations/slack/delete/:key_id/:team_id/:channel_id"},c&&(r.routes["admin.search-calendar"]=a.a.getAdministrationBaseUrl()+"/search/calendar",r.routes["admin.search-user"]=a.a.getAdministrationBaseUrl()+"/search/user",r.routes["admin.search-email"]=a.a.getAdministrationBaseUrl()+"/search/email",r.routes["admin.newsletter"]=a.a.getAdministrationBaseUrl()+"/newsletter"),d&&(r.routes["admin.subscription"]=a.a.getAdministrationBaseUrl()+"/subscription/index",r.routes["admin.billing"]=a.a.getAdministrationBaseUrl()+"/billing/:query",r.routes["admin.billing.overdue_orgs"]=a.a.getAdministrationBaseUrl()+"/billing/overdue-orgs"),t.a=r},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(32),a=n(65);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,a["a"]),t=e,(n=[{key:"setStatus",value:function(e,t,n,r,a){var i=!(2<arguments.length&&void 0!==n)||n,o=3<arguments.length&&void 0!==r?r:{},s=4<arguments.length?a:void 0;this.dispatch({message:e,type:t,keep:i,params:o,id:s})}},{key:"flashStatus",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};d.setStatus(e,t,!1,r)}},{key:"alert",value:function(e,t,n,r){var a=2<arguments.length&&void 0!==n?n:{},i=3<arguments.length?r:void 0;a.title=e,d.setStatus(t,"alert",!0,a,i)}},{key:"clear",value:function(){this.dispatch()}},{key:"clearType",value:function(e){this.dispatch(e)}}])&&o(t.prototype,n),r&&o(t,r),e}(),d=r.a.createActions(c);t.a=d},function(e,t,n){var c=n(21),d=n(91).f,f=n(40),p=n(38),h=n(118),m=n(200),v=n(108);e.exports=function(e,t){var n,r,a,i,o,s=e.target,l=e.global,u=e.stat;if(n=l?c:u?c[s]||h(s,{}):(c[s]||{}).prototype)for(r in t){if(i=t[r],a=e.noTargetGet?(o=d(n,r))&&o.value:n[r],!v(l?r:s+(u?".":"#")+r,e.forced)&&void 0!==a){if(typeof i==typeof a)continue;m(i,a)}(e.sham||a&&a.sham)&&f(i,"sham",!0),p(n,r,i,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(n,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,t(159))},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,a.a.Component),t=e,(n=[{key:"render",value:function(){var e=this.props.htmlFor?"label":"p";return a.a.createElement(i.a,{section:this.props.section,message:this.props.message,component:e,htmlFor:this.props.htmlFor,className:"page__settings__content-title"})}}])&&s(t.prototype,n),r&&s(t,r),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,m(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(e,a.a.Component),t=e,(n=[{key:"renderLabel",value:function(){if("string"==typeof this.props.message||this.props.spacer)return a.a.createElement(d,Object.assign({message:this.props.message||""},this.props))}},{key:"render",value:function(){var e={};return this.props.fullWidth&&(e.width="98%"),a.a.createElement("div",{className:this.props.className+(!0===this.props.spacer?" "+this.props.className+"-spaced":"")},this.renderLabel(),a.a.createElement("div",{className:"page__settings__content-input",style:e},this.props.children))}}])&&p(t.prototype,n),r&&p(t,r),e}();y.defaultProps={className:"page__settings__content-main",spacer:!1,fullWidth:!1};t.a=y},function(e,t,n){var r=n(21),a=n(125),i=n(31),o=n(99),s=n(126),l=n(192),u=a("wks"),c=r.Symbol,d=l?c:o;e.exports=function(e){return i(u,e)||(s&&i(c,e)?u[e]=c[e]:u[e]=d("Symbol."+e)),u[e]}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(5),n(87),n(30),n(49);var r=n(44);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}var e,t,n;return e=o,n=[{key:"getLocales",value:function(){return["en","en_GB","de","iso","dashed"]}},{key:"get",value:function(e){var t,n=r.a.getState();return"time"===e?n.use24hTimes?"G:i":"g:ia":"time_moment"===e?n.use24hTimes?"H:mm":"h:mma":"short_time"===e?n.use24hTimes?"G:i":"ga":"short_time_moment"===e?n.use24hTimes?"H:mm":"ha":"upper_time"===e?n.use24hTimes?"G:i":"g:i A":"upper_time_moment"===e?n.use24hTimes?"H:mm":"h:mm A":(void 0===(t=n.dateFormats[e])&&console&&console.error&&console.error("Missing date format: "+e),t)}},{key:"renderShortestTime",value:function(e){return"00"===e.format("mm")?e.format(this.get("short_time_moment")):e.format(this.get("time_moment"))}},{key:"renderShortestTimes",value:function(e,t){return e.isSame(t)?this.renderShortestTime(e):this.renderShortestTime(e)+" - "+this.renderShortestTime(t)}},{key:"getLocale",value:function(){return r.a.getState().dateLocale}},{key:"use24hTimes",value:function(){return r.a.getState().use24hTimes}},{key:"renderShortTime",value:function(e,t,n){var r,a=o.get("time_moment");function i(e){return e.replace(/\.\.+/g,".")}return n?(r=o.get("short_weekday_moment"),e.isSame(t,"day")?i(e.format(r)):i(e.format(r)+" - "+t.format(r))):(r=o.get("short_weekday_time_moment").replace("%time%",a),e.isSame(t,"day")?i(e.format(r)+" - "+t.format(a)):i(e.format(r)+" - "+t.format(r)))}},{key:"diffDays",value:function(e,t){var n=parseInt(t.clone().startOf("day").format("X"),10)-parseInt(e.clone().startOf("day").format("X"),10);return Math.round(n/86400)}}],(t=null)&&a(e.prototype,t),n&&a(e,n),o}()},function(e,t,n){var r=n(33),a=n(37).f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/;!r||"name"in i||a(i,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){"use strict";n.d(t,"a",function(){return d});n(12),n(13),n(14),n(10),n(25),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),o=n.n(r),s=n(104);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function e(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=l(this,u(e).apply(this,arguments))).handleKeyDown=function(e){"text"!==t.props.type&&"password"!==t.props.type||13==e.keyCode&&t.props.onBlur&&t.props.onBlur(e)},t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,o.a.Component),t=e,(n=[{key:"getValue",value:function(){return this.ref?"checkbox"===this.props.type?this.ref.checked:this.ref.value:"checkbox"!==this.props.type&&""}},{key:"setValue",value:function(e){this.ref&&(this.ref.value=e)}},{key:"render",value:function(){var e,t=this,n=this.props.id||this.props.name,r="checkbox"===this.props.type||"radio"===this.props.type?"":"settings__input-big",a=this.props.defaultValue;this.props.className&&(r+=" "+this.props.className),"checkbox"===this.props.type&&(e="on"===(a=this.props.hasOwnProperty("defaultValue")?!0===this.props.defaultValue?"on":this.props.defaultValue:"on"));var i=Object(s.a)(this.props,["name","defaultValue","type","className"]);return o.a.createElement("input",Object.assign({ref:function(e){t.ref=e},id:n,onKeyDown:this.handleKeyDown,type:this.props.type,name:this.props.name,defaultValue:a,className:r,defaultChecked:e},i))}}])&&i(t.prototype,n),r&&i(t,r),e}();d.defaultProps={type:"text"}},function(e,t,n){"use strict";(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=n(320)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(28);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var r=n(19),a=n(116);r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(263),a=new(n.n(r).a)({stateKey:"state"});t.a=a},function(e,t,n){var r=n(20);e.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(0),d=n.n(r),a=n(6),i=n.n(a),o=n(48),f=n.n(o),s=n(59),c=n.n(s);function l(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e&&e.apply(void 0,n)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var p="react-contextmenu",h="react-contextmenu--visible",m="react-contextmenu-wrapper",v="react-contextmenu-item",y="react-contextmenu-item--active",g="react-contextmenu-item--disabled",b="react-contextmenu-item--divider",w="react-contextmenu-item--selected",_="react-contextmenu-submenu",E={},S=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),k="REACT_CONTEXTMENU_SHOW",O="REACT_CONTEXTMENU_HIDE";function C(e,t,n){var r=2<arguments.length&&void 0!==n?n:window,a=void 0;"function"==typeof window.CustomEvent?a=new window.CustomEvent(e,{detail:t}):(a=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),r&&(r.dispatchEvent(a),c()(E,t))}function D(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];C(k,c()({},e,{type:k}),t)}function T(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];C(O,c()({},e,{type:O}),t)}var x=new function e(){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleShowEvent=function(e){for(var t in r.callbacks)u(r.callbacks,t)&&r.callbacks[t].show(e)},this.handleHideEvent=function(e){for(var t in r.callbacks)u(r.callbacks,t)&&r.callbacks[t].hide(e)},this.register=function(e,t){var n=Math.random().toString(36).substring(7);return r.callbacks[n]={show:e,hide:t},n},this.unregister=function(e){e&&r.callbacks[e]&&delete r.callbacks[e]},this.callbacks={},S&&(window.addEventListener(k,this.handleShowEvent),window.addEventListener(O,this.handleHideEvent))},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e};function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(R,r.Component),j(R,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.disabled,a=n.divider,i=n.children,o=n.attributes,s=n.selected,l=f()(v,o.className,(N(e={},f()(g,o.disabledClassName),r),N(e,f()(b,o.dividerClassName),a),N(e,f()(w,o.selectedClassName),s),e));return d.a.createElement("div",P({},o,{className:l,role:"menuitem",tabIndex:"-1","aria-disabled":r?"true":"false","aria-orientation":a?"horizontal":null,ref:function(e){t.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),a?null:i)}}]),R);function R(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,R);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=n=A(this,(e=R.__proto__||Object.getPrototypeOf(R)).call.apply(e,[this].concat(a)))).handleClick=function(e){e.preventDefault(),n.props.disabled||n.props.divider||(l(n.props.onClick,e,c()({},n.props.data,E.data),E.target),n.props.preventClose||T())},A(n,t)}L.propTypes={children:i.a.node,attributes:i.a.object,data:i.a.object,disabled:i.a.bool,divider:i.a.bool,preventClose:i.a.bool,onClick:i.a.func,selected:i.a.bool,onMouseMove:i.a.func,onMouseLeave:i.a.func},L.defaultProps={disabled:!1,data:{},divider:!1,attributes:{},preventClose:!1,onClick:function(){return null},children:null,selected:!1,onMouseMove:function(){return null},onMouseLeave:function(){return null}};var I=L;var F=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(V,r.Component),V);function V(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,V);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,e));return U.call(t),t.seletedItemRef=null,t.state={selectedItem:null,forceSubMenuOpen:!1},t}F.propTypes={children:i.a.node.isRequired};var U=function(){var a=this;this.handleKeyNavigation=function(e){if(!1!==a.state.isVisible)switch(e.keyCode){case 37:case 27:e.preventDefault(),a.hideMenu(e);break;case 38:e.preventDefault(),a.selectChildren(!0);break;case 40:e.preventDefault(),a.selectChildren(!1);break;case 39:a.tryToOpenSubMenu(e);break;case 13:e.preventDefault(),a.tryToOpenSubMenu(e);var t=a.seletedItemRef&&a.seletedItemRef.props&&a.seletedItemRef.props.disabled;a.seletedItemRef&&a.seletedItemRef.ref instanceof HTMLElement&&!t?a.seletedItemRef.ref.click():a.hideMenu(e)}},this.handleForceClose=function(){a.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(e){a.state.selectedItem&&a.state.selectedItem.type===a.getSubMenuType()&&(e.preventDefault(),a.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(e){var t=a.state.selectedItem,n=[];d.a.Children.forEach(a.props.children,function e(t){t&&([I,a.getSubMenuType()].indexOf(t.type)<0?d.a.Children.forEach(t.props.children,e):t.props.divider||n.push(t))});var r=n.indexOf(t);r<0?a.setState({selectedItem:e?n[n.length-1]:n[0],forceSubMenuOpen:!1}):e?a.setState({selectedItem:n[r-1<0?n.length-1:r-1],forceSubMenuOpen:!1}):a.setState({selectedItem:n[r+1<n.length?r+1:0],forceSubMenuOpen:!1})},this.onChildMouseMove=function(e){a.state.selectedItem!==e&&a.setState({selectedItem:e,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){a.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(e){return d.a.Children.map(e,function(e){var t={};return d.a.isValidElement(e)?[I,a.getSubMenuType()].indexOf(e.type)<0?(t.children=a.renderChildren(e.props.children),d.a.cloneElement(e,t)):(t.onMouseLeave=a.onChildMouseLeave.bind(a),e.type===a.getSubMenuType()&&(t.forceOpen=a.state.forceSubMenuOpen&&a.state.selectedItem===e,t.forceClose=a.handleForceClose,t.parentKeyNavigationHandler=a.handleKeyNavigation),e.props.divider||a.state.selectedItem!==e?t.onMouseMove=function(){return a.onChildMouseMove(e)}:(t.selected=!0,t.ref=function(e){a.seletedItemRef=e}),d.a.cloneElement(e,t)):e})}},Y=F,H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e};function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(K,Y),B(K,[{key:"componentDidMount",value:function(){this.listenId=x.register(function(){},this.hideMenu)}},{key:"getSubMenuType",value:function(){return K}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var t=this;this.isVisibilityChange&&(this.props.forceOpen||this.state.visible?(window.requestAnimationFrame||setTimeout)(function(){var e=t.props.rtl?t.getRTLMenuPosition():t.getMenuPosition();t.subMenu.style.removeProperty("top"),t.subMenu.style.removeProperty("bottom"),t.subMenu.style.removeProperty("left"),t.subMenu.style.removeProperty("right"),u(e,"top")&&(t.subMenu.style.top=e.top),u(e,"left")&&(t.subMenu.style.left=e.left),u(e,"bottom")&&(t.subMenu.style.bottom=e.bottom),u(e,"right")&&(t.subMenu.style.right=e.right),t.subMenu.classList.add(h),t.registerHandlers(),t.setState({selectedItem:null})}):(this.subMenu.addEventListener("transitionend",function e(){t.subMenu.removeEventListener("transitionend",e),t.subMenu.style.removeProperty("bottom"),t.subMenu.style.removeProperty("right"),t.subMenu.style.top=0,t.subMenu.style.left="100%",t.unregisterHandlers()}),this.subMenu.classList.remove(h)))}},{key:"componentWillUnmount",value:function(){this.listenId&&x.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers()}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.attributes,a=t.disabled,i=t.title,o=t.selected,s=this.state.visible,l={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:f()(v,_,r.listClassName),style:{position:"relative"}},u={className:f()(v,r.className,(z(e={},f()(g,r.disabledClassName),a),z(e,f()(y,r.visibleClassName),s),z(e,f()(w,r.selectedClassName),o),e)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},c={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:f()(p,this.props.className)};return d.a.createElement("nav",H({},l,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),d.a.createElement("div",H({},r,u),i),d.a.createElement("nav",H({},c,{role:"menu",tabIndex:"-1"}),this.renderChildren(n)))}}]),K);function K(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,K);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,e));return i.getMenuPosition=function(){var e=window,t=e.innerWidth,n=e.innerHeight,r=i.subMenu.getBoundingClientRect(),a={};return r.bottom>n?a.bottom=0:a.top=0,r.right<t?a.left="100%":a.right="100%",a},i.getRTLMenuPosition=function(){var e=window.innerHeight,t=i.subMenu.getBoundingClientRect(),n={};return t.bottom>e?n.bottom=0:n.top=0,t.left<0?n.left="100%":n.right="100%",n},i.hideMenu=function(e){e.detail&&e.detail.id&&i.menu&&e.detail.id!==i.menu.id||(i.props.forceOpen&&i.props.forceClose(),i.setState({visible:!1,selectedItem:null}),i.unregisterHandlers())},i.handleClick=function(e){e.preventDefault(),i.props.disabled||l(i.props.onClick,e,c()({},i.props.data,E.data),E.target)},i.handleMouseEnter=function(){i.closetimer&&clearTimeout(i.closetimer),i.props.disabled||i.state.visible||(i.opentimer=setTimeout(function(){return i.setState({visible:!0,selectedItem:null})},i.props.hoverDelay))},i.handleMouseLeave=function(){i.opentimer&&clearTimeout(i.opentimer),i.state.visible&&(i.closetimer=setTimeout(function(){return i.setState({visible:!1,selectedItem:null})},i.props.hoverDelay))},i.menuRef=function(e){i.menu=e},i.subMenuRef=function(e){i.subMenu=e},i.registerHandlers=function(){document.removeEventListener("keydown",i.props.parentKeyNavigationHandler),document.addEventListener("keydown",i.handleKeyNavigation)},i.unregisterHandlers=function(){document.removeEventListener("keydown",i.handleKeyNavigation),document.addEventListener("keydown",i.props.parentKeyNavigationHandler)},i.state=c()({},i.state,{visible:!1}),i}G.propTypes={children:i.a.node.isRequired,attributes:i.a.object,title:i.a.node.isRequired,className:i.a.string,disabled:i.a.bool,hoverDelay:i.a.number,rtl:i.a.bool,selected:i.a.bool,onMouseMove:i.a.func,onMouseOut:i.a.func,forceOpen:i.a.bool,forceClose:i.a.func,parentKeyNavigationHandler:i.a.func},G.defaultProps={disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var q=G,$=function(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),e};function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Z,Y),$(Z,[{key:"getSubMenuType",value:function(){return q}},{key:"componentDidMount",value:function(){this.listenId=x.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var o=this;if(this.state.isVisible){var s=window.requestAnimationFrame||setTimeout;s(function(){var e=o.state,t=e.x,n=e.y,r=o.getMenuPosition(t,n),a=r.top,i=r.left;s(function(){o.menu&&(o.menu.style.top=a+"px",o.menu.style.left=i+"px",o.menu.style.opacity=1,o.menu.style.pointerEvents="auto")})})}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&x.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e,t,n,r=this.props,a=r.children,i=r.className,o=r.style,s=this.state.isVisible,l=c()({},o,{position:"fixed",opacity:0,pointerEvents:"none"}),u=f()(p,i,(n=s,(t=h)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return d.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:l,className:u,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(a))}}]),Z);function Z(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Z);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,e));return s.registerHandlers=function(){document.addEventListener("mousedown",s.handleOutsideClick),document.addEventListener("touchstart",s.handleOutsideClick),document.addEventListener("scroll",s.handleHide),document.addEventListener("contextmenu",s.handleHide),document.addEventListener("keydown",s.handleKeyNavigation),window.addEventListener("resize",s.handleHide)},s.unregisterHandlers=function(){document.removeEventListener("mousedown",s.handleOutsideClick),document.removeEventListener("touchstart",s.handleOutsideClick),document.removeEventListener("scroll",s.handleHide),document.removeEventListener("contextmenu",s.handleHide),document.removeEventListener("keydown",s.handleKeyNavigation),window.removeEventListener("resize",s.handleHide)},s.handleShow=function(e){if(e.detail.id===s.props.id&&!s.state.isVisible){var t=e.detail.position,n=t.x,r=t.y;s.setState({isVisible:!0,x:n,y:r}),s.registerHandlers(),l(s.props.onShow,e)}},s.handleHide=function(e){!s.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==s.props.id||(s.unregisterHandlers(),s.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),l(s.props.onHide,e))},s.handleOutsideClick=function(e){s.menu.contains(e.target)||T()},s.handleMouseLeave=function(e){e.preventDefault(),l(s.props.onMouseLeave,e,c()({},s.props.data,E.data),E.target),s.props.hideOnLeave&&T()},s.handleContextMenu=function(e){e.preventDefault(),s.handleHide(e)},s.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||T()},s.getMenuPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n={top:t,left:e};if(!s.menu)return n;var r=window,a=r.innerWidth,i=r.innerHeight,o=s.menu.getBoundingClientRect();return t+o.height>i&&(n.top-=o.height),e+o.width>a&&(n.left-=o.width),n.top<0&&(n.top=o.height<i?(i-o.height)/2:0),n.left<0&&(n.left=o.width<a?(a-o.width)/2:0),n},s.menuRef=function(e){s.menu=e},s.state=c()({},s.state,{x:0,y:0,isVisible:!1}),s}Q.propTypes={id:i.a.string.isRequired,children:i.a.node.isRequired,data:i.a.object,className:i.a.string,hideOnLeave:i.a.bool,onHide:i.a.func,onMouseLeave:i.a.func,onShow:i.a.func,style:i.a.object},Q.defaultProps={className:"",data:{},hideOnLeave:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},style:{}};var X=Q,ee=function(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e};function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var re=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ae,r.Component),ee(ae,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,r=e.children,a=c()({},n,{className:f()(m,n.className),onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return d.a.createElement(t,a,r)}}]),ae);function ae(){var e,t,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ae);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=i=ne(this,(e=ae.__proto__||Object.getPrototypeOf(ae)).call.apply(e,[this].concat(r)))).touchHandled=!1,i.handleMouseDown=function(e){0<=i.props.holdToDisplay&&0===e.button&&(e.persist(),e.stopPropagation(),i.mouseDownTimeoutId=setTimeout(function(){return i.handleContextClick(e)},i.props.holdToDisplay)),l(i.props.attributes.onMouseDown,e)},i.handleMouseUp=function(e){0===e.button&&clearTimeout(i.mouseDownTimeoutId),l(i.props.attributes.onMouseUp,e)},i.handleMouseOut=function(e){0===e.button&&clearTimeout(i.mouseDownTimeoutId),l(i.props.attributes.onMouseOut,e)},i.handleTouchstart=function(e){i.touchHandled=!1,0<=i.props.holdToDisplay&&(e.persist(),e.stopPropagation(),i.touchstartTimeoutId=setTimeout(function(){i.handleContextClick(e),i.touchHandled=!0},i.props.holdToDisplay)),l(i.props.attributes.onTouchStart,e)},i.handleTouchEnd=function(e){i.touchHandled&&e.preventDefault(),clearTimeout(i.touchstartTimeoutId),l(i.props.attributes.onTouchEnd,e)},i.handleContextMenu=function(e){i.handleContextClick(e),l(i.props.attributes.onContextMenu,e)},i.handleContextClick=function(e){if(!i.props.disable){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,n=e.clientY||e.touches&&e.touches[0].pageY;T();var r=l(i.props.collect,i.props),a={position:{x:t,y:n},target:i.elem,id:i.props.id,data:r};r&&"function"==typeof r.then?r.then(function(e){a.data=e,D(a)}):D(a)}},i.elemRef=function(e){i.elem=e},ne(i,t)}re.propTypes={id:i.a.string.isRequired,children:i.a.node.isRequired,attributes:i.a.object,collect:i.a.func,disable:i.a.bool,holdToDisplay:i.a.number,renderTag:i.a.oneOfType([i.a.node,i.a.func])},re.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div"};var ie=re;Object.assign;[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(ie.propTypes)),["children"]);n.d(t,"a",function(){return X}),n.d(t,"b",function(){return ie}),n.d(t,"c",function(){return I}),n.d(t,"d",function(){return q}),n.d(t,"e",function(){return T}),n.d(t,"f",function(){return D})},function(e,t,n){var r=n(19),a=n(288);r({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(e,t,n){"use strict";var r=n(19),a=n(96).map,i=n(20),o=n(150)("map"),s=o&&!i(function(){[].map.call({length:-1,0:1},function(e){throw e})});r({target:"Array",proto:!0,forced:!o||!s},{map:function(e,t){return a(this,e,1<arguments.length?t:void 0)}})},function(e,t,n){var r=n(33),a=n(160),i=n(29),o=n(105),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=o(t,!0),i(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var s=n(21),l=n(40),u=n(31),c=n(118),r=n(124),a=n(73),i=a.get,d=a.enforce,f=String(String).split("String");(e.exports=function(e,t,n,r){var a=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,o=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||u(n,"name")||l(n,"name",t),d(n).source=f.join("string"==typeof t?t:"")),e!==s?(a?!o&&e[t]&&(i=!0):delete e[t],i?e[t]=n:l(e,t,n)):i?e[t]=n:c(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&i(this).source||r(this)})},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return l});n(62),n(72),n(56),n(7),n(194),n(30),n(55),n(49),n(139),n(88);function r(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}function a(e){return null==e?"":e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function i(e){var t=e.trim(),n=[];if(-1!==t.indexOf(">")){var r,a=t.split(">");for(r in a)a.hasOwnProperty(r)&&""!==a[r].trim()&&n.push(a[r].trim());if(0<n.length)return n.join(" > ")}return e}function o(e){return/^([-!#-'*+\/-9=?A-Z^-~]+(\.[-!#-'*+\/-9=?A-Z^-~]+)*|"([]!#-[^-~ \t]|(\\[\t -~]))+")@[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?(\.[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?)+$/i.test(e)}function s(e){return encodeURIComponent(e)}function l(e){var t=e,n=document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""}},function(e,t,n){var r=n(33),a=n(37),i=n(89);e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(12),n(13),n(14),n(62),n(10),n(5),n(15),n(16),n(7),n(30),n(8),n(58),n(9);var r=n(0),a=n.n(r),i=n(27),o=n.n(i),s=n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function e(){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=c(this,d(e).apply(this,arguments))).yesButton=null,r.noButton=null,r.handleKeyDown=function(e){var t=e.target;if(-1===t.className.indexOf("select-widget-input")&&"flatpickr-input"!==t.className&&0!==t.className.indexOf("flatpickr-")&&("INPUT"!==t.tagName||13===e.keyCode||27===e.keyCode)&&!t.className.match("event-signup__input")){var n=!1;if(27===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),r.props.onEscape?r.props.onEscape():r.props.onClose?r.props.onClose():r.props.onNo?r.props.onNo():r.props.onYes&&r.props.onYes()),13!==e.keyCode&&32!==e.keyCode||(r.yesButton&&o.a.findDOMNode(r.yesButton)===t?(r.props.onYes(),n=!0):r.noButton&&o.a.findDOMNode(r.noButton)===t?(r.props.onNo(),n=!0):r.props.onEnter&&(r.props.onEnter(),n=!0)),9===e.keyCode){if(r.props.onTab&&!1===r.props.onTab(e))return;n=!0,r.yesButton&&o.a.findDOMNode(r.yesButton)===document.activeElement&&r.noButton?o.a.findDOMNode(r.noButton).focus():r.noButton&&o.a.findDOMNode(r.noButton)===document.activeElement&&r.yesButton?o.a.findDOMNode(r.yesButton).focus():r.yesButton?o.a.findDOMNode(r.yesButton).focus():r.noButton&&o.a.findDOMNode(r.noButton).focus()}n&&(e.preventDefault(),e.stopImmediatePropagation())}},r.moveInView=function(e){if(e){var t=e.getBoundingClientRect();t.top<0&&(e.style.top=10-t.top+"px",e.style.position="relative")}},r}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(e,a.a.Component),t=e,(n=[{key:"componentDidMount",value:function(){this.props.handleKeyDown&&document.body.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){this.props.handleKeyDown&&document.body.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"renderTitle",value:function(){return this.props.title?a.a.createElement(s.a,{component:"h1",message:this.props.title}):null}},{key:"renderMessage",value:function(){return this.props.message?a.a.createElement(s.a,{component:"p",message:this.props.message,dangerouslyAllowUnescapedHTML:!0}):null}},{key:"renderClose",value:function(){return this.props.onClose&&a.a.createElement("a",{className:"button ghost close-icon",onClick:this.props.onClose},a.a.createElement("i",{className:"sprite-event-close"}))}},{key:"renderButtons",value:function(){var t=this;return a.a.createElement("p",{className:"confirm-options"},this.props.onYes?a.a.createElement(s.a,{component:"button",ref:function(e){t.yesButton=e},className:this.props.yesClassName,disabled:this.props.yesDisabled,onClick:this.props.onYes,message:this.props.yesText}):null,this.props.onNo?a.a.createElement(s.a,{component:"button",ref:function(e){t.noButton=e},disabled:this.props.noDisabled,className:this.props.noClassName,onClick:this.props.onNo,message:this.props.noText}):null)}},{key:"render",value:function(){return a.a.createElement("div",{className:"modal modal-confirm "+this.props.className},a.a.createElement("div",{className:"modal__window",ref:this.moveInView},this.renderTitle(),this.renderClose(),this.renderMessage(),this.props.children,(this.props.onYes||this.props.onNo)&&this.renderButtons()))}}])&&u(t.prototype,n),r&&u(t,r),e}();p.defaultProps={className:"",yesClassName:"button primary",noClassName:"button",handleKeyDown:!0,yesText:"yes",noText:"no"}},function(e,t,n){"use strict";var r=n(19),a=n(214);r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},function(e,t,n){"use strict";n.d(t,"a",function(){return j});var S=n(158),r=n(82),a=n(0),k=n.n(a),i=n(114),O=(n(6),n(60)),C=n(101),D=n(117);k.a.Component;k.a.Component;function T(e,t){return"function"==typeof e?e(t):e}function x(e,t){return"string"==typeof e?Object(i.c)(e,null,null,t):e}function d(e){return e}var f=k.a.forwardRef;void 0===f&&(f=d);var p=f(function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,i=Object(C.a)(e,["innerRef","navigate","onClick"]),o=i.target,s=Object(O.a)({},i,{onClick:function(t){try{a&&a(t)}catch(e){throw t.preventDefault(),e}var e;t.defaultPrevented||0!==t.button||o&&"_self"!==o||((e=t).metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(t.preventDefault(),r())}});return s.ref=d!==f&&t||n,k.a.createElement("a",s)});function P(e){return e}var j=f(function(e,i){var t=e.component,o=void 0===t?p:t,s=e.replace,l=e.to,u=e.innerRef,c=Object(C.a)(e,["component","replace","to","innerRef"]);return k.a.createElement(S.e.Consumer,null,function(t){t||Object(D.a)(!1);var n=t.history,e=x(T(l,t.location),t.location),r=e?n.createHref(e):"",a=Object(O.a)({},c,{href:r,navigate:function(){var e=T(l,t.location);(s?n.replace:n.push)(e)}});return d!==f?a.ref=i||u:a.innerRef=u,k.a.createElement(o,a)})}),M=k.a.forwardRef;void 0===M&&(M=P);M(function(e,c){var t=e["aria-current"],d=void 0===t?"page":t,n=e.activeClassName,f=void 0===n?"active":n,p=e.activeStyle,h=e.className,m=e.exact,v=e.isActive,y=e.location,g=e.strict,b=e.style,w=e.to,_=e.innerRef,E=Object(C.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return k.a.createElement(S.e.Consumer,null,function(e){e||Object(D.a)(!1);var t=y||e.location,n=x(T(w,t),t),r=n.pathname,a=r&&r.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),i=a?Object(S.f)(t.pathname,{path:a,exact:m,strict:g}):null,o=!!(v?v(i,t):i),s=o?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(h,f):h,l=o?Object(O.a)({},b,{},p):b,u=Object(O.a)({"aria-current":o&&d||null,className:s,style:l,to:n},E);return P!==M?u.ref=c||_:u.innerRef=_,k.a.createElement(j,u)})})},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(32),a=n(130),i=n(2),o=n(81),s=n(71);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n,r){o.a.setLanguage(e),o.a.loadSections(t,n,function(e){r.state.language=e.language,r.state.translationMessages=e.translationMessages,r.state.dateLocale=e.dateLocale,r.state.dateFormats=e.dateFormats,r.state.use24hTimes=e.use24hTimes,r.emitChange()})}var h=function(){function r(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,(e=!(n=c(r).call(this))||"object"!==l(n)&&"function"!=typeof n?d(t):n).sections=[],e.state={language:i.a.getLanguage(),translationMessages:{},dateLocale:"en",use24hTimes:!0,dateFormats:{}},e.sections=i.a.getLanguageSections(),e.bindActions({handleLanguageChange:a.a.setLanguage,handleSectionsLoading:a.a.loadSections,handleDateTimeChange:a.a.setDateLocale}),p(e.state.language,e.sections,i.a.getDateLocale(),d(e)),e}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,s["a"]),e=r,(t=[{key:"handleLanguageChange",value:function(e){p(e,this.sections,this.state.dateLocale,this)}},{key:"handleDateTimeChange",value:function(e){var t=this,n=e.dateLocale,r=e.use24hTimes;o.a.setUse24hTimes(r),o.a.loadSections(this.sections,n,function(e){t.state.dateLocale=e.dateLocale,t.state.use24hTimes=e.use24hTimes,t.state.dateFormats=e.dateFormats})}},{key:"handleSectionsLoading",value:function(e){this.sections=e,p(this.state.language,e,this.state.dateLocale,this)}}])&&u(e.prototype,t),n&&u(e,n),r}();t.a=r.a.createStore(h,"TranslationStore")},function(e,t,n){var r=n(21),a=n(217),i=n(214),o=n(40);for(var s in a){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(e){u.forEach=i}}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(25),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(98),o=n(1),s=n(4),l=n(70);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=d(this,f(n).call(this,e))).ref=null,t.handleChange=function(e){t.props.disabled||(t.props.onChange&&t.props.onChange(e),t.setState({checked:e.currentTarget.checked}))},t.handleTextChange=function(e){t.ref&&t.ref.click()},t.onKeyDown=function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),t.ref&&t.ref.click())},t.state={checked:t.props.defaultChecked},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,a.a.Component),e=n,(t=[{key:"getValue",value:function(){return this.state.checked}},{key:"setValue",value:function(e){this.setState({checked:e})}},{key:"renderInput",value:function(){var t=this;return a.a.createElement("input",{type:"checkbox",ref:function(e){t.ref=e},id:this.props.id||this.props.name,name:this.props.name,onChange:this.handleChange,checked:this.state.checked,className:this.props.disabled?"form__checkbox-disabled":this.state.checked?"form__checkbox-on":"form__checkbox-off",value:void 0===this.props.value?this.state.checked?1:0:this.props.value})}},{key:"renderMockup",value:function(){var e;if(this.props.enabledTitle&&this.props.disabledTitle){var t=this.state.checked?this.props.enabledTitle:this.props.disabledTitle;e=s.a.translate(this.props.localeSection,t)}return a.a.createElement("label",{htmlFor:this.props.id||this.props.name,title:e,tabIndex:this.props.disabled?-1:this.props.tabIndex,onKeyDown:this.onKeyDown})}},{key:"render",value:function(){var e=this.props.type,t="toggle"===e?"form__toggle":"big"===e?"form__checkbox-big":"form__checkbox";return this.props.className&&(t+=" "+this.props.className),a.a.createElement("div",{className:t,style:this.props.style},a.a.createElement("div",{className:"input"},this.renderInput(),this.renderMockup()),this.props.text&&a.a.createElement("div",{className:"label"},a.a.createElement(o.a,{message:this.props.text,onClick:this.handleTextChange,className:"chx-span",dangerouslyAllowUnescapedHTML:!0}),this.props.helpUrl&&a.a.createElement("a",{href:this.props.helpUrl,target:"_blank",rel:"noreferrer noopener external",style:{marginLeft:"8px"}},a.a.createElement("i",{className:"sprite-icon-help"}))))}}])&&c(e.prototype,t),r&&c(e,r),n}();h.defaultProps={disabled:!1,style:{},tabIndex:0,toggle:!1},t.a=Object(l.b)(Object(i.a)(h))},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var a=s.apply(null,n);a&&e.push(a)}else if("object"==r)for(var i in n)o.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(122),k=n(29),f=n(52),O=n(51),C=n(86),i=n(47),D=n(157),T=n(123),x=Math.max,P=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,function(a,_,E){return[function(e,t){var n=i(this),r=null==e?void 0:e[a];return void 0!==r?r.call(e,n,t):_.call(String(n),e,t)},function(e,t){var n=E(_,e,this,t);if(n.done)return n.value;var r=k(e),a=String(this),i="function"==typeof t;i||(t=String(t));var o=r.global;if(o){var s=r.unicode;r.lastIndex=0}for(var l=[];;){var u=T(r,a);if(null===u)break;if(l.push(u),!o)break;""===String(u[0])&&(r.lastIndex=D(a,O(r.lastIndex),s))}for(var c,d="",f=0,p=0;p<l.length;p++){u=l[p];for(var h=String(u[0]),m=x(P(C(u.index),a.length),0),v=[],y=1;y<u.length;y++)v.push(void 0===(c=u[y])?c:String(c));var g=u.groups;if(i){var b=[h].concat(v,m,a);void 0!==g&&b.push(g);var w=String(t.apply(void 0,b))}else w=S(h,a,m,v,g,t);f<=m&&(d+=a.slice(f,m)+w,f=m+h.length)}return d+a.slice(f)}];function S(i,o,s,l,u,e){var c=s+i.length,d=l.length,t=m;return void 0!==u&&(u=f(u),t=h),_.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return o.slice(0,s);case"'":return o.slice(c);case"<":n=u[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(d<r){var a=p(r/10);return 0===a?e:a<=d?void 0===l[a-1]?t.charAt(1):l[a-1]+t.charAt(1):e}n=l[r-1]}return void 0===n?"":n})}})},function(e,t,n){"use strict";var r=n(19),a=n(96).filter,i=n(20),o=n(150)("filter"),s=o&&!i(function(){[].filter.call({length:-1,0:1},function(e){throw e})});r({target:"Array",proto:!0,forced:!o||!s},{filter:function(e,t){return a(this,e,1<arguments.length?t:void 0)}})},function(e,t,n){var r=n(86),a=Math.min;e.exports=function(e){return 0<e?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(47);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(102),a=n(47);e.exports=function(e){return r(a(e))}},function(e,t,n){"use strict";var r=n(38),a=n(29),i=n(20),o=n(137),s="toString",l=RegExp.prototype,u=l[s],c=i(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),d=u.name!=s;(c||d)&&r(RegExp.prototype,s,function(){var e=a(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in l)?o.call(e):n)},{unsafe:!0})},function(e,t,n){var r=n(38),a=Date.prototype,i="Invalid Date",o="toString",s=a[o],l=a.getTime;new Date(NaN)+""!=i&&r(a,o,function(){var e=l.call(this);return e==e?s.call(this):i})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(122),d=n(29),f=n(51),a=n(47),p=n(157),h=n(123);r("match",1,function(r,u,c){return[function(e){var t=a(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=c(u,e,this);if(t.done)return t.value;var n=d(e),r=String(this);if(!n.global)return h(n,r);for(var a,i=n.unicode,o=[],s=n.lastIndex=0;null!==(a=h(n,r));){var l=String(a[0]);""===(o[s]=l)&&(n.lastIndex=p(r,f(n.lastIndex),i)),s++}return 0===s?null:o}]})},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))u.call(n,o)&&(a[o]=n[o]);if(l){r=l(n);for(var s=0;s<r.length;s++)c.call(n,r[s])&&(a[r[s]]=n[r[s]])}}return a}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var a=n(128),i=n(21);e.exports=function(e,t){return arguments.length<2?r(a[e])||r(i[e]):a[e]&&a[e][t]||i[e]&&i[e][t]}},function(e,t,n){"use strict";var r=n(19),a=n(146).indexOf,i=n(115),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf");r({target:"Array",proto:!0,forced:s||l},{indexOf:function(e,t){return s?o.apply(this,arguments)||0:a(this,e,1<arguments.length?t:void 0)}})},function(e,t,n){"use strict";n(12),n(13),n(14),n(50),n(42),n(10),n(269),n(5),n(15),n(16),n(7),n(8),n(45),n(9);var r=n(0),i=n.n(r),o=n(413);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(a){return function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,u(t).apply(this,arguments)))._notifications=[],e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,a),e=t,(n=[{key:"renderNotifications",value:function(){var n=this,r=[];return this._notifications.forEach(function(e,t){r.push(i.a.createElement(o.a,{key:e.message+"_"+t,id:t,onHide:function(e){return n.handleNotificationHide(e)},type:e.type,message:e.message,params:e.params}))}),r}},{key:"clearNotifications",value:function(){this._notifications=[],this.forceUpdate()}},{key:"addNotification",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"success",a=2<arguments.length&&void 0!==n?n:{};this._notifications.push({message:e,type:r,params:a}),this.forceUpdate()}},{key:"replaceNotification",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:"success",a=2<arguments.length&&void 0!==n?n:{};this._notifications=[{message:e,type:r,params:a}],this.forceUpdate()}},{key:"isSuccess",value:function(){return 0===this._notifications.filter(function(e){return"error"===e.type}).length}},{key:"handleError",value:function(e){var t=e;e.responseText?t=JSON.parse(t.responseText):e.response?t=e.response:console.error&&console.error("Malformed error, can not extract message",e),this.replaceNotification(t.error.message,"error"),window.scrollTo(0,0)}},{key:"handleNotificationHide",value:function(e){this._notifications.splice(e,1),this.forceUpdate()}}])&&s(e.prototype,n),r&&s(e,r),t}()}},function(e,t,n){"use strict";n(5);var a=n(11),i=n(2);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=i.a.getBaseUrl()+"/"+i.a.getAppKey(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"load",value:function(){return Object(a.a)("GET",s+"/billing")}},{key:"loadLicense",value:function(){return Object(a.a)("GET",s+"/license")}},{key:"createStripeSetupIntent",value:function(){return Object(a.a)("POST",i.a.getBaseUrl()+"/billing/setup-intent")}},{key:"startTrial",value:function(e,t){return Object(a.a)("POST",s+"/start-trial",{license:e,plan_group:t})}},{key:"updateLicense",value:function(e,t,n){var r=2<arguments.length&&void 0!==n&&n;return Object(a.a)("PUT",s+"/update-license",{license:e,plan_group:t,preview:r})}},{key:"updateBillingAddress",value:function(e){return Object(a.a)("PUT",s+"/billing/address",{address:e})}},{key:"updateBillingPayment",value:function(e){return Object(a.a)("PUT",s+"/billing/payment",e)}},{key:"getAuditLogs",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:100;return Object(a.a)("GET",i.a.getBaseUrl()+"/org/"+e+"/audit-logs",null,{limit:n})}},{key:"cancelSubscription",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t&&t;return n?Object(a.a)("POST",i.a.getBaseUrl()+"/org/"+n+"/billing/cancel-subscription",{immediately:r}):Object(a.a)("POST",s+"/billing/cancel-subscription")}},{key:"reactivateSubscription",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return t?Object(a.a)("POST",i.a.getBaseUrl()+"/org/"+t+"/billing/reactivate-subscription"):Object(a.a)("POST",s+"/billing/reactivate-subscription")}},{key:"migrateCalendarToV2",value:function(e){return Object(a.a)("POST",i.a.getBaseUrl()+"/"+e+"/migrate-to-billing-v2")}},{key:"createBilling",value:function(e){return Object(a.a)("POST",s+"/billing/create",e)}},{key:"deleteCreditCard",value:function(){return Object(a.a)("POST",s+"/billing/delete-credit-card")}},{key:"billingValidateAddress",value:function(e,t){return Object(a.a)("POST",i.a.getBaseUrl()+"/billing/validate-address/"+e,t)}}])&&o(t.prototype,n),r&&o(t,r),e}();t.a=new r},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t,n){"use strict";n(12),n(13),n(14),n(50),n(10),n(35),n(5),n(15),n(83),n(16),n(7),n(8),n(88),n(9);var r=n(113),i=n.n(r),a=n(53),o=n.n(a),s=n(278),l=n.n(s),u=n(0),c=n.n(u),d=n(27),f=n.n(d),p=n(163);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=f.a.findDOMNode(e);if("FORM"!==t.tagName){var n=t.getElementsByTagName("form");if(0<n.length)return n[0]}return t}var w={inputReaders:{radio:function(e){return void 0===e.dataset.jsonValue?e.value:JSON.parse(e.dataset.jsonValue)},select:function(e){var t,n,r,a=e.options,i=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?i+1:a.length;for(r=i<0?l:o?i:0;r<l;r++)if(((n=a[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||"optgroup"!==n.parentNode.tagName.toLowerCase())){if(t=void 0!==n.dataset.jsonValue?JSON.parse(n.dataset.jsonValue):n.value,o)return t;s.push(t)}return s}}},_={valuesAreEqual:function(e,t){return 0===this.differentKeys(e,t).length},differentKeys:function(t,n){return l()(Object.keys(t),Object.keys(n)).filter(function(e){return o()(t[e])&&o()(n[e])?!i()(t[e],n[e]):"string"==typeof t[e]&&"string"==typeof n[e]?t[e].trim()!=n[e].trim():t[e]!=n[e]})},getFormValues:function(e){var t=0<arguments.length&&void 0!==e?e:null;return t=t||b(this),p.a.serialize(t,Object.assign({},w))},patch:function(e){e.valuesAreEqual=_.valuesAreEqual.bind(e),e.differentKeys=_.differentKeys.bind(e),e.getFormValues=_.getFormValues.bind(e)},makeFormValues:function(){return function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,y(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(e,c.a.Component),t=e,(n=[{key:"valuesAreEqual",value:function(e,t){return 0===this.differentKeys(e,t).length}},{key:"differentKeys",value:function(r,a){return l()(Object.keys(r),Object.keys(a)).filter(function(e){var t=r[e],n=a[e];return o()(t)&&o()(n)?!i()(t,n):"string"==typeof t&&"string"==typeof n?t.trim()!=n.trim():t!=n})}},{key:"getFormValues",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return t=t||b(this),p.a.serialize(t,Object.assign({},w))}}])&&m(t.prototype,n),r&&m(t,r),e}()}};t.a=_},function(e,t,n){var r=n(258),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},function(e,t,n){"use strict";n(12),n(13),n(14),n(42),n(10),n(5),n(15),n(16),n(7),n(80),n(8),n(45),n(9);var r=n(32),a=n(64),i=n(18),o=n(4),s=n(65);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}o.a.partial("settings");var p=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=c(this,d(t).apply(this,arguments))).actionFailed=function(e){if(e.response.error.details&&e.response.error.details[0]&&e.response.error.details[0].field){var t="";e.response.error.details.forEach(function(e){t+=e.field+": "+e.message+"<br />"}),i.a.alert(e.response.error.title,t)}else i.a.alert(e.response.error.title,e.response.error.message,{},e.response.error.id);return Promise.reject(e)},e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,s["a"]),e=t,(n=[{key:"load",value:function(){return this.dispatch({}),a.a.load().then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"loadLicense",value:function(){return this.dispatch({}),a.a.loadLicense().then(function(e){return h.licenseDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"startTrial",value:function(e,t){return this.dispatch({license:e,planGroup:t}),a.a.startTrial(e,t).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"updateLicense",value:function(e,t){return this.dispatch({license:e,planGroup:t}),a.a.updateLicense(e,t).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"previewUpdateLicense",value:function(e,t){return this.dispatch({license:e,planGroup:t}),a.a.updateLicense(e,t,!0).catch(h.actionFailed)}},{key:"updateBillingAddress",value:function(e){return this.dispatch({address:e}),a.a.updateBillingAddress(e).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"updateBillingPayment",value:function(e){return this.dispatch(e),a.a.updateBillingPayment(e).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"cancelSubscription",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t&&t;return this.dispatch({}),a.a.cancelSubscription(n,r).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"reactivateSubscription",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;return this.dispatch({}),a.a.reactivateSubscription(t).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"migrateCalendarToV2",value:function(e){return this.dispatch({}),a.a.migrateCalendarToV2(e).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"billingDetailsUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"licenseDetailsUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"createBilling",value:function(e){return this.dispatch(e),a.a.createBilling(e).then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}},{key:"deleteCreditCard",value:function(){return this.dispatch({}),a.a.deleteCreditCard().then(function(e){return h.billingDetailsUpdated(e)}).catch(h.actionFailed)}}])&&u(e.prototype,n),r&&u(e,r),t}(),h=r.a.createActions(p);t.a=h},,function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y});n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=a.a.createContext("calendar"),h=p.Provider,m=p.Consumer,v=function(){function e(){return o(this,e),u(this,c(e).apply(this,arguments))}return d(e,a.a.Component),l(e,[{key:"render",value:function(){return a.a.createElement(h,{value:this.props.section},this.props.children)}}]),e}();function y(n){return function(){function e(){return o(this,e),u(this,c(e).apply(this,arguments))}return d(e,a.a.Component),l(e,[{key:"render",value:function(){var t=this;return a.a.createElement(m,null,function(e){return a.a.createElement(n,Object.assign({},t.props,{ref:function(e){t.child=e},localeSection:e}))})}}]),e}()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t,n){"use strict";var r=n(19),a=n(102),i=n(54),o=n(115),s=[].join,l=a!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:l||u},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t,n){var r,a,i,o=n(245),s=n(21),l=n(28),u=n(40),c=n(31),d=n(107),f=n(85),p=s.WeakMap;if(o){var h=new p,m=h.get,v=h.has,y=h.set;r=function(e,t){return y.call(h,e,t),t},a=function(e){return m.call(h,e)||{}},i=function(e){return v.call(h,e)}}else{var g=d("state");f[g]=!0,r=function(e,t){return u(e,g,t),t},a=function(e){return c(e,g)?e[g]:{}},i=function(e){return c(e,g)}}e.exports={set:r,get:a,has:i,enforce:function(e){return i(e)?a(e):r(e,{})},getterFor:function(n){return function(e){var t;if(!l(e)||(t=a(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{loading:!1}).loading?a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"loader--dot"}),a.a.createElement("div",{className:"loader--dot"}),a.a.createElement("div",{className:"loader--dot"}),a.a.createElement("div",{className:"loader--dot"}),a.a.createElement("div",{className:"loader--dot"}),a.a.createElement("div",{className:"loader--dot"}),a.a.createElement("div",{className:"loader--text"})):null}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";n(5);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"write",value:function(e,t){try{localStorage.setItem(e,t)}catch(e){}}},{key:"read",value:function(e){try{var t=localStorage.getItem(e);return null==t?"null":t}catch(e){}return"null"}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(e){}}}])&&a(t.prototype,n),r&&a(t,r),e}();t.a=new r},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(276),n(9);var r=n(0),a=n.n(r),i=n(98),o=n(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(e,a.a.Component),t=e,(n=[{key:"render",value:function(){var e={style:this.props.style};return a.a.createElement("p",Object.assign({className:"info-text info-text-"+this.props.type},e),a.a.createElement("i",{className:this.props.iconClassName}),a.a.createElement(o.a,{message:this.props.text}),this.props.link?a.a.createElement("a",{href:this.props.link,target:"_blank"}," ",this.props.linkText):"")}}])&&l(t.prototype,n),r&&l(t,r),e}();f.defaultProps={type:"warning",style:null},t.a=Object(i.a)(f)},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(80),n(8),n(9);var r=n(32),a=(n(25),n(30),n(58),n(2)),i=n(11);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=a.a.getBaseUrl()+"/"+a.a.getAppKey(),l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"updateResources",value:function(){return Object(i.a)("GET",s+"/subcalendars?includeInactive=1")}},{key:"activateResource",value:function(e){return Object(i.a)("PATCH",s+"/subcalendars/"+e.id,{active:1})}},{key:"deactivateResource",value:function(e){return Object(i.a)("PATCH",s+"/subcalendars/"+e.id,{active:0})}},{key:"enableResourceOverlap",value:function(e){return Object(i.a)("PATCH",s+"/subcalendars/"+e.id,{overlap:1})}},{key:"disableResourceOverlap",value:function(e){return Object(i.a)("PATCH",s+"/subcalendars/"+e.id,{overlap:0})}},{key:"deleteResource",value:function(e){return Object(i.a)("DELETE",s+"/subcalendars/"+e.id)}},{key:"createResource",value:function(e){var t={name:e.name,color:e.color,overlap:e.overlap,active:e.active,type:e.type};return window.location.pathname.match("icalendar-feed")&&(t.feed_url=e.feed_url,t.polling_interval=e.polling_interval,t.overlap=!0,t.type=1),Object(i.a)("POST",s+"/subcalendars",t)}},{key:"updateResource",value:function(e){var t={name:e.name,color:e.color,overlap:e.overlap,active:e.active,type:e.type,link_permissions:e.link_permissions};return 1==e.type&&(t.feed_url=e.feed_url||e.attributes.feed_url,t.polling_interval=e.polling_interval||e.attributes.polling_interval,t.overlap=!0),Object(i.a)("PUT",s+"/subcalendars/"+e.id,t)}}])&&o(t.prototype,n),r&&o(t,r),e}()),u=n(18),c=n(4),d=n(65),f=n(109);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=c.a.partial("settings"),b=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,v(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(e,d["a"]),t=e,(n=[{key:"actionFailed",value:function(e){return u.a.flashStatus(g("status.save_failed"),"error"),Promise.reject(e)}},{key:"updateResources",value:function(){var t=this;return l.updateResources().then(function(e){return t.actions.resourcesUpdated(e.subcalendars)}).catch(this.actions.actionFailed)}},{key:"resourcesUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"activateResource",value:function(e){var t=this;return this.dispatch(e),u.a.setStatus(g("status.saving"),"saving"),l.activateResource(e).then(function(e){return t.actions.resourceWasActivated(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceWasActivated",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.saved"),"saved"),Promise.resolve(e)}},{key:"deactivateResource",value:function(e){var t=this;return this.dispatch(e),l.deactivateResource(e).then(function(e){return t.actions.resourceWasDeactivated(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceWasDeactivated",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.saved"),"saved"),Promise.resolve(e)}},{key:"deleteResource",value:function(t){var n=this;return this.dispatch(t),u.a.setStatus(g("status.saving"),"saving"),l.deleteResource(t).then(function(e){return n.actions.resourceWasDeleted(t)}).catch(this.actions.actionFailed)}},{key:"resourceWasDeleted",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.deleted"),"saved"),Promise.resolve(e)}},{key:"enableResourceOverlap",value:function(e){var t=this;return this.dispatch(e),u.a.setStatus(g("status.saving"),"saving"),l.enableResourceOverlap(e).then(function(e){return t.actions.resourceOverlapWasEnabled(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceOverlapWasEnabled",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.saved"),"saved"),Promise.resolve(e)}},{key:"disableResourceOverlap",value:function(e){var t=this;return this.dispatch(e),l.disableResourceOverlap(e).then(function(e){return t.actions.resourceOverlapWasDisabled(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceOverlapWasDisabled",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.saved"),"saved"),Promise.resolve(e)}},{key:"updateResource",value:function(e){var t=this;this.dispatch(e),u.a.setStatus(g("status.saving"),"saving");var n=l.updateResource(e).then(function(e){return t.actions.resourceWasUpdated(e.subcalendar)}).catch(this.actions.actionFailed);return n.then(function(){return f.a.refresh()}),n}},{key:"resourceWasUpdated",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.saved"),"saved"),Promise.resolve(e)}},{key:"createResource",value:function(e){var t=this;return this.dispatch(e),u.a.setStatus(g("status.saving"),"saving"),l.createResource(e).then(function(e){return t.actions.resourceWasCreated(e.subcalendar),e.subcalendar}).catch(this.actions.actionFailed)}},{key:"resourceWasCreated",value:function(e){return this.dispatch(e),u.a.flashStatus(g("status.saved"),"saved"),Promise.resolve(e)}},{key:"toggleResourceVisibility",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;e.visible=null!==n?n:!e.visible,this.dispatch(e)}},{key:"toggleResourceTree",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;null!==n?(e.expanded=n)&&(e.visible=!0):e.expanded=!e.expanded,this.dispatch(e)}},{key:"showOnlyResource",value:function(e){this.dispatch(e)}},{key:"showAll",value:function(){this.dispatch()}},{key:"hideAll",value:function(){this.dispatch()}},{key:"toggleAll",value:function(){this.dispatch()}},{key:"updatePaginationOffset",value:function(e){this.dispatch(e)}}])&&h(t.prototype,n),r&&h(t,r),e}(),w=r.a.createActions(b);t.a=w},function(e,t,n){"use strict";function m(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t}function i(d,f,p){if(!f.notified){f.notified=!0;var h=f.reactions;P(function(){for(var e=f.value,t=1==f.state,n=0;h.length>n;){var r,a,i,o=h[n++],s=t?o.ok:o.fail,l=o.resolve,u=o.reject,c=o.domain;try{s?(t||(2===f.rejection&&ae(d,f),f.rejection=1),!0===s?r=e:(c&&c.enter(),r=s(e),c&&(c.exit(),i=!0)),r===o.promise?u(z("Promise-chain cycle")):(a=m(r))?a.call(r,l,u):l(r)):u(e)}catch(e){c&&!i&&c.exit(),u(e)}}f.reactions=[],f.notified=!1,p&&!f.rejection&&ne(d,f)})}}function a(e,t,n){var r,a;Z?((r=G.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),p.dispatchEvent(r)):r={promise:t,reason:n},(a=p["on"+e])?a(r):e===X&&M("Unhandled promise rejection",n)}function o(t,n,r,a){return function(e){t(n,r,e,a)}}function s(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,i(e,t,!0))}var r,l,u,c,d=n(19),f=n(74),p=n(21),h=n(61),v=n(233),y=n(38),g=n(201),b=n(92),w=n(161),_=n(28),E=n(76),S=n(132),k=n(57),O=n(124),C=n(151),D=n(197),T=n(189),x=n(234).set,P=n(304),j=n(236),M=n(305),N=n(237),A=n(306),L=n(73),R=n(108),I=n(23),F=n(209),V=I("species"),U="Promise",Y=L.get,H=L.set,B=L.getterFor(U),W=v,z=p.TypeError,G=p.document,K=p.process,q=h("fetch"),$=N.f,J=$,Q="process"==k(K),Z=!!(G&&G.createEvent&&p.dispatchEvent),X="unhandledrejection",ee=R(U,function(){if(!(O(W)!==String(W))){if(66===F)return!0;if(!Q&&"function"!=typeof PromiseRejectionEvent)return!0}if(f&&!W.prototype.finally)return!0;if(51<=F&&/native code/.test(W))return!1;function e(e){e(function(){},function(){})}var t=W.resolve(1);return(t.constructor={})[V]=e,!(t.then(function(){})instanceof e)}),te=ee||!D(function(e){W.all(e).catch(function(){})}),ne=function(n,r){x.call(p,function(){var e,t=r.value;if(re(r)&&(e=A(function(){Q?K.emit("unhandledRejection",t,n):a(X,n,t)}),r.rejection=Q||re(r)?2:1,e.error))throw e.value})},re=function(e){return 1!==e.rejection&&!e.parent},ae=function(e,t){x.call(p,function(){Q?K.emit("rejectionHandled",e):a("rejectionhandled",e,t.value)})},ie=function(n,r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(n===e)throw z("Promise can't be resolved itself");var a=m(e);a?P(function(){var t={done:!1};try{a.call(e,o(ie,n,t,r),o(s,n,t,r))}catch(e){s(n,t,e,r)}}):(r.value=e,r.state=1,i(n,r,!1))}catch(e){s(n,{done:!1},e,r)}}};ee&&(W=function(e){S(this,W,U),E(e),r.call(this);var t=Y(this);try{e(o(ie,this,t),o(s,this,t))}catch(e){s(this,t,e)}},(r=function(){H(this,{type:U,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(W.prototype,{then:function(e,t){var n=B(this),r=$(T(this,W));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Q?K.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&i(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new r,t=Y(e);this.promise=e,this.resolve=o(ie,e,t),this.reject=o(s,e,t)},N.f=$=function(e){return e===W||e===u?new l(e):J(e)},f||"function"!=typeof v||(c=v.prototype.then,y(v.prototype,"then",function(e,t){var n=this;return new W(function(e,t){c.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof q&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return j(W,q.apply(p,arguments))}}))),d({global:!0,wrap:!0,forced:ee},{Promise:W}),b(W,U,!1,!0),w(U),u=h(U),d({target:U,stat:!0,forced:ee},{reject:function(e){var t=$(this);return t.reject.call(void 0,e),t.promise}}),d({target:U,stat:!0,forced:f||ee},{resolve:function(e){return j(f&&this===u?W:this,e)}}),d({target:U,stat:!0,forced:te},{all:function(e){var s=this,t=$(s),l=t.resolve,u=t.reject,n=A(function(){var r=E(s.resolve),a=[],i=0,o=1;C(e,function(e){var t=i++,n=!1;a.push(void 0),o++,r.call(s,e).then(function(e){n||(n=!0,a[t]=e,--o||l(a))},u)}),--o||l(a)});return n.error&&u(n.value),t.promise},race:function(e){var n=this,r=$(n),a=r.reject,t=A(function(){var t=E(n.resolve);C(e,function(e){t.call(n,e).then(r.resolve,a)})});return t.error&&a(t.value),r.promise}})},function(e,t,n){"use strict";n(50),n(42),n(72),n(35),n(5),n(45);var r=n(3),i=n.n(r),l=(n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(181),n(182),n(180),n(183),n(184),n(185),n(2)),u=n(11);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.a.locale(["en"]);var d={translationMessages:{},language:void 0},f={use24hTimes:!1,formats:{},locale:void 0},p={};function a(t,e,n,r){var a=!0;e.forEach(function(e){d.translationMessages.hasOwnProperty(e+"_"+t)||(a=!1)}),a&&f.locale==n?r&&requestAnimationFrame(function(){r({language:t,sections:e,dateLocale:n,translationMessages:d.translationMessages,dateFormats:f.formats,use24hTimes:f.use24hTimes})}):function(i,o,s,n){if(0!==(o=o.filter(function(e){var t=e+"."+i;return void 0===p[t]?(p[t]=[n],!0):(p[t].push(n),!1)})).length){f.locale=s;var e=l.a.getBaseUrl()+"/"+l.a.getAssetsVersion()+"/internationalization/"+i+"/"+o.join(",")+"/"+s;Object(u.a)("GET",e).then(function(t){Object.assign(d.translationMessages,c({},"core_js_"+i,t["core_js_"+i])),o.forEach(function(e){Object.assign(d.translationMessages,c({},e+"_"+i,t[e+"_"+i]))}),f.formats=t["datetime_"+i],o.forEach(function(e){for(var t=e+"."+i,n=0,r=p[t].length;n<r;n++){var a=p[t][n];a&&a({language:i,sections:o,dateLocale:s,translationMessages:d.translationMessages,dateFormats:f.formats,use24hTimes:f.use24hTimes})}delete p[t]})}).catch(function(e){throw new Error("Could not load sections "+o.join(", ")+" for language "+i+": "+e)})}}(t,e,n,r)}var o={loadSections:function(e,t,n){if(!d.language)throw new Error("loadSection can not be called before setLanguage");a(d.language,e,t,n)},setLanguage:function(e){d.language&&d.language,d.language=e;var t=i.a.locale([e,"en"]);if(l.a.getCalendarDefaults()){var n,r=l.a.getCalendarDefaults().datetime,a=r.weekStart;switch(a){case 0:n=6;break;case 6:n=7;break;case 1:default:n=4}r.hideWeekend&&(a=1),i.a.updateLocale(t,{week:{dow:a,doy:n}})}},setUse24hTimes:function(e){f.use24hTimes=e}};o.setUse24hTimes(l.a.getUse24h()),o.setLanguage(l.a.getLanguage()),t.a=o},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(19),a=n(52),i=n(111);r({target:"Object",stat:!0,forced:n(20)(function(){i(1)})},{keys:function(e){return i(a(e))}})},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(19),a=n(418);r({global:!0,forced:parseInt!=a},{parseInt:a})},function(e,t,n){"use strict";var r=n(19),a=n(246).trim;r({target:"String",proto:!0,forced:n(331)("trim")},{trim:function(){return a(this)}})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){function r(){}var a=n(29),i=n(270),o=n(131),s=n(85),l=n(220),u=n(129),c=n(107)("IE_PROTO"),d="prototype",f=function(){var e,t=u("iframe"),n=o.length;for(t.style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),f=e.F;n--;)delete f[d][o[n]];return f()};e.exports=Object.create||function(e,t){var n;return null!==e?(r[d]=a(e),n=new r,r[d]=null,n[c]=e):n=f(),void 0===t?n:i(n,t)},s[c]=!0},function(e,t,n){var r=n(33),a=n(121),i=n(89),o=n(54),s=n(105),l=n(31),u=n(160),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},function(e,t,n){var r=n(37).f,a=n(31),i=n(23)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(343),a=n(348);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";n(42),n(5),n(7),n(80),n(88),n(45);var i=n(11),a=n(225),o=n(280),s=n(219),l=n(18),u=n(2);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=u.a.getBaseUrl()+"/admintool96",r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actionFailed=function(e){if(e.response.error.details&&e.response.error.details[0]&&e.response.error.details[0].field){var t="";e.response.error.details.forEach(function(e){t+=e.field+": "+e.message+"<br />"}),l.a.alert(e.response.error.title,t)}else l.a.alert(e.response.error.title,e.response.error.message,{},e.response.error.id);return Promise.reject(e)}}var t,n,r;return t=e,(n=[{key:"searchCalendar",value:function(e,t,n,r){var a={type:e,query:t.trim(),offset:n||0,limit:r||100,groupby:1};return Object(i.a)("GET",d+"/api/search-calendar",null,a)}},{key:"fetchCalendarDetails",value:function(e){return Object(i.a)("GET",d+"/api/calendar-details/"+e)}},{key:"deactivateCalendar",value:function(e,t,n){return Object(i.a)("POST",d+"/api/deactivate-calendar",{calendarId:e,keyId:t,active:n})}},{key:"resetPassword",value:function(e,t){return Object(i.a)("POST",d+"/api/"+e+"/reset-password",t)}},{key:"loadBillingData",value:function(e){var t=Object(i.a)("GET",d+"/api/"+e+"/billing");return t.then(this.updateBillingStores),t.catch(this.actionFailed),t}},{key:"loadOverdueOrgs",value:function(){var e=Object(i.a)("GET",d+"/api/overdue-orgs");return e.catch(this.actionFailed),e}},{key:"setTrialEnd",value:function(e,t){var n=Object(i.a)("PUT",d+"/api/"+e+"/trial-date",{trial_end:t.format("YYYY-MM-DDTHH:mm:ss+00:00")});return n.then(this.updateBillingStores),n.catch(this.actionFailed),n}},{key:"restartTrial",value:function(e){var t=Object(i.a)("POST",d+"/api/"+e+"/restart-trial");return t.then(this.updateBillingStores),t.catch(this.actionFailed),t}},{key:"addBalance",value:function(e,t,n){var r=Object(i.a)("PUT",d+"/api/"+e+"/add-balance",{amount:t,reason:n});return r.then(this.updateBillingStores),r.catch(this.actionFailed),r}},{key:"setupFreeCustomer",value:function(e){var t=Object(i.a)("PUT",d+"/api/"+e+"/setup-free-customer");return t.then(this.updateBillingStores),t.catch(this.actionFailed),t}},{key:"setOrgDiscount",value:function(e,t){var n=Object(i.a)("PUT",d+"/api/org/"+e+"/discount",t);return n.catch(this.actionFailed),n}},{key:"removeOrgDiscount",value:function(e){var t=Object(i.a)("DELETE",d+"/api/org/"+e+"/discount");return t.catch(this.actionFailed),t}},{key:"updateAppAttributes",value:function(e,t){var n=Object(i.a)("PUT",d+"/api/app/"+e+"/update-attributes",t);return n.then(this.updateBillingStores),n.catch(this.actionFailed),n}},{key:"updateOrgAttributes",value:function(e,t){var n=Object(i.a)("PUT",d+"/api/"+e+"/update-attributes",t);return n.then(this.updateBillingStores),n.catch(this.actionFailed),n}},{key:"updateBillingStores",value:function(e){s.a.handleBillingUpdated(e),a.a.handleBillingUpdated(e),o.a.handleBillingUpdated(e),s.a.emitChange(),a.a.emitChange(),o.a.emitChange()}},{key:"loadAppSubscriptionData",value:function(e){return Object(i.a)("GET",d+"/api/"+e+"/subscription/load")}},{key:"updateAppSubscriptionData",value:function(e,t){return Object(i.a)("POST",d+"/api/"+e+"/subscription/save",t)}},{key:"updateAppLicenseLog",value:function(e,t){return Object(i.a)("POST",d+"/api/"+e+"/subscription/save-license-log",t)}},{key:"restoreCalendar",value:function(e,t){return Object(i.a)("GET",d+"/api/"+e+"/restore-calendar/"+t)}},{key:"searchUsers",value:function(e,t,n,r){var a={type:e,query:t.trim(),offset:n||0,limit:r||100};return Object(i.a)("GET",d+"/api/user/search",null,a)}},{key:"resetUserPassword",value:function(e,t){return Object(i.a)("POST",d+"/api/user/"+e+"/reset-password",t)}},{key:"fetchUserDetails",value:function(e){return Object(i.a)("GET",d+"/api/user/"+e+"/view")}},{key:"saveUser",value:function(e,t){return Object(i.a)("POST",d+"/api/user/"+e+"/update",t)}},{key:"activateAccount",value:function(e){return Object(i.a)("POST",d+"/api/user/"+e+"/activate")}},{key:"restoreAccount",value:function(e){return Object(i.a)("POST",d+"/api/user/"+e+"/restore")}},{key:"closeProtectedCalendarSession",value:function(e){return Object(i.a)("POST",d+"/"+e)}},{key:"exitImpersonation",value:function(e){return Object(i.a)("POST",u.a.getBaseUrl()+"/exit-impersonation?"+e+"=_exit")}},{key:"isImpersonated",value:function(){return Object(i.a)("GET",u.a.getBaseUrl()+"/is-impersonated")}},{key:"deleteUser",value:function(e,t){return Object(i.a)("DELETE",d+"/api/user/"+e+"/delete",t)}},{key:"searchEmail",value:function(e,t,n){var r={query:e.trim(),offset:t||0,limit:n||100};return Object(i.a)("GET",d+"/api/email/search",null,r)}},{key:"newsletterSearchByEmail",value:function(e){var t={query:e.trim()};return Object(i.a)("GET",d+"/api/newsletter/search",null,t)}},{key:"newsletterUpdateStatus",value:function(e,t){return Object(i.a)("POST",d+"/api/newsletter/"+t,{email:e})}},{key:"newsletterAddSubscriber",value:function(e){return Object(i.a)("POST",d+"/api/newsletter/add",e)}},{key:"auditLogAddNote",value:function(e,t){return Object(i.a)("POST",d+"/api/"+e+"/audit/note",{note:t})}}])&&c(t.prototype,n),r&&c(t,r),e}();t.a=new r},function(e,t,n){"use strict";n(12),n(13),n(14),n(50),n(120),n(248),n(42),n(62),n(10),n(36),n(483),n(269),n(56),n(25),n(196),n(5),n(15),n(16),n(7),n(406),n(87),n(30),n(55),n(8),n(139),n(45),n(9);var r=n(84),l=n.n(r),a=n(32),i=n(71),u=n(79),c=n(77),d=n(2);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(){function s(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=this,e=!(n=p(s).call(this))||"object"!==f(n)&&"function"!=typeof n?h(t):n;var r,a=JSON.parse(c.a.read(d.a.getAppKey()+"-calendars"))||{};e.hidden=a.hidden||[],e.collapsed=a.collapsed||[],r=window.resources?window.resources.resources.map(e.initializeResource):window.calendars?window.calendars.calendars.map(e.initializeResource):[];var i=d.a.getInitialQueryParams().calendars;i&&("string"==typeof i&&(i=i.split(",")),l()(i)&&0<i.length&&(e.hidden=r.filter(function(e){return-1===i.indexOf(e.id)&&-1===i.indexOf(e.id.toString())}).map(function(e){return e.id})));var o=e.parseResources(r);return e.state={resources:r,resourceTree:o.tree,resourcesById:o.byId,visibleResources:r.filter(function(e){return e.visible}),paginationOffset:0},e.exportPublicMethods({findById:e.findById.bind(h(e))}),e.bindActions({handleResourceWasDeleted:u.a.resourceWasDeleted,handleResourceWasCreated:u.a.resourceWasCreated,handleVisibilityUpdate:u.a.toggleResourceVisibility,handleExpansionUpdate:u.a.toggleResourceTree,handleShowOnly:u.a.showOnlyResource,handleShowAll:u.a.showAll,handleHideAll:u.a.hideAll,handleToggleAll:u.a.toggleAll,handleUpdatePaginationOffset:u.a.updatePaginationOffset}),e.bindAction(u.a.resourceWasActivated,e.handleResourceWasUpdated),e.bindAction(u.a.resourceWasDeactivated,e.handleResourceWasUpdated),e.bindAction(u.a.resourceOverlapWasEnabled,e.handleResourceWasUpdated),e.bindAction(u.a.resourceOverlapWasDisabled,e.handleResourceWasUpdated),e.bindAction(u.a.resourceWasUpdated,e.handleResourceWasUpdated),e.bindAction(u.a.resourcesUpdated,e.handleResourcesUpdated),e}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,i["a"]),e=s,(t=[{key:"findById",value:function(e){return this.state.resourcesById.get(parseInt(e,10))}},{key:"parseResources",value:function(e){function o(e,t,n,r){(s[n]=e).root=t,i.set(e.id,e),t?(e.parent=null,a.push(e)):(e.parent=s[r].id,s[r].children.push(e))}var t=this,a=[],s={},i=new Map,l=-1;e.map(function(e){var t,n=e.name.split(" > "),r="",a="";for(t=0;t<n.length;t++)if(r+=((a=r)?" > ":"")+n[t],t<n.length-1&&!s[r]){var i={id:l--,readonly:!0,expanded:!0,virtual:!0,name:r,visible:!0,children:[],color:"virtual",root:0===t,parent:null,active:!0,overlap:!0,type:0,attributes:[],creation_dt:"",update_dt:null};o(i,i.root,r,a)}e.children=[],e.virtual=!1,e.expanded=!0,o(e,1===t,r,a)}),this.hidden.forEach(function(e){i.has(e)&&(i.get(e).visible=!1)}),this.collapsed.forEach(function(e){i.has(e)&&(i.get(e).expanded=!1,t.setTreeVisibility(i.get(e),!1,!1))});var n=d.a.getInitialQueryParams();if(n.format&&"pdf"===n.format){var r=Object.values(s).filter(function(e){return!!(e.id<0&&e.virtual&&0<e.children.length)&&!e.children.find(function(e){return e.visible})});0<r.length&&r.forEach(function(e){e.expanded=!1,t.setTreeVisibility(e,!1,!1)})}return{tree:a,byId:i}}},{key:"setTreeVisibility",value:function(e,t,n){var r=this,a=!(1<arguments.length&&void 0!==t)||t,i=!(2<arguments.length&&void 0!==n)||n;e.children.forEach(function(e){var t="function"==typeof a?a(e):a;e.visible=t,i&&r.markExplicitVisibility(e),0<e.children.length&&(!0===e.expanded||!1===a)&&r.setTreeVisibility(e,a,i)}),("function"==typeof a?a(e):a)&&(e.expanded=!0,i&&this.markExplicitExpansion(e))}},{key:"hasVisibleChild",value:function(e,t){var n=this;return e.children.some(function(e){return e.visible||0<e.children.length&&n.hasVisibleChild(e)})}},{key:"expandParents",value:function(e){for(;e.parent;)(e=this.state.resourcesById.get(e.parent)).expanded=!0,this.markExplicitExpansion(e)}},{key:"markExplicitVisibility",value:function(e){if(!e.virtual){var t=this.hidden.indexOf(e.id);e.visible?-1!==t&&this.hidden.splice(t,1):-1===t&&this.hidden.push(e.id)}}},{key:"markExplicitExpansion",value:function(e){var t=this.collapsed.indexOf(e.id);e.expanded?-1!==t&&this.collapsed.splice(t,1):-1===t&&this.collapsed.push(e.id)}},{key:"storeState",value:function(){c.a.write(d.a.getAppKey()+"-calendars",JSON.stringify({hidden:this.hidden,collapsed:this.collapsed}))}},{key:"handleResourcesUpdated",value:function(e){var t=this.parseResources(e);this.state.resources=e,this.state.resourceTree=t.tree,this.state.resourcesById=t.byId,this.state.visibleResources=e.filter(function(e){return e.visible})}},{key:"handleResourceWasDeleted",value:function(t){this.handleResourcesUpdated(this.state.resources.filter(function(e){return e.id!=t.id}))}},{key:"handleResourceWasCreated",value:function(e){var t=this.state.resources;t.push(this.initializeResource(e)),this.handleResourcesUpdated(t)}},{key:"handleResourceWasUpdated",value:function(t){var e=this.state.resources.findIndex(function(e){return e.id===t.id});if(-1!==e){var n=this.state.resources;n[e]=t,this.handleResourcesUpdated(n)}}},{key:"initializeResource",value:function(e){return void 0===e.visible&&(e.visible=!0),e}},{key:"handleVisibilityUpdate",value:function(t){(0<t.children.length&&(t.visible&&(t.expanded=!0,this.markExplicitExpansion(t)),this.hasVisibleChild(t)||!t.virtual&&!t.visible?(this.setTreeVisibility(t,!1),t.visible=!1):this.setTreeVisibility(t,!0)),this.markExplicitVisibility(t),t.parent&&t.visible&&this.expandParents(t),t.visible)?-1===this.state.visibleResources.findIndex(function(e){return e.id===t.id})&&this.state.visibleResources.push(t):this.state.visibleResources=this.state.visibleResources.filter(function(e){return e.id!==t.id});this.storeState()}},{key:"handleExpansionUpdate",value:function(e){var t=this;this.markExplicitExpansion(e),e.expanded?(this.expandParents(e),this.setTreeVisibility(e,function(e){return-1===t.hidden.indexOf(e.id)},!1)):this.setTreeVisibility(e,!1,!1),this.storeState()}},{key:"handleShowOnly",value:function(t){var n=this;t=this.state.resourcesById.get(t.id);var e=this.state.resources.filter(function(e){return e.visible});if(1==e.length&&e[0].id==t.id)return this.handleToggleAll();this.state.resourcesById.forEach(function(e){e.id!==t.id&&(e.visible=!1,n.markExplicitVisibility(e))}),t.visible=!0,this.markExplicitVisibility(t),0<t.children.length&&this.setTreeVisibility(t,!0),this.state.visibleResources=this.state.resources.filter(function(e){return e.visible}),this.storeState()}},{key:"toggleAll",value:function(t){var n=this;this.state.resourcesById.forEach(function(e){e.visible=t,n.markExplicitVisibility(e),!0===t&&0<e.children.length&&(e.expanded=t,n.markExplicitExpansion(e))}),this.storeState()}},{key:"handleToggleAll",value:function(){this.toggleAll(!!this.state.resources.find(function(e){return!e.visible}))}},{key:"handleShowAll",value:function(){this.toggleAll(!0)}},{key:"handleHideAll",value:function(){this.toggleAll(!1)}},{key:"handleUpdatePaginationOffset",value:function(e){this.state.paginationOffset=e}}])&&o(e.prototype,t),n&&o(e,n),s}();t.a=a.a.createStore(s,"ResourceStore")},function(e,t,n){function r(p){var h=1==p,m=2==p,v=3==p,y=4==p,g=6==p,b=5==p||g;return function(e,t,n,r){for(var a,i,o=E(e),s=_(o),l=w(t,n,3),u=S(s.length),c=0,d=r||k,f=h?d(e,u):m?d(e,0):void 0;c<u;c++)if((b||c in s)&&(i=l(a=s[c],c,o),p))if(h)f[c]=i;else if(i)switch(p){case 3:return!0;case 5:return a;case 6:return c;case 2:O.call(f,a)}else if(y)return!1;return g?-1:v||y?y:f}}var w=n(103),_=n(102),E=n(52),S=n(51),k=n(228),O=[].push;e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},function(e,t){e.exports={}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),i=n.n(r),o=n(44);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(a){return function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,u(t).apply(this,arguments))).updateMessages=function(){e.child.forceUpdate()},e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,i.a.Component),e=t,(n=[{key:"componentDidMount",value:function(){o.a.listen(this.updateMessages)}},{key:"componentWillUnmount",value:function(){o.a.unlisten(this.updateMessages)}},{key:"render",value:function(){var t=this;return i.a.createElement(a,Object.assign({},this.props,{ref:function(e){t.child=e}}))}}])&&s(e.prototype,n),r&&s(e,r),t}()}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(140),i=(r=a)&&r.__esModule?r:{default:r},o=(0,i.default)();t.ACTION_HANDLER=o;var s=(0,i.default)();t.ACTION_KEY=s;var l=(0,i.default)();t.ACTIONS_REGISTRY=l;var u=(0,i.default)();t.ACTION_UID=u;var c=(0,i.default)();t.ALL_LISTENERS=c;var d=(0,i.default)();t.HANDLING_ERRORS=d;var f=(0,i.default)();t.INIT_SNAPSHOT=f;var p=(0,i.default)();t.LAST_SNAPSHOT=p;var h=(0,i.default)();t.LIFECYCLE=h;var m=(0,i.default)();t.LISTENERS=m;var v=(0,i.default)();t.PUBLIC_METHODS=v;var y=(0,i.default)();t.STATE_CONTAINER=y},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(20),a=n(57),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var i=n(76);e.exports=function(r,a,e){if(i(r),void 0===a)return r;switch(e){case 0:return function(){return r.call(a)};case 1:return function(e){return r.call(a,e)};case 2:return function(e,t){return r.call(a,e,t)};case 3:return function(e,t,n){return r.call(a,e,t,n)}}return function(){return r.apply(a,arguments)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});n(42),n(35),n(45);function r(e,t){var n=Object.assign({},e);return t.forEach(function(e){delete n[e]}),n}function a(t,e){var n={};return e.forEach(function(e){n[e]=t[e]}),n}},function(e,t,n){var a=n(28);e.exports=function(e,t){if(!a(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!a(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!a(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(80),n(8),n(9);var r=n(32),a=n(11),i=n(2),o=n(190),s=n.n(o);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=i.a.getBaseUrl()+"/"+i.a.getAppKey(),c=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"fetchSubscriptions",value:function(e){return Object(a.a)("GET",u+"/subscriptions/list?"+s()(e))}},{key:"fetchEditableSubscription",value:function(e,t,n){return Object(a.a)("GET",u+"/subscriptions/"+e+"/"+t+"/"+n)}},{key:"createSubscription",value:function(e){return Object(a.a)("POST",u+"/subscriptions",e)}},{key:"updateSubscription",value:function(e,t){return Object(a.a)("PUT",u+"/subscriptions/"+e.id+"/"+t.key_id,e)}},{key:"activateSubscription",value:function(e){var t={type:e.type,active:1};return Object(a.a)("PATCH",u+"/subscriptions/"+e.id+"/"+e.key_id,t)}},{key:"deactivateSubscription",value:function(e){var t={type:e.type,active:0};return Object(a.a)("PATCH",u+"/subscriptions/"+e.id+"/"+e.key_id,t)}},{key:"deleteSubscription",value:function(e,t,n){return Object(a.a)("DELETE",u+"/subscriptions/"+e+"/"+t+"/"+n)}},{key:"countSubscriptions",value:function(){return Object(a.a)("GET",u+"/subscriptions/count")}}])&&l(t.prototype,n),r&&l(t,r),e}()),d=n(18),f=n(4),p=n(65);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=f.a.partial("settings"),w=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=v(this,y(t).apply(this,arguments))).actionFailed=function(e){return d.a.setStatus(b("status.save_failed"),"error"),Promise.reject(e)},e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,p["a"]),e=t,(n=[{key:"fetchSubscriptions",value:function(e){return this.dispatch(),c.fetchSubscriptions(e).then(function(e){return _.subscriptionsWereUpdated(e)}).catch(this.actionFailed)}},{key:"fetchEditableSubscription",value:function(e,t,n){return c.fetchEditableSubscription(e,t,n).then(function(e){return e.subscription}).catch(this.actionFailed)}},{key:"subscriptionsWereUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"resetFilters",value:function(){this.dispatch()}},{key:"clear",value:function(){var e={subscriptions:[],total:0};return this.dispatch(e),Promise.resolve(e)}},{key:"updateFilters",value:function(e){this.dispatch(e)}},{key:"createSubscription",value:function(e){return this.dispatch(e),d.a.setStatus(b("status.saving"),"saving"),c.createSubscription(e).then(function(e){return _.subscriptionWasCreated(e.subscription)}).catch(this.actionFailed)}},{key:"subscriptionWasCreated",value:function(e){return this.dispatch(e),d.a.flashStatus(b("status.saved"),"saved"),Promise.resolve(e)}},{key:"updateSubscription",value:function(e,t){return this.dispatch(e),d.a.setStatus(b("status.saving"),"saving"),c.updateSubscription(e,t).then(function(e){return d.a.flashStatus(b("status.saved"),"saved"),_.subscriptionWasUpdated(e.subscription)}).catch(this.actionFailed)}},{key:"subscriptionWasUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"activateSubscription",value:function(e){return this.dispatch(e),d.a.setStatus(b("status.saving"),"saving"),c.activateSubscription(e).then(function(e){return _.subscriptionWasActivated(e.subscription)}).catch(this.actionFailed)}},{key:"deactivateSubscription",value:function(e){return this.dispatch(e),c.deactivateSubscription(e).then(function(e){return _.subscriptionWasDeactivated(e.subscription)}).catch(this.actionFailed)}},{key:"subscriptionWasActivated",value:function(e){return this.dispatch(e),d.a.flashStatus(b("status.saved"),"saved"),Promise.resolve(e)}},{key:"subscriptionWasDeactivated",value:function(e){return this.dispatch(e),d.a.flashStatus(b("status.saved"),"saved"),Promise.resolve(e)}},{key:"deleteSubscription",value:function(e,t,n){return d.a.setStatus(b("status.deleting"),"saving"),c.deleteSubscription(e,t,n).then(function(){return _.subscriptionWasDeleted(e,t,n)}).catch(this.actionFailed)}},{key:"subscriptionWasDeleted",value:function(e,t,n){return d.a.flashStatus(b("status.deleted"),"saved"),this.dispatch({subscriptionId:t,keyId:n,type:e}),Promise.resolve({subscriptionId:t,keyId:n,type:e})}}])&&m(e.prototype,n),r&&m(e,r),t}(),_=r.a.createActions(w);t.a=_},function(e,t,n){var r=n(125),a=n(99),i=r("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t,n){function r(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?a(t):!!t)}var a=n(20),i=/#|\.prototype\./,o=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=r.data={},l=r.NATIVE="N",u=r.POLYFILL="P";e.exports=r},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(25),n(5),n(15),n(16),n(7),n(80),n(8),n(9);var r=n(32),a=n(186),i=n(18),o=n(4),s=n(65),l=n(79),u=n(106),c=n(68);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=o.a.partial("settings"),y=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,h(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(e,s["a"]),t=e,(n=[{key:"actionFailed",value:function(e){return i.a.flashStatus(v("status.save_failed"),"error"),Promise.reject(e)}},{key:"refresh",value:function(){return a.a.refresh().then(function(e){return g.linksUpdated(e.permissions),e.permissions}).catch(g.actionFailed)}},{key:"linksUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"createLink",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.createKey(e).then(function(e){return g.linkCreated(e.key),e.key}).catch(g.actionFailed);return t.then(l.a.updateResources).then(u.a.clear),t}},{key:"linkCreated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"activateLink",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.activateKey(e).then(function(e){return g.linkActivated(e.key)}).catch(g.actionFailed);return t.then(u.a.clear),t}},{key:"linkActivated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"deactivateLink",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.deactivateKey(e).then(function(e){return g.linkDeactivated(e.key)}).catch(g.actionFailed);return t.then(u.a.clear),t}},{key:"linkDeactivated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"updateLink",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.updateKey(e).then(function(e){return g.linkWasUpdated(e.key),e.key}).catch(g.actionFailed);return t.then(l.a.updateResources).then(u.a.clear),t}},{key:"linkWasUpdated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"deleteLink",value:function(e){this.dispatch(e),i.a.setStatus(v("status.deleting"),"saving");var t=a.a.deleteKey(e).then(function(){return g.linkWasDeleted(e)}).catch(g.actionFailed);return t.then(l.a.updateResources).then(u.a.clear),t}},{key:"linkWasDeleted",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.deleted"),"saved"),Promise.resolve(e)}},{key:"createGroup",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.createGroup(e).then(function(e){return g.groupWasCreated(e.group),c.a.loadLicense(),e.group}).catch(g.actionFailed);return t.then(function(){return g.refresh()}).then(u.a.clear),t}},{key:"groupWasCreated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"updateGroup",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.updateGroup(e).then(function(e){return g.groupWasUpdated(e.group),c.a.loadLicense(),e.group}).catch(g.actionFailed);return t.then(l.a.updateResources).then(u.a.clear),t}},{key:"groupWasUpdated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"deactivateGroup",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.deactivateGroup(e).then(function(e){return g.groupDeactivated(e.group)}).catch(g.actionFailed);return t.then(u.a.clear),t}},{key:"groupDeactivated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"activateGroup",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.activateGroup(e).then(function(e){return g.groupActivated(e.group)}).catch(g.actionFailed);return t.then(u.a.clear),t}},{key:"groupActivated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"deleteGroup",value:function(e){this.dispatch(e),i.a.setStatus(v("status.deleting"),"saving");var t=a.a.deleteGroup(e).then(function(){c.a.loadLicense()}).then(function(){return g.groupWasDeleted(e)}).catch(g.actionFailed);return t.then(function(){return g.refresh()}).then(u.a.clear),t}},{key:"groupWasDeleted",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.deleted"),"saved"),Promise.resolve(e)}},{key:"createUser",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.createUser(e).then(function(e){return g.userWasCreated(e.user),c.a.loadLicense(),e.user}).catch(g.actionFailed);return t.then(function(){g.refresh(),l.a.updateResources()}).then(u.a.clear),t}},{key:"userWasCreated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"updateUser",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.updateUser(e).then(function(e){return g.userWasUpdated(e.user),e.user}).catch(g.actionFailed);return t.then(l.a.updateResources).then(u.a.clear),t}},{key:"userWasUpdated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"deleteUser",value:function(e){this.dispatch(e),i.a.setStatus(v("status.saving"),"saving");var t=a.a.deleteUser(e).then(function(){return c.a.loadLicense(),g.userWasDeleted(e)}).catch(g.actionFailed);return t.then(function(){return g.refresh()}).then(u.a.clear),t}},{key:"userWasDeleted",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"deactivateUser",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.deactivateUser(e).then(function(e){return g.userDeactivated(e.user)}).catch(g.actionFailed);return t.then(u.a.clear),t}},{key:"userDeactivated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"activateUser",value:function(e){this.dispatch(e),i.a.flashStatus(v("status.saving"),"saving");var t=a.a.activateUser(e).then(function(e){return c.a.loadLicense(),g.userActivated(e.user)}).catch(g.actionFailed);return t.then(u.a.clear),t}},{key:"userActivated",value:function(e){return this.dispatch(e),i.a.flashStatus(v("status.saved"),"saved"),Promise.resolve(e)}},{key:"sendInvitation",value:function(e){return i.a.setStatus(v("status.sending_invitation",{name:e.name}),"saving"),a.a.sendInvitation(e).then(function(e){return g.invitationSent(e)}).catch(g.actionFailed)}},{key:"invitationSent",value:function(e){return i.a.flashStatus(v("status.invitation_sent"),"saved"),Promise.resolve(e)}}])&&f(t.prototype,n),r&&f(t,r),e}(),g=r.a.createActions(y);t.a=g},function(e,t,n){var r=n(195),a=n(131).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(195),a=n(131);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(268);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";var T=n(60);function p(e){return"/"===e.charAt(0)}function h(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var i=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],i=e&&p(e),o=t&&p(t),s=i||o;if(e&&p(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=a.length;0<=c;c--){var d=a[c];"."===d?h(a,c):".."===d?(h(a,c),u++):u&&(h(a,c),u--)}if(!s)for(;u--;)a.unshift("..");!s||""===a[0]||a[0]&&p(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function o(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var r=function n(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(e,t){return n(e,r[t])});if("object"!=typeof t&&"object"!=typeof r)return!1;var e=o(t),a=o(r);return e!==t||a!==r?n(e,a):Object.keys(Object.assign({},t,r)).every(function(e){return n(t[e],r[e])})},x=n(117);function P(e){return"/"===e.charAt(0)?e:"/"+e}function a(e){return"/"===e.charAt(0)?e.substr(1):e}function j(e,t){return r=t,0===(n=e).toLowerCase().indexOf(r.toLowerCase())&&-1!=="/?#".indexOf(n.charAt(r.length))?e.substr(t.length):e;var n,r}function M(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function N(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function A(e,t,n,r){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(T.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=i(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function s(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&r(e.state,t.state)}function L(){var i=null;var r=[];return{setPrompt:function(e){return i=e,function(){i===e&&(i=null)}},confirmTransitionTo:function(e,t,n,r){if(null!=i){var a="function"==typeof i?i(e,t):i;"string"==typeof a?"function"==typeof n?n(a,r):r(!0):r(!1!==a)}else r(!0)},appendListener:function(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}}}n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return A}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return N});var R=!("undefined"==typeof window||!window.document||!window.document.createElement);function I(e,t){t(window.confirm(e))}var F="popstate",V="hashchange";function U(){try{return window.history.state||{}}catch(e){return{}}}function l(e){void 0===e&&(e={}),R||Object(x.a)(!1);var t,s=window.history,l=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,n=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e.forceRefresh,u=void 0!==r&&r,a=e.getUserConfirmation,c=void 0===a?I:a,i=e.keyLength,o=void 0===i?6:i,d=e.basename?M(P(e.basename)):"";function f(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname+a.search+a.hash;return d&&(i=j(i,d)),A(i,r,n)}function p(){return Math.random().toString(36).substr(2,o)}var h=L();function m(e){Object(T.a)(D,e),D.length=s.length,h.notifyListeners(D.location,D.action)}function v(e){void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")||b(f(e.state))}function y(){b(f(U()))}var g=!1;function b(t){if(g)g=!1,m();else{h.confirmTransitionTo(t,"POP",c,function(e){e?m({action:"POP",location:t}):function(e){var t=D.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(g=!0,S(a))}(t)})}}var w=f(U()),_=[w.key];function E(e){return d+N(e)}function S(e){s.go(e)}var k=0;function O(e){1===(k+=e)&&1===e?(window.addEventListener(F,v),n&&window.addEventListener(V,y)):0===k&&(window.removeEventListener(F,v),n&&window.removeEventListener(V,y))}var C=!1;var D={length:s.length,action:"POP",location:w,createHref:E,push:function(e,t){var o=A(e,t,p(),D.location);h.confirmTransitionTo(o,"PUSH",c,function(e){if(e){var t=E(o),n=o.key,r=o.state;if(l)if(s.pushState({key:n,state:r},null,t),u)window.location.href=t;else{var a=_.indexOf(D.location.key),i=_.slice(0,a+1);i.push(o.key),_=i,m({action:"PUSH",location:o})}else window.location.href=t}})},replace:function(e,t){var i=A(e,t,p(),D.location);h.confirmTransitionTo(i,"REPLACE",c,function(e){if(e){var t=E(i),n=i.key,r=i.state;if(l)if(s.replaceState({key:n,state:r},null,t),u)window.location.replace(t);else{var a=_.indexOf(D.location.key);-1!==a&&(_[a]=i.key),m({action:"REPLACE",location:i})}else window.location.replace(t)}})},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return C||(O(1),C=!0),function(){return C&&(C=!1,O(-1)),t()}},listen:function(e){var t=h.appendListener(e);return O(1),function(){O(-1),t()}}};return D}var O="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+a(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:a,decodePath:P},slash:{encodePath:P,decodePath:P}};function D(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Y(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function H(e){window.location.replace(D(window.location.href)+"#"+e)}function u(e){void 0===e&&(e={}),R||Object(x.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e.getUserConfirmation),s=void 0===n?I:n,r=e.hashType,a=void 0===r?"slash":r,l=e.basename?M(P(e.basename)):"",i=C[a],u=i.encodePath,o=i.decodePath;function c(){var e=o(Y());return l&&(e=j(e,l)),A(e)}var d=L();function f(e){Object(T.a)(k,e),k.length=t.length,d.notifyListeners(k.location,k.action)}var p=!1,h=null;function m(){var e,t,n=Y(),r=u(n);if(n!==r)H(r);else{var a=c(),i=k.location;if(!p&&(t=a,(e=i).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(h===N(a))return;h=null,function(t){if(p)p=!1,f();else{d.confirmTransitionTo(t,"POP",s,function(e){e?f({action:"POP",location:t}):function(e){var t=k.location,n=b.lastIndexOf(N(t));-1===n&&(n=0);var r=b.lastIndexOf(N(e));-1===r&&(r=0);var a=n-r;a&&(p=!0,w(a))}(t)})}}(a)}}var v=Y(),y=u(v);v!==y&&H(y);var g=c(),b=[N(g)];function w(e){t.go(e)}var _=0;function E(e){1===(_+=e)&&1===e?window.addEventListener(O,m):0===_&&window.removeEventListener(O,m)}var S=!1;var k={length:t.length,action:"POP",location:g,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=D(window.location.href)),n+"#"+u(l+N(e))},push:function(e,t){var o=A(e,void 0,void 0,k.location);d.confirmTransitionTo(o,"PUSH",s,function(e){if(e){var t,n=N(o),r=u(l+n);if(Y()!==r){h=n,t=r,window.location.hash=t;var a=b.lastIndexOf(N(k.location)),i=b.slice(0,a+1);i.push(n),b=i,f({action:"PUSH",location:o})}else f()}})},replace:function(e,t){var a=A(e,void 0,void 0,k.location);d.confirmTransitionTo(a,"REPLACE",s,function(e){if(e){var t=N(a),n=u(l+t);Y()!==n&&(h=t,H(n));var r=b.indexOf(N(k.location));-1!==r&&(b[r]=t),f({action:"REPLACE",location:a})}})},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(e){var t=d.appendListener(e);return E(1),function(){E(-1),t()}}};return k}function v(e,t,n){return Math.min(Math.max(e,t),n)}function c(e){void 0===e&&(e={});var a=e.getUserConfirmation,t=e.initialEntries,n=void 0===t?["/"]:t,r=e.initialIndex,i=void 0===r?0:r,o=e.keyLength,s=void 0===o?6:o,l=L();function u(e){Object(T.a)(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)}function c(){return Math.random().toString(36).substr(2,s)}var d=v(i,0,n.length-1),f=n.map(function(e){return A(e,void 0,"string"==typeof e?c():e.key||c())}),p=N;function h(e){var t=v(m.index+e,0,m.entries.length-1),n=m.entries[t];l.confirmTransitionTo(n,"POP",a,function(e){e?u({action:"POP",location:n,index:t}):u()})}var m={length:f.length,action:"POP",location:f[d],index:d,entries:f,createHref:p,push:function(e,t){var r=A(e,t,c(),m.location);l.confirmTransitionTo(r,"PUSH",a,function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),u({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var n=A(e,t,c(),m.location);l.confirmTransitionTo(n,"REPLACE",a,function(e){e&&u({action:"REPLACE",location:m.entries[m.index]=n})})},go:h,goBack:function(){h(-1)},goForward:function(){h(1)},canGo:function(e){var t=m.index+e;return 0<=t&&t<m.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){"use strict";var r,a,i=n(137),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,u=(r=/a/,a=/b*/g,o.call(r,"a"),o.call(a,"a"),0!==r.lastIndex||0!==a.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function(e){var t,n,r,a;return c&&(n=new RegExp("^"+this.source+"$(?!\\s)",i.call(this))),u&&(t=this.lastIndex),r=o.call(this,e),u&&r&&(this.lastIndex=this.global?r.index+r[0].length:t),c&&r&&1<r.length&&s.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r}),e.exports=l},function(e,t,n){"use strict";var r="Invariant failed";t.a=function(e,t){if(!e)throw new Error(r)}},function(e,t,n){var r=n(21),a=n(40);e.exports=function(t,n){try{a(r,t,n)}catch(e){r[t]=n}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eachObject=a,t.assign=function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return a(function(e,t){return n[e]=t},t),n};function a(n,e){e.forEach(function(t){Object.keys(Object(t)).forEach(function(e){n(e,t[e])})})}t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";var r=n(19),a=n(96).find,i=n(153),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r({target:"Array",proto:!0,forced:o},{find:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),i("find")},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},function(e,t,n){"use strict";var d=n(40),f=n(38),p=n(20),h=n(23),m=n(116),v=h("species"),y=!p(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),g=!p(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(n,e,t,r){var a=h(n),i=!p(function(){var e={};return e[a]=function(){return 7},7!=""[n](e)}),o=i&&!p(function(){var e=!1,t=/a/;return"split"===n&&((t={constructor:{}}).constructor[v]=function(){return t},t.flags="",t[a]=/./[a]),t.exec=function(){return e=!0,null},t[a](""),!e});if(!i||!o||"replace"===n&&!y||"split"===n&&!g){var s=/./[a],l=t(a,""[n],function(e,t,n,r,a){return t.exec===m?i&&!a?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),u=l[0],c=l[1];f(String.prototype,n,u),f(RegExp.prototype,a,2==e?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)}),r&&d(RegExp.prototype[a],"sham",!0)}}},function(e,t,n){var a=n(57),i=n(116);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){var r=n(156),a=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return a.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(74),a=n(156);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.5.0",mode:r?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(20);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r={};r[n(23)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(21);e.exports=r},function(e,t,n){var r=n(21),a=n(28),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(32),a=n(65);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,a["a"]),t=e,(n=[{key:"setLanguage",value:function(e){this.dispatch(e)}},{key:"setDateLocale",value:function(e,t){this.dispatch({dateLocale:e,use24hTimes:t})}},{key:"loadSections",value:function(e){this.dispatch(e)}}])&&o(t.prototype,n),r&&o(t,r),e}(),d=r.a.createActions(c);t.a=d},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(155),a=n(344),i=n(345),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},function(e,t,n){"use strict";var r=n(290),a=n(291),i=n(218);e.exports={formats:i,parse:a,stringify:r}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(34),o=n(104);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=u(this,c(e).apply(this,arguments))).handleMouseOver=function(e){e.persist(),e.stopPropagation(),clearTimeout(r.mouseOutTimeoutId),clearTimeout(r.touchEndTimeoutId),r.mouseOverTimeoutId=window.setTimeout(function(){return r.showMenu(e)},700)},r.handleMouseOut=function(e){e.stopPropagation(),clearTimeout(r.mouseOverTimeoutId),clearTimeout(r.touchStartTimeoutId),r.mouseOutTimeoutId=window.setTimeout(function(){return r.hideMenu()},50)},r.handleTouchStart=function(e){e.persist(),clearTimeout(r.mouseOutTimeoutId),clearTimeout(r.touchEndTimeoutId),r.touchStartTimeoutId=window.setTimeout(function(){return r.showMenu(e)},700)},r.handleTouchEnd=function(e){clearTimeout(r.mouseOverTimeoutId),clearTimeout(r.touchStartTimeoutId),r.touchEndTimeoutId=window.setTimeout(function(){return r.hideMenu()},2e3)},r.handleClick=function(e){r.props.onClick&&r.props.onClick(e),clearTimeout(r.mouseOverTimeoutId),clearTimeout(r.mouseOutTimeoutId),clearTimeout(r.touchStartTimeoutId),clearTimeout(r.touchEndTimeoutId),setTimeout(function(){return r.hideMenu()},0)},r.hideMenu=function(){Object(i.e)({id:r.props.id})},r.showMenu=function(e){if(!r.props.disabled){var t=(e.clientX||e.touches&&e.touches[0].pageX)+15,n=(e.clientY||e.touches&&e.touches[0].pageY)+15;Object(i.f)({position:{x:t,y:n},target:r.ref,id:r.props.id,data:r.props.collect?r.props.collect(r.props):{message:r.props.message||""}})}},r}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(e,a.a.Component),t=e,(n=[{key:"shouldComponentUpdate",value:function(e){return!(e.disabled&&!this.props.disabled)||(this.hideMenu(),!1)}},{key:"render",value:function(){var t=this,e={onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick,ref:function(e){t.ref=e,t.props.ref&&t.props.ref(e)}},n=Object.assign({},Object(o.a)(this.props,["id","collect","message","disabled","component","children"]),e);return a.a.createElement(this.props.component||"span",n,this.props.children)}}])&&l(t.prototype,n),r&&l(t,r),e}();t.a=f},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(29);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(19),a=n(146).includes,i=n(153);r({target:"Array",proto:!0},{includes:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),i("includes")},function(e,t,n){"use strict";var r=n(122),d=n(216),b=n(29),f=n(47),w=n(189),_=n(157),E=n(51),S=n(123),p=n(116),a=n(20),h=[].push,k=Math.min,O=4294967295,C=!a(function(){return!RegExp(O,"y")});r("split",2,function(a,v,y){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var n=String(f(this)),r=void 0===t?O:t>>>0;if(0==r)return[];if(void 0===e)return[n];if(!d(e))return v.call(n,e,r);for(var a,i,o,s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=new RegExp(e.source,l+"g");(a=p.call(c,n))&&!(u<(i=c.lastIndex)&&(s.push(n.slice(u,a.index)),1<a.length&&a.index<n.length&&h.apply(s,a.slice(1)),o=a[0].length,u=i,s.length>=r));)c.lastIndex===a.index&&c.lastIndex++;return u===n.length?!o&&c.test("")||s.push(""):s.push(n.slice(u)),s.length>r?s.slice(0,r):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:v.call(this,e,t)}:v,[function(e,t){var n=f(this),r=null==e?void 0:e[a];return void 0!==r?r.call(e,n,t):g.call(String(n),e,t)},function(e,t){var n=y(g,e,this,t,g!==v);if(n.done)return n.value;var r=b(e),a=String(this),i=w(r,RegExp),o=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(C?"y":"g"),l=new i(C?r:"^(?:"+r.source+")",s),u=void 0===t?O:t>>>0;if(0==u)return[];if(0===a.length)return null===S(l,a)?[a]:[];for(var c=0,d=0,f=[];d<a.length;){l.lastIndex=C?d:0;var p,h=S(l,C?a:a.slice(d));if(null===h||(p=k(E(l.lastIndex+(C?0:d)),a.length))===c)d=_(a,d,o);else{if(f.push(a.slice(c,d)),f.length===u)return f;for(var m=1;m<=h.length-1;m++)if(f.push(h[m]),f.length===u)return f;d=c=p}}return f.push(a.slice(c)),f}]},!C)},function(e,t,n){"use strict";var r={},a=Object.create,i=Object.defineProperties,o=Object.defineProperty,s=function(e){var t=void 0===arguments[1]?{}:arguments[1];return{value:e,configurable:!!t.c,writable:!!t.w,enumerable:!!t.e}},l=void 0;try{var u=o({},"y",{get:function(){return 1}});l=1===u.y}catch(e){l=!1}var c={},d=function(e){e=String(e);for(var t="",n=0;c[e+t];)t=n+=1;c[e+t]=1;var r="Symbol("+e+t+")";return l&&o(Object.prototype,r,{get:void 0,set:function(e){o(this,r,s(e,{c:!0,w:!0}))},configurable:!0,enumerable:!1}),r},f=a(null);function p(e){if(this instanceof p)throw new TypeError("Symbol is not a constructor");e=void 0===e?"":String(e);var t=d(e);return l?a(f,{__description__:s(e),__tag__:s(t)}):t}i(p,{for:s(function(e){var t=String(e);if(r[t])return r[t];var n=p(t);return r[t]=n}),keyFor:s(function(e){if(l&&(!(t=e)||"Symbol"!==t[p.toStringTag]))throw new TypeError(e+" is not a symbol");var t;for(var n in r)if(r[n]===e)return l?r[n].__description__:r[n].substr(7,r[n].length-8)})}),i(p,{hasInstance:s(p("hasInstance")),isConcatSpreadable:s(p("isConcatSpreadable")),iterator:s(p("iterator")),match:s(p("match")),replace:s(p("replace")),search:s(p("search")),species:s(p("species")),split:s(p("split")),toPrimitive:s(p("toPrimitive")),toStringTag:s(p("toStringTag")),unscopables:s(p("unscopables"))}),i(f,{constructor:s(p),toString:s(function(){return this.__tag__}),valueOf:s(function(){return"Symbol("+this.__description__+")"})}),l&&o(f,p.toStringTag,s("Symbol",{c:!0})),e.exports="function"==typeof Symbol?Symbol:p},function(e,t,n){var r=n(333),a=n(334),i=n(335),o=n(336),s=n(337);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(223);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(93)(Object,"create");e.exports=r},function(e,t,n){var r=n(357);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(80),n(8),n(9);var r=n(32),a=n(213),i=n(18),o=n(4),s=n(65);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=o.a.partial("settings"),h=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,d(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(e,s["a"]),t=e,(n=[{key:"actionFailed",value:function(e){return i.a.flashStatus(p("status.save_failed"),"error"),Promise.reject(e)}},{key:"updateSection",value:function(e,t){var n=this;return this.dispatch({section:e,input:t}),i.a.setStatus(p("status.saving"),"saving"),a.a.updateSection(e,t).then(function(e){i.a.flashStatus(p("status.saved"),"saved"),n.actions.sectionWasUpdated(e)}).catch(this.actions.actionFailed)}},{key:"refreshSection",value:function(e){var t=this;return this.dispatch({section:e}),a.a.refreshSection(e).then(function(e){return t.actions.sectionWasUpdated(e)}).catch(this.actions.actionFailed)}},{key:"sectionWasUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"createOrder",value:function(e){var t=this;return this.dispatch(e),a.a.createOrder(e).then(function(e){return t.actions.orderWasCreated(e)}).catch(this.actions.actionFailed)}},{key:"orderWasCreated",value:function(e){return this.dispatch(e),Promise.resolve(e)}}])&&u(t.prototype,n),r&&u(t,r),e}(),m=r.a.createActions(h);t.a=m},function(e,t,n){function r(s){return function(e,t,n){var r,a=l(e),i=u(a.length),o=c(n,i);if(s&&t!=t){for(;o<i;)if((r=a[o++])!=r)return!0}else for(;o<i;o++)if((s||o in a)&&a[o]===t)return s||o||0;return!s&&-1}}var l=n(54),u=n(51),c=n(187);e.exports={includes:r(!0),indexOf:r(!1)}},function(e,t,n){var r=n(57);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";function y(){return this}var g=n(19),b=n(271),w=n(149),_=n(154),E=n(92),S=n(40),k=n(38),r=n(23),O=n(74),C=n(97),a=n(215),D=a.IteratorPrototype,T=a.BUGGY_SAFARI_ITERATORS,x=r("iterator"),P="values";e.exports=function(e,t,n,r,a,i,o){b(n,t,r);function s(e){if(e===a&&m)return m;if(!T&&e in p)return p[e];switch(e){case"keys":case P:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}var l,u,c,d=t+" Iterator",f=!1,p=e.prototype,h=p[x]||p["@@iterator"]||a&&p[a],m=!T&&h||s(a),v="Array"==t&&p.entries||h;if(v&&(l=w(v.call(new e)),D!==Object.prototype&&l.next&&(O||w(l)===D||(_?_(l,D):"function"!=typeof l[x]&&S(l,x,y)),E(l,d,!0,!0),O&&(C[d]=y))),a==P&&h&&h.name!==P&&(f=!0,m=function(){return h.call(this)}),O&&!o||p[x]===m||S(p,x,m),C[t]=m,a)if(u={values:s(P),keys:i?m:s("keys"),entries:s("entries")},o)for(c in u)!T&&!f&&c in p||k(p,c,u[c]);else g({target:t,proto:!0,forced:T||f},u);return u}},function(e,t,n){var r=n(31),a=n(52),i=n(107),o=n(221),s=i("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=a(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var r=n(20),a=n(23),i=n(209),o=a("species");e.exports=function(t){return 51<=i||!r(function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(e,t,n){function p(e,t){this.stopped=e,this.result=t}var h=n(29),m=n(251),v=n(51),y=n(103),g=n(222),b=n(252);(e.exports=function(e,t,n,r,a){var i,o,s,l,u,c,d,f=y(t,n,r?2:1);if(a)i=e;else{if("function"!=typeof(o=g(e)))throw TypeError("Target is not iterable");if(m(o)){for(s=0,l=v(e.length);s<l;s++)if((u=r?f(h(d=e[s])[0],d[1]):f(e[s]))&&u instanceof p)return u;return new p(!1)}i=o.call(e)}for(c=i.next;!(d=c.call(i)).done;)if("object"==typeof(u=b(i,f,d.value,r))&&u&&u instanceof p)return u;return new p(!1)}).stop=function(e){return new p(!0,e)}},function(e,t,n){"use strict";function s(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n}var l=Object.prototype.hasOwnProperty,c=Array.isArray,u=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:s,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var a=t[r],i=a.obj[a.prop],o=Object.keys(i),s=0;s<o.length;++s){var l=o[s],u=i[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:i,prop:l}),n.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(c(n)){for(var r=[],a=0;a<n.length;++a)void 0!==n[a]&&r.push(n[a]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",i=0;i<r.length;++i){var o=r.charCodeAt(i);45===o||46===o||95===o||126===o||48<=o&&o<=57||65<=o&&o<=90||97<=o&&o<=122?a+=r.charAt(i):o<128?a+=u[o]:o<2048?a+=u[192|o>>6]+u[128|63&o]:o<55296||57344<=o?a+=u[224|o>>12]+u[128|o>>6&63]+u[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&r.charCodeAt(i)),a+=u[240|o>>18]+u[128|o>>12&63]+u[128|o>>6&63]+u[128|63&o])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function r(a,i,o){if(!i)return a;if("object"!=typeof i){if(c(a))a.push(i);else{if(!a||"object"!=typeof a)return[a,i];(o&&(o.plainObjects||o.allowPrototypes)||!l.call(Object.prototype,i))&&(a[i]=!0)}return a}if(!a||"object"!=typeof a)return[a].concat(i);var e=a;return c(a)&&!c(i)&&(e=s(a,o)),c(a)&&c(i)?(i.forEach(function(e,t){if(l.call(a,t)){var n=a[t];n&&"object"==typeof n&&e&&"object"==typeof e?a[t]=r(n,e,o):a.push(e)}else a[t]=e}),a):Object.keys(i).reduce(function(e,t){var n=i[t];return l.call(e,t)?e[t]=r(e[t],n,o):e[t]=n,e},e)}}},function(e,t,n){var r=n(23),a=n(90),i=n(40),o=r("unscopables"),s=Array.prototype;null==s[o]&&i(s,o,a(null)),e.exports=function(e){s[o][e]=!0}},function(e,t,n){var a=n(29),i=n(286);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return a(e),i(t),r?n.call(e,t):e.__proto__=t,e}}():void 0)},function(e,t,n){var r=n(67).Symbol;e.exports=r},function(e,t,n){var r=n(21),a=n(118),i="__core-js_shared__",o=r[i]||a(i,{});e.exports=o},function(e,t,n){"use strict";var r=n(193).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(82),s=n(0),u=n.n(s),a=n(6),l=n.n(a),c=n(114),i=n(392),d=n.n(i),o=n(426),f=n.n(o),p=1073741823;var h=u.a.createContext||function(r,o){var e,t,a="__create-react-context-"+f()()+"__",n=function(t){function e(){var e,n,r;return(e=t.apply(this,arguments)||this).emitter=(n=e.props.value,r=[],{on:function(e){r.push(e)},off:function(t){r=r.filter(function(e){return e!==t})},get:function(){return n},set:function(e,t){n=e,r.forEach(function(e){return e(n,t)})}}),e}d()(e,t);var n=e.prototype;return n.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,n=this.props.value,r=e.value;((a=n)===(i=r)?0!==a||1/a==1/i:a!=a&&i!=i)?t=0:(t="function"==typeof o?o(n,r):p,0!==(t|=0)&&this.emitter.set(e.value,t))}var a,i},n.render=function(){return this.props.children},e}(s.Component);n.childContextTypes=((e={})[a]=l.a.object.isRequired,e);var i=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).state={value:n.getValue()},n.onUpdate=function(e,t){0!=((0|n.observedBits)&t)&&n.setState({value:n.getValue()})},n}d()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?p:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?p:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():r},n.render=function(){return e=this.props.children,(Array.isArray(e)?e[0]:e)(this.state.value);var e},t}(s.Component);return i.contextTypes=((t={})[a]=l.a.object,t),{Provider:n,Consumer:i}},m=n(117),v=n(60),y=n(393),g=n.n(y),b=(n(424),n(101)),w=n(427),_=n.n(w);n.d(t,"a",function(){return x}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return V}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return N}),n.d(t,"g",function(){return U});var E=function(e){var t=h();return t.displayName=e,t}("Router"),S=function(n){function e(e){var t;return(t=n.call(this,e)||this).state={location:e.history.location},t._isMounted=!1,t._pendingLocation=null,e.staticContext||(t.unlisten=e.history.listen(function(e){t._isMounted?t.setState({location:e}):t._pendingLocation=e})),t}Object(r.a)(e,n),e.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var t=e.prototype;return t.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&this.unlisten()},t.render=function(){return u.a.createElement(E.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},e}(u.a.Component);u.a.Component;var k=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(u.a.Component);var O={},C=1e4,D=0;function T(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(O[e])return O[e];var t=g.a.compile(e);return D<C&&(O[e]=t,D++),t}(e)(t,{pretty:!0})}function x(e){var i=e.computedMatch,o=e.to,t=e.push,s=void 0!==t&&t;return u.a.createElement(E.Consumer,null,function(e){e||Object(m.a)(!1);var t=e.history,n=e.staticContext,r=s?t.push:t.replace,a=Object(c.c)(i?"string"==typeof o?T(o,i.params):Object(v.a)({},o,{pathname:T(o.pathname,i.params)}):o);return n?(r(a),null):u.a.createElement(k,{onMount:function(){r(a)},onUpdate:function(e,t){var n=Object(c.c)(t.to);Object(c.f)(n,Object(v.a)({},a,{key:n.key}))||r(a)},to:o})})}var P={},j=1e4,M=0;function N(u,e){void 0===e&&(e={}),"string"!=typeof e&&!Array.isArray(e)||(e={path:e});var t=e.path,n=e.exact,c=void 0!==n&&n,r=e.strict,d=void 0!==r&&r,a=e.sensitive,f=void 0!==a&&a;return[].concat(t).reduce(function(e,t){if(!t&&""!==t)return null;if(e)return e;var n=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=P[n]||(P[n]={});if(r[e])return r[e];var a=[],i={regexp:g()(e,a,t),keys:a};return M<j&&(r[e]=i,M++),i}(t,{end:c,strict:d,sensitive:f}),r=n.regexp,a=n.keys,i=r.exec(u);if(!i)return null;var o=i[0],s=i.slice(1),l=u===o;return c&&!l?null:{path:t,url:"/"===t&&""===o?"/":o,isExact:l,params:a.reduce(function(e,t,n){return e[t.name]=s[n],e},{})}},null)}var A=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var l=this;return u.a.createElement(E.Consumer,null,function(e){e||Object(m.a)(!1);var t=l.props.location||e.location,n=l.props.computedMatch?l.props.computedMatch:l.props.path?N(t.pathname,l.props):e.match,r=Object(v.a)({},e,{location:t,match:n}),a=l.props,i=a.children,o=a.component,s=a.render;return Array.isArray(i)&&0===i.length&&(i=null),u.a.createElement(E.Provider,{value:r},r.match?i?"function"==typeof i?i(r):i:o?u.a.createElement(o,r):s?s(r):null:"function"==typeof i?i(r):null)})},t}(u.a.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function R(e){return"string"==typeof e?e:Object(c.e)(e)}function I(){return function(){Object(m.a)(!1)}}function F(){}u.a.Component;var V=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return u.a.createElement(E.Consumer,null,function(n){n||Object(m.a)(!1);var r,a,i=e.props.location||n.location;return u.a.Children.forEach(e.props.children,function(e){if(null==a&&u.a.isValidElement(e)){var t=(r=e).props.path||e.props.from;a=t?N(i.pathname,Object(v.a)({},e.props,{path:t})):n.match}}),a?u.a.cloneElement(r,{location:i,computedMatch:a}):null})},t}(u.a.Component);function U(r){function e(e){var t=e.wrappedComponentRef,n=Object(b.a)(e,["wrappedComponentRef"]);return u.a.createElement(E.Consumer,null,function(e){return e||Object(m.a)(!1),u.a.createElement(r,Object(v.a)({},n,e,{ref:t}))})}var t="withRouter("+(r.displayName||r.name)+")";return e.displayName=t,e.WrappedComponent=r,_()(e,r)}u.a.useContext},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(33),a=n(20),i=n(129);e.exports=!r&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(61),a=n(37),i=n(23),o=n(33),s=i("species");e.exports=function(e){var t=r(e),n=a.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=n(378),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=(function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(l,[{key:"get",value:function(e){return void 0!==this.registeredTypes[e]?this.registeredTypes[e]:this.registeredTypes.default}},{key:"register",value:function(e,t){void 0===this.registeredTypes[e]&&(this.registeredTypes[e]=t)}},{key:"registerDefault",value:function(e){this.register("default",e)}}]),l);function l(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,l),this.registeredTypes=e}var u=(i(d,s),d);function d(e){r(this,d);var t=o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.registerDefault(function(e){return e.getAttribute("name")||""}),t}var f=(i(h,s),h);function h(e){r(this,h);var t=o(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e));return t.registerDefault(function(e){return e.value}),t.register("checkbox",function(e){return e.checked}),t}var m=(i(v,s),v);function v(e){r(this,v);var t=o(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.registerDefault(function(){return!0}),t.register("radio",function(e){return e.checked}),t}function y(e){var t=e.match(/[^\[\]]+/g),n=void 0;return 1<e.length&&e.indexOf("[]")===e.length-2&&(n=t.pop(),t.push([n])),t}function g(e){var t=e.tagName,n=t;return"input"===t.toLowerCase()&&(n=e.getAttribute("type")||"text"),n.toLowerCase()}function b(e,f){return Array.prototype.filter.call(e.querySelectorAll("input,select,textarea"),function(e){if("input"===e.tagName.toLowerCase()&&("submit"===e.type||"reset"===e.type))return!1;var t=g(e),n=f.keyExtractors.get(t)(e),r=-1!==(f.include||[]).indexOf(n),a=-1!==(f.exclude||[]).indexOf(n),i=!1;if(f.ignoredTypes){var o=!0,s=!1,l=void 0;try{for(var u,c=f.ignoredTypes[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;p(e,d)&&(i=!0)}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}}return!(!r&&(!!f.include||(a||i)))})}var w=(i(_,s),_);function _(e){r(this,_);var t=o(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,e));return t.registerDefault(function(e,t){e.value=t}),t.register("checkbox",function(e,t){null===t?e.indeterminate=!0:e.checked=t}),t.register("radio",function(e,t){void 0!==t&&(e.checked=e.value===t.toString())}),t}function E(e,t){return e+"["+t+"]"}var S={serialize:function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o={};return i.keySplitter=i.keySplitter||y,i.keyExtractors=new u(i.keyExtractors||{}),i.inputReaders=new f(i.inputReaders||{}),i.keyAssignmentValidators=new m(i.keyAssignmentValidators||{}),Array.prototype.forEach.call(b(e,i),function(e){var t=g(e),n=i.keyExtractors.get(t)(e),r=i.inputReaders.get(t)(e);if(i.keyAssignmentValidators.get(t)(e,n,r)){var a=i.keySplitter(n);o=function e(t,n,r){if(!n)return t;var a=n.shift();return t[a]||(t[a]=Array.isArray(a)?[]:{}),0===n.length&&(Array.isArray(t[a])?t[a].push(r):t[a]=r),0<n.length&&e(t[a],n,r),t}(o,a,r)}}),o},deserialize:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=function e(t,n,r){var a=arguments.length<=2||void 0===r?{}:r,i={},o=a.keyJoiner||E;for(var s in t)if(t.hasOwnProperty(s)){var l=t[s],u={};n&&(s=o(n,s)),Array.isArray(l)?u[s+="[]"]=l:"object"===(void 0===l?"undefined":c(l))?u=e(l,s,a):u[s]=l,Object.assign(i,u)}return i}(t,null,r);r.keyExtractors=new u(r.keyExtractors||{}),r.inputWriters=new w(r.inputWriters||{}),Array.prototype.forEach.call(b(e,r),function(e){var t=g(e),n=r.keyExtractors.get(t)(e);r.inputWriters.get(t)(e,a[n])})}};t.a=S},function(e,t,n){!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r;function i(e){return e>1&&e<5&&~~(e/10)!==1}function a(e,t,n,r){var a=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":if(t||r){return a+(i(e)?"sekundy":"sekund")}else{return a+"sekundami"}break;case"m":return t?"minuta":r?"minutu":"minutou";case"mm":if(t||r){return a+(i(e)?"minuty":"minut")}else{return a+"minutami"}break;case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":if(t||r){return a+(i(e)?"hodiny":"hodin")}else{return a+"hodinami"}break;case"d":return t||r?"den":"dnem";case"dd":if(t||r){return a+(i(e)?"dny":"dn")}else{return a+"dny"}break;case"M":return t||r?"msc":"mscem";case"MM":if(t||r){return a+(i(e)?"msce":"msc")}else{return a+"msci"}break;case"y":return t||r?"rok":"rokem";case"yy":if(t||r){return a+(i(e)?"roky":"let")}else{return a+"lety"}break}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++){r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i")}return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(t),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n;e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var n="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),r="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){if(!e){return n}else if(/-MMM-/.test(t)){return r[e.month()]}else{return n[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var n="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),r=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",n[7],n[8],n[9]],t;function a(e,t,n,r){var a="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":a=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":a=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":a=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":a=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":a=r?"vuoden":"vuotta";break}a=i(e,r)+" "+a;return a}function i(e,t){return e<10?t?r[e]:n[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(e===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":if(e===1){r+="sekunda"}else if(e===2||e===3||e===4){r+="sekunde"}else{r+="sekundi"}return r;case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){r+="minuta"}else if(e===2||e===3||e===4){r+="minute"}else{r+="minuta"}return r;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){r+="sat"}else if(e===2||e===3||e===4){r+="sata"}else{r+="sati"}return r;case"dd":if(e===1){r+="dan"}else{r+="dana"}return r;case"MM":if(e===1){r+="mjesec"}else if(e===2||e===3||e===4){r+="mjeseca"}else{r+="mjeseci"}return r;case"yy":if(e===1){r+="godina"}else if(e===2||e===3||e===4){r+="godine"}else{r+="godina"}return r}}var n;e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" "),n;function r(e,t,n,r){var a=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return a+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return a+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return a+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return a+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return a+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return a+(r||t?" v":" ve")}return""}function a(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return e.charAt(1).toLowerCase()==="u"},meridiem:function(e,t,n){if(e<12){return n===true?"de":"DE"}else{return n===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,false)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return e===""},meridiem:function(e,t,n){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){if(e.week()<this.week()){return"[]dddd LT"}else{return"dddd LT"}},lastDay:"[] LT",lastWeek:function(e){if(this.week()<e.week()){return"[]dddd LT"}else{return"dddd LT"}},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(3))},function(e,t,n){!function(e){"use strict";var n="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),r="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),t=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){if(!e){return n}else if(/-MMM-/.test(t)){return r[e.month()]}else{return n[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var n="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),t;function a(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function i(e,t,n){var r=e+" ";switch(n){case"ss":return r+(a(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return r+(a(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return r+(a(e)?"godziny":"godzin");case"MM":return r+(a(e)?"miesice":"miesicy");case"yy":return r+(a(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,t){if(!e){return n}else if(t===""){return"("+r[e.month()]+"|"+n[e.month()]+")"}else if(/D MMMM/.test(t)){return r[e.month()]}else{return n[e.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:i,m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";if(e%100>=20||e>=100&&e%100===0){a=" de "}return e+a+r[n]}var n;e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";function a(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function t(e,t,n){var r={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(n==="m"){return t?"":""}else{return e+" "+a(r[n],+e)}}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],r;e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},lastWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),r;function i(e){return e>1&&e<5}function a(e,t,n,r){var a=e+" ";switch(n){case"s":return t||r?"pr seknd":"pr sekundami";case"ss":if(t||r){return a+(i(e)?"sekundy":"seknd")}else{return a+"sekundami"}break;case"m":return t?"minta":r?"mintu":"mintou";case"mm":if(t||r){return a+(i(e)?"minty":"mint")}else{return a+"mintami"}break;case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":if(t||r){return a+(i(e)?"hodiny":"hodn")}else{return a+"hodinami"}break;case"d":return t||r?"de":"dom";case"dd":if(t||r){return a+(i(e)?"dni":"dn")}else{return a+"dami"}break;case"M":return t||r?"mesiac":"mesiacom";case"MM":if(t||r){return a+(i(e)?"mesiace":"mesiacov")}else{return a+"mesiacmi"}break;case"y":return t||r?"rok":"rokom";case"yy":if(t||r){return a+(i(e)?"roky":"rokov")}else{return a+"rokmi"}break}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var a=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":if(e===1){a+=t?"sekundo":"sekundi"}else if(e===2){a+=t||r?"sekundi":"sekundah"}else if(e<5){a+=t||r?"sekunde":"sekundah"}else{a+=t||r?"sekund":"sekund"}return a;case"m":return t?"ena minuta":"eno minuto";case"mm":if(e===1){a+=t?"minuta":"minuto"}else if(e===2){a+=t||r?"minuti":"minutama"}else if(e<5){a+=t||r?"minute":"minutami"}else{a+=t||r?"minut":"minutami"}return a;case"h":return t?"ena ura":"eno uro";case"hh":if(e===1){a+=t?"ura":"uro"}else if(e===2){a+=t||r?"uri":"urama"}else if(e<5){a+=t||r?"ure":"urami"}else{a+=t||r?"ur":"urami"}return a;case"d":return t||r?"en dan":"enim dnem";case"dd":if(e===1){a+=t||r?"dan":"dnem"}else if(e===2){a+=t||r?"dni":"dnevoma"}else{a+=t||r?"dni":"dnevi"}return a;case"M":return t||r?"en mesec":"enim mesecem";case"MM":if(e===1){a+=t||r?"mesec":"mesecem"}else if(e===2){a+=t||r?"meseca":"mesecema"}else if(e<5){a+=t||r?"mesece":"meseci"}else{a+=t||r?"mesecev":"meseci"}return a;case"y":return t||r?"eno leto":"enim letom";case"yy":if(e===1){a+=t||r?"leto":"letom"}else if(e===2){a+=t||r?"leti":"letoma"}else if(e<5){a+=t||r?"leta":"leti"}else{a+=t||r?"let":"leti"}return a}}var n;e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var a={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=a.words[n];if(n.length===1){return t?r[0]:r[1]}else{return e+" "+a.correctGrammaticalCase(e,r)}}},t;e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:a.translate,m:a.translate,mm:a.translate,h:a.translate,hh:a.translate,d:"dan",dd:a.translate,M:"mesec",MM:a.translate,y:"godinu",yy:a.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return e+n},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var i={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},t;e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(e===0){return e+"'nc"}var n=e%10,r=e%100-n,a=e>=100?100:null;return e+(i[n]||i[r]||i[a])}},week:{dow:1,doy:7}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""||t===""){return e+12}else{return e>=11?e:e+12}},meridiem:function(e,t,n){var r=e*100+t;if(r<600){return""}else if(r<900){return""}else if(r<1130){return""}else if(r<1230){return""}else if(r<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(3))},function(e,t,n){!function(e){"use strict";var t;e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""){return e>=11?e:e+12}else if(t===""||t===""){return e+12}},meridiem:function(e,t,n){var r=e*100+t;if(r<600){return""}else if(r<900){return""}else if(r<1130){return""}else if(r<1230){return""}else if(r<1800){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(3))},function(e,t,n){"use strict";n(5);var r=n(2),a=n(11);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=r.a.getBaseUrl()+"/"+r.a.getAppKey(),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"createKey",value:function(e){return Object(a.a)("POST",o+"/keys",e)}},{key:"refresh",value:function(){return Object(a.a)("GET",o+"/permissions")}},{key:"updateKey",value:function(e){return Object(a.a)("PATCH",o+"/keys/"+e.id,e)}},{key:"activateKey",value:function(e){return Object(a.a)("PATCH",o+"/keys/"+e.id,{active:!0})}},{key:"deactivateKey",value:function(e){return Object(a.a)("PATCH",o+"/keys/"+e.id,{active:!1})}},{key:"deleteKey",value:function(e){return Object(a.a)("DELETE",o+"/keys/"+e.id)}},{key:"createGroup",value:function(e){return Object(a.a)("POST",o+"/groups",e)}},{key:"updateGroup",value:function(e){return Object(a.a)("PUT",o+"/groups/"+e.id,e)}},{key:"deleteGroup",value:function(e){return Object(a.a)("DELETE",o+"/groups/"+e.id)}},{key:"activateGroup",value:function(e){return Object(a.a)("PATCH",o+"/groups/"+e.id,{active:!0})}},{key:"deactivateGroup",value:function(e){return Object(a.a)("PATCH",o+"/groups/"+e.id,{active:!1})}},{key:"createUser",value:function(e){return Object(a.a)("POST",o+"/users",e)}},{key:"updateUser",value:function(e){return Object(a.a)("PUT",o+"/users/"+e.id,e)}},{key:"deleteUser",value:function(e){return Object(a.a)("DELETE",o+"/users/"+e.id)}},{key:"activateUser",value:function(e){return Object(a.a)("PATCH",o+"/users/"+e.id,{active:!0})}},{key:"deactivateUser",value:function(e){return Object(a.a)("PATCH",o+"/users/"+e.id,{active:!1})}},{key:"refreshPermissions",value:function(e){return"user"==e.type?Object(a.a)("PUT",o+"/roles/"+e.id+"/refresh-permissions"):Object(a.a)("PUT",o+"/keys/"+e.id+"/refresh-permissions")}},{key:"sendInvitation",value:function(e){return Object(a.a)("POST",o+"/user/"+e.id+"/send-invitation")}}])&&i(t.prototype,n),r&&i(t,r),e}();t.a=new s},function(e,t,n){var r=n(86),a=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):i(n,t)}},function(e,t,n){var r=n(127),a=n(57),i=n(23)("toStringTag"),o="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?a(t):"Object"==(r=a(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var a=n(29),i=n(76),o=n(23)("species");e.exports=function(e,t){var n,r=a(e).constructor;return void 0===r||null==(n=a(r)[o])?t:i(n)}},function(t,n,e){var r;
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(){"use strict";function e(e){function i(e,t){t=null===(t="function"==typeof t?t():t)?"":void 0===t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var o=[],s=function(e,t){var n,r,a;if(e)if(Array.isArray(t))for(n=0,r=t.length;n<r;n++)s(e+"["+("object"==typeof t[n]&&t[n]?n:"")+"]",t[n]);else if("[object Object]"===String(t))for(a in t)s(e+"["+a+"]",t[a]);else i(e,t);else if(Array.isArray(t))for(n=0,r=t.length;n<r;n++)i(t[n].name,t[n].value);else for(a in t)s(a,t[a]);return o};return s("",e).join("&")}"object"==typeof t.exports?t.exports=e:void 0===(r=function(){return e}.apply(n,[]))||(t.exports=r)}()},,function(e,t,n){var r=n(126);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol()},function(e,t,n){function r(s){return function(e,t){var n,r,a=String(u(e)),i=l(t),o=a.length;return i<0||o<=i?s?"":void 0:(n=a.charCodeAt(i))<55296||56319<n||i+1===o||(r=a.charCodeAt(i+1))<56320||57343<r?s?a.charAt(i):n:s?a.slice(i,i+2):r-56320+(n-55296<<10)+65536}}var l=n(86),u=n(47);e.exports={codeAt:r(!1),charAt:r(!0)}},function(e,t,n){var r=n(33),a=n(21),i=n(108),o=n(205),s=n(37).f,l=n(110).f,u=n(216),c=n(137),d=n(38),f=n(20),p=n(161),h=n(23)("match"),m=a.RegExp,v=m.prototype,y=/a/g,g=/a/g,b=new m(y)!==y;if(r&&i("RegExp",!b||f(function(){return g[h]=!1,m(y)!=y||m(g)==g||"/a/i"!=m(y,"i")}))){function w(t){t in _||s(_,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})}for(var _=function(e,t){var n=this instanceof _,r=u(e),a=void 0===t;return!n&&r&&e.constructor===_&&a?e:o(b?new m(r&&!a?e.source:e,t):m((r=e instanceof _)?e.source:e,r&&a?c.call(e):t),n?this:v,_)},E=l(m),S=0;E.length>S;)w(E[S++]);(v.constructor=_).prototype=v,d(a,"RegExp",_)}p("RegExp")},function(e,t,n){var o=n(31),s=n(54),l=n(146).indexOf,u=n(85);e.exports=function(e,t){var n,r=s(e),a=0,i=[];for(n in r)!o(u,n)&&o(r,n)&&i.push(n);for(;t.length>a;)o(r,n=t[a++])&&(~l(i,n)||i.push(n));return i}},function(e,t,n){"use strict";var r=n(231),a=n(247);e.exports=r("Map",function(t){return function(e){return t(this,arguments.length?e:void 0)}},a)},function(e,t,n){var a=n(23)("iterator"),i=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){i=!0}};o[a]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[a]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},,function(e,t,n){"use strict";n(5);var a=n(11),i=n(2),r=n(190),o=n.n(r);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=i.a.getBaseUrl()+"/user",u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getAvatarUrl",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object(a.a)("GET",l+"/avatar/url?"+o()(t))}},{key:"searchByEmail",value:function(e,t){return Object(a.a)("GET",i.a.getBaseUrl()+"/users/search?"+o()({email:e})+(t?"&"+o()(t):""))}},{key:"search",value:function(e,t){return Object(a.a)("GET",i.a.getBaseUrl()+"/users/search?"+o()({query:e})+(t?"&"+o()(t):""))}},{key:"login",value:function(e,t,n,r){return Object(a.a)("POST",i.a.getBaseUrl()+"/user/login",{email:e,password:t,remember_me:n,csrf_token:r})}},{key:"enterTwoFaCode",value:function(e,t,n){return Object(a.a)("POST",i.a.getBaseUrl()+"/2fa_check",{_trusted:t,_auth_code:e,_csrf_token:n})}},{key:"saveUser",value:function(e,t){return Object(a.a)("POST",i.a.getBaseUrl()+"/org/"+e+"/users/save",t)}},{key:"getAuthenticateCsrfToken",value:function(){return Object(a.a)("GET",i.a.getBaseUrl()+"/csrf/authenticate")}},{key:"getTwoFactorCsrfToken",value:function(){return Object(a.a)("GET",i.a.getBaseUrl()+"/csrf/two_factor")}},{key:"getUser",value:function(){return Object(a.a)("GET",i.a.getBaseUrl()+"/user/me")}}])&&s(t.prototype,n),r&&s(t,r),e}();t.a=new u},function(e,t,n){var s=n(31),l=n(264),u=n(91),c=n(37);e.exports=function(e,t){for(var n=l(t),r=c.f,a=u.f,i=0;i<n.length;i++){var o=n[i];s(e,o)||r(e,o,a(t,o))}}},function(e,t,n){var a=n(38);e.exports=function(e,t,n){for(var r in t)a(e,r,t[r],n);return e}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.getInternalMethods=function(e,t){var n=t?i:a,r=t?e.prototype:e;return Object.getOwnPropertyNames(r).reduce(function(e,t){return-1!==n.indexOf(t)||(e[t]=r[t]),e},{})},t.warn=function(e){"undefined"!=typeof console&&console.warn(new ReferenceError(e))},t.uid=function(e,t){var n=0,r=t;for(;Object.hasOwnProperty.call(e,r);)r=t+String(++n);return r},t.formatAsConstant=function(e){return e.replace(/[a-z]([A-Z])/g,function(e){return e[0]+"_"+e[1].toLowerCase()}).toUpperCase()},t.dispatchIdentity=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.dispatch(n.length?[e].concat(n):e)};var a=Object.getOwnPropertyNames(r),i=Object.getOwnPropertyNames(r.prototype)},function(e,t,n){var r=n(93)(n(67),"Map");e.exports=r},,function(e,t,n){var i=n(28),o=n(154);e.exports=function(e,t,n){var r,a;return o&&"function"==typeof(r=t.constructor)&&r!==n&&i(a=r.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){function r(e){s(e,c,{value:{objectID:"O"+ ++d,weakData:{}}})}var a=n(85),i=n(28),o=n(31),s=n(37).f,l=n(99),u=n(287),c=l("meta"),d=0,f=Object.isExtensible||function(){return!0},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!f(e))return"F";if(!t)return"E";r(e)}return e[c].objectID},getWeakData:function(e,t){if(!o(e,c)){if(!f(e))return!0;if(!t)return!1;r(e)}return e[c].weakData},onFreeze:function(e){return u&&p.REQUIRED&&f(e)&&!o(e,c)&&r(e),e}};a[c]=!0},function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=a.a.createContext(null)},function(e,t,n){var r=n(485);e.exports=function(e){return r(e,4)}},function(e,t,n){var r,a,i=n(21),o=n(230),s=i.process,l=s&&s.versions,u=l&&l.v8;u?a=(r=u.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||74<=r[1])&&(r=o.match(/Chrome\/(\d+)/))&&(a=r[1]),e.exports=a&&+a},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";function u(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)}var r=n(19),a=n(20),i=n(147),o=n(28),c=n(52),d=n(51),f=n(266),p=n(228),s=n(150),l=n(23),h=n(209),m=l("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",g=51<=h||!a(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),b=s("concat");r({target:"Array",proto:!0,forced:!g||!b},{concat:function(e){var t,n,r,a,i,o=c(this),s=p(o,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(u(i=-1===t?o:arguments[t])){if(a=d(i.length),v<l+a)throw TypeError(y);for(n=0;n<a;n++,l++)n in i&&f(s,l,i[n])}else{if(v<=l)throw TypeError(y);f(s,l++,i)}return s.length=l,s}})},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,l(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(e,a.a.Component),t=e,(n=[{key:"render",value:function(){var e="page__settings__content-main page__settings-info";return this.props.className&&(e+=" "+this.props.className),a.a.createElement("div",{className:e},a.a.createElement("div",{className:"page__settings__content-input"},this.props.children),null!==this.props.outerHtml&&a.a.createElement("div",{className:"outer-content"},this.props.outerHtml))}}])&&o(t.prototype,n),r&&o(t,r),e}();c.defaultProps={outerHtml:null},t.a=c},function(e,t,n){"use strict";n(5);var r=n(2),a=n(11);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=r.a.getBaseUrl()+"/"+r.a.getAppKey(),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"updateSection",value:function(e,t){return Object(a.a)("POST",o+"/settings/update/"+e,t)}},{key:"refreshSection",value:function(e){return Object(a.a)("GET",o+"/settings/"+e)}},{key:"createOrder",value:function(e){return Object(a.a)("POST",o+"/payments",e)}},{key:"updateSlackIntegration",value:function(e){return Object(a.a)("POST",o+"/slack/save",e)}},{key:"deleteSlackIntegration",value:function(e){return Object(a.a)("DELETE",o+"/slack/delete",e)}},{key:"updateSlackIntegrations",value:function(){return Object(a.a)("GET",o+"/integrations")}}])&&i(t.prototype,n),r&&i(t,r),e}();t.a=new s},function(e,t,n){"use strict";var r=n(96).forEach,a=n(115);e.exports=a("forEach")?function(e,t){return r(this,e,1<arguments.length?t:void 0)}:[].forEach},function(e,t,n){"use strict";var r,a,i,o=n(149),s=n(40),l=n(31),u=n(23),c=n(74),d=u("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(a=o(o(i)))!==Object.prototype&&(r=a):f=!0),null==r&&(r={}),c||l(r,d)||s(r,d,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(28),a=n(57),i=n(23)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=String.prototype.replace,a=/%20/g,i=n(152),o={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:o.RFC3986,formatters:{RFC1738:function(e){return r.call(e,a,"+")},RFC3986:function(e){return String(e)}}},o)},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(53),a=n.n(r),i=n(32),o=n(145),s=n(68),l=n(71);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function r(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,e=!(n=d(r).call(this))||"object"!==u(n)&&"function"!=typeof n?f(t):n,window.settings?2==window.settings.subscription.billing_version?e.state=window.settings.subscription.calendar||{billing_version:2}:e.state=window.settings.subscription:e.state={},e.bindActions({handleSectionUpdate:o.a.sectionWasUpdated,handleBillingUpdated:s.a.billingDetailsUpdated,handleLicenseUpdated:s.a.licenseDetailsUpdated}),e.exportPublicMethods({handleBillingUpdated:e.handleBillingUpdated.bind(f(e))}),e}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,l["a"]),e=r,(t=[{key:"handleSectionUpdate",value:function(e){a()(e.subscription)&&(2==e.subscription.billing_version?Object.assign(this.state,e.subscription.calendar):Object.assign(this.state,e.subscription))}},{key:"handleBillingUpdated",value:function(e){if(!Array.isArray(e)||0!==e.length)if(Array.isArray(e.calendar)&&0===e.calendar.length)2===e.billing_version&&(this.state.billing_version=2);else for(var t in Object.assign(this.state,e.calendar),this.state)e.calendar.hasOwnProperty(t)||"license_history"!==t&&delete this.state[t]}},{key:"handleLicenseUpdated",value:function(e){if(!Array.isArray(e.calendar)||0!==e.calendar.length)for(var t in Object.assign(this.state,e.calendar),this.state)e.calendar.hasOwnProperty(t)||"license_history"!==t&&delete this.state[t]}}])&&c(e.prototype,t),n&&c(e,n),r}();t.a=i.a.createStore(h,"LicenseStore")},function(e,t,n){var r=n(61);e.exports=r("document","documentElement")},function(e,t,n){var r=n(20);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(188),a=n(97),i=n(23)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(257),a=n(241);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(53),a=n.n(r),i=n(32),o=n(145),s=n(68),l=n(71);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function r(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,e=!(n=d(r).call(this))||"object"!==u(n)&&"function"!=typeof n?f(t):n,window.settings&&2==window.settings.subscription.billing_version?e.state=window.settings.subscription.organization||{loaded:!1}:window.subscription&&2==window.subscription.billing_version?e.state=window.subscription.organization:e.state={loaded:!1},e.bindActions({handleSectionUpdate:o.a.sectionWasUpdated,handleBillingUpdated:s.a.billingDetailsUpdated}),e.exportPublicMethods({handleBillingUpdated:e.handleBillingUpdated.bind(f(e))}),e}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,l["a"]),e=r,(t=[{key:"handleSectionUpdate",value:function(e){a()(e.subscription)&&a()(e.subscription.organization)&&(Object.assign(this.state,e.subscription.organization),delete this.state.loaded)}},{key:"handleBillingUpdated",value:function(e){Object.assign(this.state,e.organization),delete this.state.loaded}}])&&c(e.prototype,t),n&&c(e,n),r}();t.a=i.a.createStore(h,"BillingStore")},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});n(10),n(308),n(301),n(56),n(196),n(7),n(8),n(9);var a=new Map,r=!1,i=new function e(){var l=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.check=function(e){var t=-40*e.deltaY;return l.deltasTimestamp.push(Date.now()),l.deltasTimestamp.shift(),0<t?(l.lastUpDeltas.push(t),l.lastUpDeltas.shift(),l.isInertia(1)):(l.lastDownDeltas.push(t),l.lastDownDeltas.shift(),l.isInertia(-1))},this.isInertia=function(e){var t,n,r,a,i,o,s;return null===(t=-1===e?l.lastDownDeltas:l.lastUpDeltas)[0]?e:!(l.deltasTimestamp[2*l.stability-2]+l.delay>Date.now()&&t[0]===t[2*l.stability-1])&&(r=t.slice(0,l.stability),n=t.slice(l.stability,2*l.stability),s=r.reduce(function(e,t){return e+t}),i=n.reduce(function(e,t){return e+t}),o=s/r.length,a=i/n.length,Math.abs(o)<Math.abs(a*l.tolerance)&&l.sensitivity<Math.abs(a)&&e)},this.showLastUpDeltas=function(){return l.lastUpDeltas},this.showLastDownDeltas=function(){return l.lastDownDeltas},this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=n?1+Math.abs(n):100,this.tolerance=null!=r?1+Math.abs(r):1.1,this.delay=null!=a?a:150,this.lastUpDeltas=function(){var e,t,n;for(n=[],e=1,t=2*l.stability;1<=t?e<=t:t<=e;1<=t?e++:e--)n.push(null);return n}(),this.lastDownDeltas=function(){var e,t,n;for(n=[],e=1,t=2*l.stability;1<=t?e<=t:t<=e;1<=t?e++:e--)n.push(null);return n}(),this.deltasTimestamp=function(){var e,t,n;for(n=[],e=1,t=2*l.stability;1<=t?e<=t:t<=e;1<=t?e++:e--)n.push(null);return n}()}(20,80,.3);function o(e){if(e.preventDefault(),e.stopPropagation(),i.check(e)){var t=a.get(e.currentTarget);t&&(r||(0<e.deltaY?t.changeMonth(1,!0):e.deltaY<0&&t.changeMonth(-1,!0),r=!0,setTimeout(function(){r=!1},100)))}}function s(e,t,n){var r=n.calendarContainer;a.has(r)||(r.addEventListener("wheel",o),a.set(r,n))}function l(e,t,n){var r=n.calendarContainer;a.has(r)&&(r.removeEventListener("wheel",o),a.delete(r))}},function(e,t,n){var r=n(128),a=n(31),i=n(229),o=n(37).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(28),a=n(147),i=n(23)("species");e.exports=function(e,t){var n;return a(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(23);t.f=r},function(e,t,n){var r=n(61);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var v=n(19),y=n(21),g=n(108),b=n(38),w=n(206),_=n(151),E=n(132),S=n(28),k=n(20),O=n(197),C=n(92),D=n(205);e.exports=function(r,e,t){function n(e){var n=l[e];b(l,e,"add"==e?function(e){return n.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!S(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!S(e)?void 0:n.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!S(e))&&n.call(this,0===e?0:e)}:function(e,t){return n.call(this,0===e?0:e,t),this})}var a=-1!==r.indexOf("Map"),i=-1!==r.indexOf("Weak"),o=a?"set":"add",s=y[r],l=s&&s.prototype,u=s,c={};if(g(r,"function"!=typeof s||!(i||l.forEach&&!k(function(){(new s).entries().next()}))))u=t.getConstructor(e,r,a,o),w.REQUIRED=!0;else if(g(r,!0)){var d=new u,f=d[o](i?{}:-0,1)!=d,p=k(function(){d.has(1)}),h=O(function(e){new s(e)}),m=!i&&k(function(){for(var e=new s,t=5;t--;)e[o](t,t);return!e.has(-0)});h||(((u=e(function(e,t){E(e,u,r);var n=D(new s,e,u);return null!=t&&_(t,n[o],n,a),n})).prototype=l).constructor=u),(p||m)&&(n("delete"),n("has"),a&&n("get")),(m||f)&&n(o),i&&l.clear&&delete l.clear}return c[r]=u,v({global:!0,forced:u!=s},c),C(u,r),i||t.setStrong(u,r,a),u}},function(e,t,n){"use strict";var r=n(122),l=n(29),a=n(47),u=n(289),c=n(123);r("search",1,function(r,o,s){return[function(e){var t=a(this),n=null==e?void 0:e[r];return void 0!==n?n.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=s(o,e,this);if(t.done)return t.value;var n=l(e),r=String(this),a=n.lastIndex;u(a,0)||(n.lastIndex=0);var i=c(n,r);return u(n.lastIndex,a)||(n.lastIndex=a),null===i?-1:i.index}]})},function(e,t,n){var r=n(21);e.exports=r.Promise},function(e,t,n){function r(e){if(k.hasOwnProperty(e)){var t=k[e];delete k[e],t()}}function a(e){return function(){r(e)}}function i(e){r(e.data)}function o(e){c.postMessage(e+"",y.protocol+"//"+y.host)}var s,l,u,c=n(21),d=n(20),f=n(57),p=n(103),h=n(220),m=n(129),v=n(235),y=c.location,g=c.setImmediate,b=c.clearImmediate,w=c.process,_=c.MessageChannel,E=c.Dispatch,S=0,k={},O="onreadystatechange";g&&b||(g=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return k[++S]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},s(S),S},b=function(e){delete k[e]},"process"==f(w)?s=function(e){w.nextTick(a(e))}:E&&E.now?s=function(e){E.now(a(e))}:_&&!v?(u=(l=new _).port2,l.port1.onmessage=i,s=p(u.postMessage,u,1)):!c.addEventListener||"function"!=typeof postMessage||c.importScripts||d(o)?s=O in m("script")?function(e){h.appendChild(m("script"))[O]=function(){h.removeChild(this),r(e)}}:function(e){setTimeout(a(e),0)}:(s=o,c.addEventListener("message",i,!1))),e.exports={set:g,clear:b}},function(e,t,n){var r=n(230);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(29),a=n(28),i=n(237);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=a(n),this.reject=a(r)}var a=n(76);e.exports.f=function(e){return new r(e)}},function(e,t,n){var r=n(349),a=n(356),i=n(358),o=n(359),s=n(360);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(299),a=n(372),i=n(224);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,s,l){(function(e){var t=l(67),n=l(370),r=s&&!s.nodeType&&s,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===r?t.Buffer:void 0,o=(i?i.isBuffer:void 0)||n;e.exports=o}).call(this,l(162)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(t){return function(e){return t(e)}}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(25),n(394),n(5),n(15),n(16),n(7),n(30),n(8),n(58),n(49),n(9);var r=n(0),a=n.n(r),i=n(3),o=n.n(i),s=n(1),l=n(24),u=n(316),c=n.n(u),d=n(226);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,m(t).call(this,e))).datePicker=null,n.datePickerInput=null,n.handlePickerKeyDown=function(e){9!==e.keyCode&&13!==e.keyCode||(clearTimeout(n.typingTimeout),n.setValueFromInput(),n.datePicker&&n.datePicker.close()),38===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),n.setValue(n.getValue().clone().subtract(12,"hours").startOf("day"))),40===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),n.setValue(n.getValue().clone().add(36,"hours").startOf("day")))},n.handlePickerKeyUp=function(e){var t=e.target.value;clearTimeout(n.typingTimeout),t.match(/^(\d{2})?\d{2}[.-\/]\d{2}[.-\/]\d{2}(\d{2})?$/)&&(n.typingTimeout=window.setTimeout(n.setValueFromInput,500))},n.handlePickerBlur=function(e){n.setValueFromInput()},n.setValueFromInput=function(){if(n.datePickerInput){var e=n.datePickerInput.value,t=o()(n.parseDate(e));""==e||t.year()<1900||!t.isValid()?n.setValue(n.getValue()):e!==n.getValue().format(l.a.get("date_year_moment"))&&n.setValue(t)}},n.handleChange=function(e){var t=o()(e[0]);n.setState({value:t})},n.handleCalendarClose=function(){n.datePicker&&n.datePicker.jumpToDate(n.getValue().toDate())},n.initPicker=function(e){if(e){var t={firstDayOfWeek:Number(n.props.weekStart),weekdays:{shorthand:o.a.weekdaysShort(),longhand:o.a.weekdays()},months:{shorthand:o.a.monthsShort(),longhand:o.a.months()}};n.minDate=n.props.minDate?n.props.minDate.clone().startOf("day").toDate():void 0,n.maxDate=n.props.maxDate?n.props.maxDate.clone().endOf("day").toDate():void 0,n.datePicker=c()(e,{allowInput:!0,dateFormat:"Y-m-d",minDate:n.minDate,maxDate:n.maxDate,onChange:function(e){n.handleChange(e)},onClose:function(){n.datePicker&&Object(d.a)(null,null,n.datePicker),n.handleCalendarClose()},onOpen:d.b,altInput:!0,altFormat:l.a.get("date_year_moment").replace("MM","m").replace("YYYY","Y").replace("DD","d"),parseDate:n.parseDate,defaultDate:n.state.value.toDate(),disableMobile:!0,locale:t}),n.datePickerInput=n.datePicker.altInput,n.datePickerInput.classList.add("flatpickr-input"),n.datePickerInput.addEventListener("keydown",n.handlePickerKeyDown,!1),n.datePickerInput.addEventListener("keyup",n.handlePickerKeyUp,!1),n.datePickerInput.addEventListener("blur",n.handlePickerBlur,!1)}else n.destroyPicker(),n.datePickerInput=n.datePicker=null},n.state={value:n.props.defaultValue?n.props.defaultValue:o()()},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a.a.Component),e=t,(n=[{key:"componentWillUnmount",value:function(){this.destroyPicker(),this.datePicker=null}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.datePicker||!e.minDate||this.minDate&&e.minDate.isSame(this.minDate)||this.setMinDate(e.minDate),!this.datePicker||!e.maxDate||this.maxDate&&e.maxDate.isSame(this.maxDate)||this.setMaxDate(e.maxDate)}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=this;if(this.props.onChange&&!t.value.isSame(this.state.value)){var r=t.value.clone();setTimeout(function(){n.props.onChange&&n.props.onChange(r)},0)}}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(e){this.minDate&&e.isBefore(this.minDate)&&(e=o()(this.minDate)),this.datePicker&&this.datePicker.setDate(e.toDate()),this.setState({value:e})}},{key:"setMinDate",value:function(e){this.minDate=e.clone().startOf("day").toDate(),this.datePicker&&this.datePicker.set("minDate",this.minDate)}},{key:"setMaxDate",value:function(e){this.maxDate=e.clone().endOf("day").toDate(),this.datePicker&&this.datePicker.set("maxDate",this.maxDate)}},{key:"parseDate",value:function(e){return o()(e,l.a.get("date_year_moment")).toDate()}},{key:"destroyPicker",value:function(){this.datePicker&&(Object(d.a)(null,null,this.datePicker),this.datePicker.destroy()),this.datePickerInput&&(this.datePickerInput.removeEventListener("keydown",this.handlePickerKeyDown,!1),this.datePickerInput.removeEventListener("keyup",this.handlePickerKeyUp,!1),this.datePickerInput.removeEventListener("blur",this.handlePickerBlur,!1))}},{key:"render",value:function(){var e="datepicker";return this.props.className&&(e+=" "+this.props.className),a.a.createElement("div",{className:e},this.props.label?a.a.createElement(s.a,{htmlFor:this.props.name,component:"label",message:this.props.label}):null,this.props.label?a.a.createElement("br",null):null,a.a.createElement("input",{name:this.props.name,ref:this.initPicker,tabIndex:this.props.tabIndex?this.props.tabIndex:0}))}}])&&p(e.prototype,n),r&&p(e,r),t}();y.defaultPrpos={defaultValue:o()()},t.a=y},function(e,t,n){var r=n(485);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(21),a=n(124),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(a(i))},function(e,t,n){function r(n){return function(e){var t=String(a(e));return 1&n&&(t=t.replace(o,"")),2&n&&(t=t.replace(s,"")),t}}var a=n(47),i="["+n(210)+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$");e.exports={start:r(1),end:r(2),trim:r(3)}},function(e,t,n){"use strict";var u=n(37).f,c=n(90),d=n(201),f=n(103),p=n(132),h=n(151),o=n(148),s=n(161),m=n(33),v=n(206).fastKey,r=n(73),y=r.set,g=r.getterFor;e.exports={getConstructor:function(e,n,r,a){function i(e,t,n){var r,a,i=s(e),o=l(e,t);return o?o.value=n:(i.last=o={index:a=v(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),m?i.size++:e.size++,"F"!==a&&(i.index[a]=o)),e}var o=e(function(e,t){p(e,o,n),y(e,{type:n,index:c(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=t&&h(t,e[a],e,r)}),s=g(n),l=function(e,t){var n,r=s(e),a=v(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n};return d(o.prototype,{clear:function(){for(var e=s(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t=s(this),n=l(this,e);if(n){var r=n.next,a=n.previous;delete t.index[n.index],n.removed=!0,a&&(a.next=r),r&&(r.previous=a),t.first==n&&(t.first=r),t.last==n&&(t.last=a),m?t.size--:this.size--}return!!n},forEach:function(e,t){for(var n,r=s(this),a=f(e,1<arguments.length?t:void 0,3);n=n?n.next:r.first;)for(a(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(e){return!!l(this,e)}}),d(o.prototype,r?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),m&&u(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",a=g(t),i=g(r);o(e,t,function(e,t){y(this,{type:r,target:e,state:a(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),s(t)}}},function(e,t,n){"use strict";var r=n(19),a=n(96).findIndex,i=n(153),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function(e,t){return a(this,e,1<arguments.length?t:void 0)}}),i(o)},function(e,t,n){"use strict";var r=n(19),a=n(397),i=n(47);r({target:"String",proto:!0,forced:!n(398)("includes")},{includes:function(e,t){return!!~String(i(this)).indexOf(a(e),1<arguments.length?t:void 0)}})},function(e,t,n){"use strict";n(6);var p=n(0),h=n.n(p);function r(t){return function(e){return!!e.type&&e.type.tabsRole===t}}var m=r("Tab"),v=r("TabList"),y=r("TabPanel");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,n){return p.Children.map(e,function(e){return null===e?null:m(t=e)||v(t)||y(t)?n(e):e.props&&e.props.children&&"object"==typeof e.props.children?Object(p.cloneElement)(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e.props,{children:g(e.props.children,n)})):e;var t})}function o(e,t){return p.Children.forEach(e,function(e){null!==e&&(m(e)||y(e)?t(e):e.props&&e.props.children&&"object"==typeof e.props.children&&(v(e)&&t(e),o(e.props.children,t)))})}var b,s=n(48),w=n.n(s),l=0;function _(){return"react-tabs-"+l++}function u(e){var t=0;return o(e,function(e){m(e)&&t++}),t}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return e&&"getAttribute"in e}function f(e){return d(e)&&"tab"===e.getAttribute("role")}function E(e){return d(e)&&"true"===e.getAttribute("aria-disabled")}try{b=!("undefined"==typeof window||!window.document||!window.document.activeElement)}catch(e){b=!1}var S=function(r){var e,t;function n(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=r.call.apply(r,[this].concat(t))||this).tabNodes=[],i.handleKeyDown=function(e){var t=i.props.direction;if(i.isTabFromContainer(e.target)){var n=i.props.selectedIndex,r=!1,a=!1;32!==e.keyCode&&13!==e.keyCode||(a=!(r=!0),i.handleClick(e)),37===e.keyCode||38===e.keyCode?(n="rtl"===t?i.getNextTab(n):i.getPrevTab(n),a=r=!0):39===e.keyCode||40===e.keyCode?(n="rtl"===t?i.getPrevTab(n):i.getNextTab(n),a=r=!0):35===e.keyCode?(n=i.getLastTab(),a=r=!0):36===e.keyCode&&(n=i.getFirstTab(),a=r=!0),r&&e.preventDefault(),a&&i.setSelected(n,e)}},i.handleClick=function(e){var t=e.target;do{if(i.isTabFromContainer(t)){if(E(t))return;var n=[].slice.call(t.parentNode.children).filter(f).indexOf(t);return void i.setSelected(n,e)}}while(null!=(t=t.parentNode))},i}t=r,(e=n).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=n.prototype;return a.setSelected=function(e,t){if(!(e<0||e>=this.getTabsCount())){var n=this.props;(0,n.onSelect)(e,n.selectedIndex,t)}},a.getNextTab=function(e){for(var t=this.getTabsCount(),n=e+1;n<t;n++)if(!E(this.getTab(n)))return n;for(var r=0;r<e;r++)if(!E(this.getTab(r)))return r;return e},a.getPrevTab=function(e){for(var t=e;t--;)if(!E(this.getTab(t)))return t;for(t=this.getTabsCount();t-- >e;)if(!E(this.getTab(t)))return t;return e},a.getFirstTab=function(){for(var e=this.getTabsCount(),t=0;t<e;t++)if(!E(this.getTab(t)))return t;return null},a.getLastTab=function(){for(var e=this.getTabsCount();e--;)if(!E(this.getTab(e)))return e;return null},a.getTabsCount=function(){return u(this.props.children)},a.getPanelsCount=function(){var t,e=this.props.children;return t=0,o(e,function(e){y(e)&&t++}),t},a.getTab=function(e){return this.tabNodes["tabs-"+e]},a.getChildren=function(){var o=this,r=0,e=this.props,t=e.children,s=e.disabledTabClassName,l=e.focus,u=e.forceRenderTabPanel,c=e.selectedIndex,d=e.selectedTabClassName,f=e.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var n=this.tabIds.length-this.getTabsCount();n++<0;)this.tabIds.push(_()),this.panelIds.push(_());return g(t,function(e){var t=e;if(v(e)){var a=0,i=!1;b&&(i=h.a.Children.toArray(e.props.children).filter(m).some(function(e,t){return document.activeElement===o.getTab(t)})),t=Object(p.cloneElement)(e,{children:g(e.props.children,function(e){var t="tabs-"+a,n=c===a,r={tabRef:function(e){o.tabNodes[t]=e},id:o.tabIds[a],panelId:o.panelIds[a],selected:n,focus:n&&(l||i)};return d&&(r.selectedClassName=d),s&&(r.disabledClassName=s),a++,Object(p.cloneElement)(e,r)})})}else if(y(e)){var n={id:o.panelIds[r],tabId:o.tabIds[r],selected:c===r};u&&(n.forceRender=u),f&&(n.selectedClassName=f),r++,t=Object(p.cloneElement)(e,n)}return t})},a.isTabFromContainer=function(e){if(!f(e))return!1;var t=e.parentElement;do{if(t===this.node)return!0;if(t.getAttribute("data-tabs"))break;t=t.parentElement}while(t);return!1},a.render=function(){var t=this,e=this.props,n=(e.children,e.className),r=(e.disabledTabClassName,e.domRef),a=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return h.a.createElement("div",c({},a,{className:w()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(e){t.node=e,r&&r(e)},"data-tabs":!0}),this.getChildren())},n}(p.Component);S.defaultProps={className:"react-tabs",focus:!1},S.propTypes={};var k=function(t){var e,n;function s(e){var o;return(o=t.call(this,e)||this).handleSelected=function(e,t,n){var r=o.props.onSelect,a=o.state.mode;if("function"!=typeof r||!1!==r(e,t,n)){var i={focus:"keydown"===n.type};1===a&&(i.selectedIndex=e),o.setState(i)}},o.state=s.copyPropsToState(o.props,{},e.defaultFocus),o}return n=t,(e=s).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n,s.getDerivedStateFromProps=function(e,t){return s.copyPropsToState(e,t)},s.getModeFromProps=function(e){return null===e.selectedIndex?1:0},s.copyPropsToState=function(e,t,n){void 0===n&&(n=!1);var r={focus:n,mode:s.getModeFromProps(e)};if(1===r.mode){var a=u(e.children)-1,i=null;i=null!=t.selectedIndex?Math.min(t.selectedIndex,a):e.defaultIndex||0,r.selectedIndex=i}return r},s.prototype.render=function(){var e=this.props,t=e.children,n=(e.defaultIndex,e.defaultFocus,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,["children","defaultIndex","defaultFocus"])),r=this.state,a=r.focus,i=r.selectedIndex;return n.focus=a,n.onSelect=this.handleSelected,null!=i&&(n.selectedIndex=i),h.a.createElement(S,n,t)},s}(p.Component);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}k.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},k.propTypes={},k.tabsRole="Tabs";var C=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,["children","className"]);return h.a.createElement("ul",O({},r,{className:w()(n),role:"tablist"}),t)},r}(p.Component);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}C.defaultProps={className:"react-tabs__tab-list"},C.propTypes={},C.tabsRole="TabList";var T="react-tabs__tab",x=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.checkFocus()},a.componentDidUpdate=function(){this.checkFocus()},a.checkFocus=function(){var e=this.props,t=e.selected,n=e.focus;t&&n&&this.node.focus()},a.render=function(){var e,t=this,n=this.props,r=n.children,a=n.className,i=n.disabled,o=n.disabledClassName,s=(n.focus,n.id),l=n.panelId,u=n.selected,c=n.selectedClassName,d=n.tabIndex,f=n.tabRef,p=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return h.a.createElement("li",D({},p,{className:w()(a,((e={})[c]=u,e[o]=i,e)),ref:function(e){t.node=e,f&&f(e)},role:"tab",id:s,"aria-selected":u?"true":"false","aria-disabled":i?"true":"false","aria-controls":l,tabIndex:d||(u?"0":null)}),r)},r}(p.Component);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}x.defaultProps={className:T,disabledClassName:T+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:T+"--selected"},x.propTypes={},x.tabsRole="Tab";var j="react-tabs__tab-panel",M=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.children,r=t.className,a=t.forceRender,i=t.id,o=t.selected,s=t.selectedClassName,l=t.tabId,u=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(t,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return h.a.createElement("div",P({},u,{className:w()(r,((e={})[s]=o,e)),role:"tabpanel",id:i,"aria-labelledby":l}),a||o?n:null)},r}(p.Component);M.defaultProps={className:j,forceRender:!1,selectedClassName:j+"--selected"},M.propTypes={},M.tabsRole="TabPanel",n.d(t,"d",function(){return k}),n.d(t,"b",function(){return C}),n.d(t,"a",function(){return x}),n.d(t,"c",function(){return M})},function(e,t,n){var r=n(23),a=n(97),i=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[i]===e)}},function(e,t,n){var i=n(29);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},function(e,t,n){"use strict";var r=n(19),a=n(74),i=n(233),o=n(20),s=n(61),l=n(189),u=n(236),c=n(38);r({target:"Promise",proto:!0,real:!0,forced:!!i&&o(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var n=l(this,s("Promise")),e="function"==typeof t;return this.then(e?function(e){return u(n,t()).then(function(){return e})}:t,e?function(e){return u(n,t()).then(function(){throw e})}:t)}}),a||"function"!=typeof i||i.prototype.finally||c(i.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),i=n.n(r),a=n(27),o=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(a){return function(){function n(){var r,e,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=this,t=u(n).apply(this,arguments),(r=!t||"object"!==s(t)&&"function"!=typeof t?c(e):t).checkForOuterClick=function(e){if(r.child&&(!r.child.shouldCheckForOuterClick||r.child.shouldCheckForOuterClick())){for(var t=e.target,n=50;t;){if(t===o.a.findDOMNode(c(r)))return;if(!--n)return;t=t.parentNode}r.child.handleOuterClick(e)}},r}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,i.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.checkForOuterClick,!0)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.checkForOuterClick,!0)}},{key:"render",value:function(){var t=this,e=this.props;return i.a.createElement(a,Object.assign({},e,{ref:function(e){t.child=e}}))}}])&&l(e.prototype,t),r&&l(e,r),n}()}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var a,r=n(32),i=n(18),o=n(71);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,c(t).call(this))).state={status:null},e.bindActions({handleStatusUpdate:i.a.setStatus,handleClear:i.a.clear,handleClearType:i.a.clearType}),e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["a"]),e=t,(n=[{key:"handleStatusUpdate",value:function(e){!0!==e.keep&&this.state.status&&"error"===this.state.status.type||(this.state.status=e,clearTimeout(a),!0!==e.keep&&(a=window.setTimeout(function(){i.a.clear()},5e3)))}},{key:"handleClear",value:function(){clearTimeout(a),this.state.status=null}},{key:"handleClearType",value:function(e){this.state.status&&this.state.status.type===e&&(clearTimeout(a),this.state.status=null)}}])&&l(e.prototype,n),r&&l(e,r),t}();t.a=r.a.createStore(f,"NotificationStore")},function(e,t,n){"use strict";function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){}r.prototype._events=void 0,r.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,n=this._events[e].length,r=new Array(n);t<n;t++)r[t]=this._events[e][t].fn;return r},r.prototype.emit=function(e,t,n,r,a,i){if(!this._events||!this._events[e])return!1;var o,s,l=this._events[e],u=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,a),!0;case 6:return l.fn.call(l.context,t,n,r,a,i),!0}for(s=1,o=new Array(u-1);s<u;s++)o[s-1]=arguments[s];l.fn.apply(l.context,o)}else{var c,d=l.length;for(s=0;s<d;s++)switch(l[s].once&&this.removeListener(e,l[s].fn,!0),u){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,t);break;case 3:l[s].fn.call(l[s].context,t,n);break;default:if(!o)for(c=1,o=new Array(u-1);c<u;c++)o[c-1]=arguments[c];l[s].fn.apply(l[s].context,o)}}return!0},r.prototype.on=function(e,t,n){var r=new a(t,n||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},r.prototype.once=function(e,t,n){var r=new a(t,n||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},r.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var r=this._events[e],a=[];if(t&&(r.fn&&(r.fn!==t||n&&!r.once)&&a.push(r),!r.fn))for(var i=0,o=r.length;i<o;i++)(r[i].fn!==t||n&&!r[i].once)&&a.push(r[i]);return a.length?this._events[e]=1===a.length?a[0]:a:delete this._events[e],this},r.prototype.removeAllListeners=function(e){return this._events&&(e?delete this._events[e]:this._events={}),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},((r.EventEmitter=r).EventEmitter2=r).EventEmitter3=r,e.exports=r},function(e,t,n){var r=n(133),a=n(53);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(this,t(159))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var v=n(281),y=n(363),g=n(282);e.exports=function(e,t,n,r,a,i){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&s<l))return!1;var u=i.get(e);if(u&&i.get(t))return u==t;var c=-1,d=!0,f=2&n?new v:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var p=e[c],h=t[c];if(r)var m=o?r(h,p,c,t,e,i):r(p,h,c,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!y(t,function(e,t){if(!g(f,t)&&(p===e||a(p,e,n,r,i)))return f.push(t)})){d=!1;break}}else if(p!==h&&!a(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}},function(e,t,n){var r=n(371),a=n(242),i=n(274),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(374),a=n(203),i=n(375),o=n(376),s=n(377),l=n(133),u=n(259),c="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(r),v=u(a),y=u(i),g=u(o),b=u(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=h||a&&w(new a)!=c||i&&w(i.resolve())!=d||o&&w(new o)!=f||s&&w(new s)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return h;case v:return c;case y:return d;case g:return f;case b:return p}return t}),e.exports=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=Function.prototype.bind,c=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i,o=n(323),l=a(n(326)),f=a(n(100)),p=a(n(119)),h=a(n(327)),m=a(n(202)),s=n(330),v=(i=s)&&i.__esModule?i:{default:i},y=(c(g,[{key:"dispatch",value:function(e,t,n){var r=this;this.batchingFunction(function(){return r.dispatcher.dispatch({action:e,data:t,details:n})})}},{key:"createUnsavedStore",value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e.displayName||"";h.createStoreConfig(this.config,e);var i=h.transformStore(this.storeTransforms,e);return p.isFunction(i)?h.createStoreFromClass.apply(h,[this,i,a].concat(n)):h.createStoreFromObject(this,i,a)}},{key:"createStore",value:function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=t||e.displayName||e.name||"";h.createStoreConfig(this.config,e);var o=h.transformStore(this.storeTransforms,e);!this.stores[i]&&i||(this.stores[i]?m.warn("A store named "+i+" already exists, double check your store names or pass in your own custom identifier for each store"):m.warn("Store name was not specified"),i=m.uid(this.stores,i));var s=p.isFunction(o)?h.createStoreFromClass.apply(h,[this,o,i].concat(r)):h.createStoreFromObject(this,o,i);return this.stores[i]=s,l.saveInitialSnapshot(this,i),s}},{key:"generateActions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.createActions(t.reduce(function(e,t){return e[t]=m.dispatchIdentity,e},{name:"global"}))}},{key:"createAction",value:function(e,t,n){return(0,v.default)(this,"global",e,t,n)}},{key:"createActions",value:function(t,e){for(var n=arguments.length,a=Array(2<n?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i=this,o=void 0===e?{}:e,s={},l=m.uid(this[f.ACTIONS_REGISTRY],t.displayName||t.name||"Unknown");return p.isFunction(t)?function(){p.assign(s,m.getInternalMethods(t,!0));var e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(r,t),c(r,[{key:"generateActions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){s[e]=m.dispatchIdentity})}}]),r);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];d(this,r),function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0}}(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t)}p.assign(s,new(u.apply(e,[null].concat(a))))}():p.assign(s,t),this.actions[l]=this.actions[l]||{},p.eachObject(function(e,t){if(p.isFunction(t)){o[e]=(0,v.default)(i,l,e,t,o);var n=m.formatAsConstant(e);o[n]=o[e][f.ACTION_KEY]}},[s]),o}},{key:"takeSnapshot",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=l.snapshot(this,t);return p.assign(this[f.LAST_SNAPSHOT],r),this.serialize(r)}},{key:"rollback",value:function(){l.setAppState(this,this.serialize(this[f.LAST_SNAPSHOT]),function(e){e[f.LIFECYCLE].emit("rollback"),e.emitChange()})}},{key:"recycle",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length?l.filterSnapshots(this,this[f.INIT_SNAPSHOT],t):this[f.INIT_SNAPSHOT];l.setAppState(this,this.serialize(r),function(e){e[f.LIFECYCLE].emit("init"),e.emitChange()})}},{key:"flush",value:function(){var e=this.serialize(l.snapshot(this));return this.recycle(),e}},{key:"bootstrap",value:function(e){l.setAppState(this,e,function(e){e[f.LIFECYCLE].emit("bootstrap"),e.emitChange()})}},{key:"prepare",value:function(e,t){var n={};if(!e.displayName)throw new ReferenceError("Store provided does not have a name");return n[e.displayName]=t,this.serialize(n)}},{key:"addActions",value:function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];this.actions[e]=Array.isArray(t)?this.generateActions.apply(this,t):this.createActions.apply(this,[t].concat(r))}},{key:"addStore",value:function(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];this.createStore.apply(this,[t,e].concat(r))}},{key:"getActions",value:function(e){return this.actions[e]}},{key:"getStore",value:function(e){return this.stores[e]}}],[{key:"debug",value:function(e,t){var n="alt.js.org";return"undefined"!=typeof window&&(window[n]=window[n]||[],window[n].push({name:e,alt:t})),t}}]),g);function g(){var e=void 0===arguments[0]?{}:arguments[0];d(this,g),this.config=e,this.serialize=e.serialize||JSON.stringify,this.deserialize=e.deserialize||JSON.parse,this.dispatcher=e.dispatcher||new o.Dispatcher,this.batchingFunction=e.batchingFunction||function(e){return e()},this.actions={global:{}},this.stores={},this.storeTransforms=e.storeTransforms||[],this[f.ACTIONS_REGISTRY]={},this[f.INIT_SNAPSHOT]={},this[f.LAST_SNAPSHOT]={}}t.default=y,e.exports=t.default},function(e,t,n){var r=n(61),a=n(110),i=n(136),o=n(29);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r=n(127),a=n(188);e.exports=r?{}.toString:function(){return"[object "+a(this)+"]"}},function(e,t,n){"use strict";var a=n(105),i=n(37),o=n(89);e.exports=function(e,t,n){var r=a(t);r in e?i.f(e,r,o(0,n)):e[r]=n}},function(e,t,n){"use strict";n(248),n(42),n(62),n(30),n(49),n(45);t.a={makeIdFromName:function(e,n){var t=e.toLowerCase();String.prototype.hasOwnProperty("normalize")&&(t=t.normalize("NFKD")),"_"===(t=t.replace(/[^0-9a-z]+/g,"_").substring(0,30))&&(t=""),0===t.indexOf("builtin_")&&(t="_"+t);function r(t){return-1!==n.findIndex(function(e){return e.id===t})}if(""===t||r(t)){for(var a=1;r(t+a);)a++;t+=a}return t},listToMap:function(e){var t={};return e.forEach(function(e){t[e.id]=e}),t}}},function(e,t,n){var o=n(332),s=n(112);e.exports=function e(t,n,r,a,i){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:o(t,n,r,a,e,i))}},function(e,t,n){"use strict";var r=n(19),f=n(187),p=n(86),h=n(51),m=n(52),v=n(228),y=n(266),a=n(150),g=Math.max,b=Math.min;r({target:"Array",proto:!0,forced:!a("splice")},{splice:function(e,t){var n,r,a,i,o,s,l=m(this),u=h(l.length),c=f(e,u),d=arguments.length;if(0===d?n=r=0:r=1===d?(n=0,u-c):(n=d-2,b(g(p(t),0),u-c)),9007199254740991<u+n-r)throw TypeError("Maximum allowed length exceeded");for(a=v(l,r),i=0;i<r;i++)(o=c+i)in l&&y(a,i,l[o]);if(n<(a.length=r)){for(i=c;i<u-r;i++)s=i+n,(o=i+r)in l?l[s]=l[o]:delete l[s];for(i=u;u-r+n<i;i--)delete l[i-1]}else if(r<n)for(i=u-r;c<i;i--)s=i+n-1,(o=i+r-1)in l?l[s]=l[o]:delete l[s];for(i=0;i<n;i++)l[i+c]=arguments[i+2];return l.length=u-r+n,a}})},function(e,t,n){var r=n(33),o=n(37),s=n(29),l=n(111);e.exports=r?Object.defineProperties:function(e,t){s(e);for(var n,r=l(t),a=r.length,i=0;i<a;)o.f(e,n=r[i++],t[n]);return e}},function(e,t,n){"use strict";function a(){return this}var i=n(215).IteratorPrototype,o=n(90),s=n(89),l=n(92),u=n(97);e.exports=function(e,t,n){var r=t+" Iterator";return e.prototype=o(i,{next:s(1,n)}),l(e,r,!1,!0),u[r]=a,e}},function(e,t,n){var r=n(141),a=n(338),i=n(339),o=n(340),s=n(341),l=n(342);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(312),a=n(298),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),r(o(t),function(e){return i.call(t,e)}))}:a;e.exports=s},function(e,o,s){(function(e){var t=s(258),n=o&&!o.nodeType&&o,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===n&&t.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}).call(this,s(162)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){"use strict";var r=n(19),a=n(422);r({target:"String",proto:!0,forced:n(423)("link")},{link:function(e){return a(this,"a","href",e)}})},function(e,t,n){"use strict";var r,a,y,i,o,s,g,l;
/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */n(35);function b(e,t){return document.createTextNode(t?e.replace(i,""):e)}function u(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function w(e){return p(e.indexOf(o)<0?e.replace(i,""):e)}function c(e){return a[e]}function d(){return null}function f(e,t){return String(e).replace(y,t)}function p(e,t){for(var n=[],r=0,a=0,i=0;i<e.length;)r=e.charCodeAt(i++),a?(n.push((65536+(a-55296<<10)+(r-56320)).toString(16)),a=0):55296<=r&&r<=56319?a=r:n.push(r.toString(16));return n.join(t||"-")}var h=(r={base:"https://twemoji.maxcdn.com/v/12.1.4/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;if(t<65536)return l(t);return l(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(b(this.alt,!1),this)},parse:function(e,t){t&&"function"!=typeof t||(t={callback:t});return("string"==typeof e?function(e,o){return f(e,function(e){var t,n,r=e,a=w(e),i=o.callback(a,o);if(a&&i){for(n in r="<img ".concat('class="',o.className,'" ','draggable="false" ','alt="',e,'"',' src="',i,'"'),t=o.attributes(e,a))t.hasOwnProperty(n)&&0!==n.indexOf("on")&&-1===r.indexOf(" "+n+"=")&&(r=r.concat(" ",n,'="',t[n].replace(s,c),'"'));r=r.concat("/>")}return r})}:function(e,t){var n,r,a,i,o,s,l,u,c,d,f,p,h,m=function e(t,n){var r,a,i=t.childNodes,o=i.length;for(;o--;)r=i[o],3===(a=r.nodeType)?n.push(r):1!==a||"ownerSVGElement"in r||g.test(r.nodeName.toLowerCase())||e(r,n);return n}(e,[]),v=m.length;for(;v--;){for(a=!1,i=document.createDocumentFragment(),o=m[v],s=o.nodeValue,u=0;l=y.exec(s);){if((c=l.index)!==u&&i.appendChild(b(s.slice(u,c),!0)),f=l[0],p=w(f),u=c+f.length,h=t.callback(p,t),p&&h){for(r in(d=new Image).onerror=t.onerror,d.setAttribute("draggable","false"),n=t.attributes(f,p))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&!d.hasAttribute(r)&&d.setAttribute(r,n[r]);d.className=t.className,d.alt=f,d.src=h,a=!0,i.appendChild(d)}d||i.appendChild(b(f,!1)),d=null}a&&(u<s.length&&i.appendChild(b(s.slice(u),!0)),o.parentNode.replaceChild(i,o))}return e})(e,{callback:t.callback||u,attributes:"function"==typeof t.attributes?t.attributes:d,base:"string"==typeof t.base?t.base:r.base,ext:t.ext||r.ext,size:t.folder||function(e){return"number"==typeof e?e+"x"+e:e}(t.size||r.size),className:t.className||r.className,onerror:t.onerror||r.onerror})},replace:f,test:function(e){y.lastIndex=0;var t=y.test(e);return y.lastIndex=0,t}},a={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},y=/(?:\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d])|(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5\udeeb\udeec\udef4-\udefa\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddb4\uddb7\uddba\uddbc-\uddca\uddd0\uddde-\uddff\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,o=String.fromCharCode(8205),s=/[&<>'"]/g,g=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,l=String.fromCharCode,r);n.d(t,"a",function(){return v}),n.d(t,"b",function(){return _});var m={folder:"svg",ext:".svg"};function v(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"emojify",t=document.getElementsByClassName(e),n=0;n<t.length;n++)t.item(n).innerHTML=_(t.item(n).innerHTML)}function _(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=void 0===t?m:Object.assign({},m,t);return h.parse(e,n)}},function(e,t,n){var r=n(313),a=n(437),i=n(431),o=n(449),s=i(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?a(t):[]});e.exports=s},function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(5),n(30),n(49);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=[{display:"UTC-12:00 International Date Line West",d:"UTC-12 Int. Date Line",value:"Etc/GMT+12",group:"-12",main:1},{display:"UTC-11:00 Coordinated Universal Time-11",d:"UTC-11",value:"Pacific/Pago_Pago",group:"-11",main:1},{display:"UTC-10:00 Aleutian Islands",d:"Aleutian Islands",value:"America/Adak",group:"-10",main:0},{display:"UTC-10:00 Hawaii",d:"Hawaii",value:"Pacific/Honolulu",group:"-10",main:1},{display:"UTC-09:30 Marquesas Islands",d:"Marquesas Islands",value:"Pacific/Marquesas",group:"-9.3",main:1},{display:"UTC-09:00 Alaska",d:"Alaska",value:"America/Anchorage",group:"-9",main:1},{display:"UTC-09:00 Gambier Islands",d:"Gambier Islands",value:"Pacific/Gambier",group:"-9",main:0},{display:"UTC-08:00 Baja California",d:"Baja California",value:"America/Santa_Isabel",group:"-8",main:0},{display:"UTC-08:00 Pacific Time US & Ca",d:"Pacific Time US & Ca",value:"America/Los_Angeles",group:"-8",main:1},{display:"UTC-08:00 Pitcairn Islands",d:"Pitcairn Islands",value:"Pacific/Pitcairn",group:"-8",main:0},{display:"UTC-07:00 Arizona",d:"Arizona",value:"America/Phoenix",group:"-7",main:1},{display:"UTC-07:00 Chihuahua",d:"Chihuahua",value:"America/Chihuahua",group:"-7",main:0},{display:"UTC-07:00 Mazatlan",d:"Mazatlan",value:"America/Mazatlan",group:"-7",main:0},{display:"UTC-07:00 Mountain Time US & Ca",d:"Mountain Time US & Ca",value:"America/Denver",group:"-7",main:0},{display:"UTC-06:00 Central America",d:"Central America",value:"America/Guatemala",group:"-6",main:0},{display:"UTC-06:00 Central Time US & Ca",d:"Central Time US & Ca",value:"America/Chicago",group:"-6",main:1},{display:"UTC-06:00 Easter Island & Sala y Gomez",d:"Easter Island",value:"Pacific/Easter",group:"-6",main:0},{display:"UTC-06:00 Mexico City",d:"Mexico City",value:"America/Mexico_City",group:"-6",main:0},{display:"UTC-06:00 Monterrey",d:"Monterrey",value:"America/Monterrey",group:"-6",main:0},{display:"UTC-06:00 Regina",d:"Regina",value:"America/Regina",group:"-6",main:0},{display:"UTC-05:00 Bogota",d:"Bogota",value:"America/Bogota",group:"-5",main:0},{display:"UTC-05:00 Eastern Time US & Ca",d:"Eastern Time US & Ca",value:"America/New_York",group:"-5",main:1},{display:"UTC-05:00 Havana",d:"Havana",value:"America/Havana",group:"-5",main:0},{display:"UTC-05:00 Indiana East",d:"Indiana East",value:"America/Indianapolis",group:"-5",main:0},{display:"UTC-05:00 Lima",d:"Lima",value:"America/Lima",group:"-5",main:0},{display:"UTC-05:00 Quito",d:"Quito",value:"America/Guayaquil",group:"-5",main:0},{display:"UTC-04:30 Caracas",d:"Caracas",value:"America/Caracas",group:"-4.3",main:1},{display:"UTC-04:00 Asuncion",d:"Asuncion",value:"America/Asuncion",group:"-4",main:0},{display:"UTC-04:00 Atlantic Time Ca",d:"Atlantic Time Ca",value:"America/Halifax",group:"-4",main:1},{display:"UTC-04:00 Cuiaba",d:"Cuiaba",value:"America/Campo_Grande",group:"-4",main:0},{display:"UTC-04:00 Georgetown",d:"Georgetown",value:"America/Santo_Domingo",group:"-4",main:0},{display:"UTC-04:00 Happy Valley - Goose Bay",d:"Goose Bay",value:"America/Goose_Bay",group:"-4",main:0},{display:"UTC-04:00 La Paz",d:"La Paz",value:"America/La_Paz",group:"-4",main:0},{display:"UTC-04:00 Manaus, San Juan",d:"Manaus, San Juan",value:"America/Manaus",group:"-4",main:0},{display:"UTC-04:00 Santiago",d:"Santiago",value:"America/Santiago",group:"-4",main:0},{display:"UTC-03:30 Newfoundland",d:"Newfoundland",value:"America/St_Johns",group:"-3.3",main:1},{display:"UTC-03:00 Brasilia",d:"Brasilia",value:"America/Sao_Paulo",group:"-3",main:1},{display:"UTC-03:00 Buenos Aires",d:"Buenos Aires",value:"America/Argentina/Buenos_Aires",group:"-3",main:0},{display:"UTC-03:00 Cayenne, Fortaleza",d:"Cayenne, Fortaleza",value:"America/Fortaleza",group:"-3",main:0},{display:"UTC-03:00 Greenland",d:"Greenland",value:"America/Godthab",group:"-3",main:0},{display:"UTC-03:00 Miquelon",d:"Miquelon",value:"America/Miquelon",group:"-3",main:0},{display:"UTC-03:00 Montevideo",d:"Montevideo",value:"America/Montevideo",group:"-3",main:0},{display:"UTC-03:00 Salvador",d:"Salvador",value:"America/Bahia",group:"-3",main:0},{display:"UTC-02:00 Coordinated Universal Time-02",d:"UTC-2",value:"America/Noronha",group:"-2",main:1},{display:"UTC-01:00 Azores",d:"Azores",value:"Atlantic/Azores",group:"-1",main:1},{display:"UTC-01:00 Cape Verde Is.",d:"Cape Verde Is.",value:"Atlantic/Cape_Verde",group:"-1",main:0},{display:"UTC+00:00 Casablanca",d:"Casablanca",value:"Africa/Casablanca",group:"0",main:0},{display:"UTC (no daylight savings time)",d:"UTC",value:"UTC",group:"0",main:0},{display:"UTC+00:00 Dublin",d:"Dublin",value:"Europe/Dublin",group:"0",main:0},{display:"UTC+00:00 Lisbon",d:"Lisbon",value:"Europe/Lisbon",group:"0",main:0},{display:"UTC+00:00 London, Edinburgh",d:"London",value:"Europe/London",group:"0",main:1},{display:"UTC+00:00 Monrovia",d:"Monrovia",value:"Africa/Monrovia",group:"0",main:0},{display:"UTC+00:00 Reykjavik",d:"Reykjavik",value:"Atlantic/Reykjavik",group:"0",main:0},{display:"UTC+01:00 Amsterdam",d:"Amsterdam",value:"Europe/Amsterdam",group:"1",main:0},{display:"UTC+01:00 Belgrade",d:"Belgrade",value:"Europe/Belgrade",group:"1",main:0},{display:"UTC+01:00 Berlin",d:"Berlin",value:"Europe/Berlin",group:"1",main:1},{display:"UTC+01:00 Bern",d:"Bern",value:"Europe/Zurich",group:"1",main:0},{display:"UTC+01:00 Bratislava",d:"Bratislava",value:"Europe/Bratislava",group:"1",main:0},{display:"UTC+01:00 Brussels",d:"Brussels",value:"Europe/Brussels",group:"1",main:0},{display:"UTC+01:00 Budapest",d:"Budapest",value:"Europe/Budapest",group:"1",main:0},{display:"UTC+01:00 Copenhagen",d:"Copenhagen",value:"Europe/Copenhagen",group:"1",main:0},{display:"UTC+01:00 Ljubljana",d:"Ljubljana",value:"Europe/Ljubljana",group:"1",main:0},{display:"UTC+01:00 Madrid",d:"Madrid",value:"Europe/Madrid",group:"1",main:0},{display:"UTC+01:00 Paris",d:"Paris",value:"Europe/Paris",group:"1",main:0},{display:"UTC+01:00 Prague",d:"Prague",value:"Europe/Prague",group:"1",main:0},{display:"UTC+01:00 Rome",d:"Rome",value:"Europe/Rome",group:"1",main:0},{display:"UTC+01:00 Sarajevo",d:"Sarajevo",value:"Europe/Sarajevo",group:"1",main:0},{display:"UTC+01:00 Skopje",d:"Skopje",value:"Europe/Skopje",group:"1",main:0},{display:"UTC+01:00 Stockholm",d:"Stockholm",value:"Europe/Stockholm",group:"1",main:0},{display:"UTC+01:00 Vienna",d:"Vienna",value:"Europe/Vienna",group:"1",main:0},{display:"UTC+01:00 Warsaw",d:"Warsaw",value:"Europe/Warsaw",group:"1",main:0},{display:"UTC+01:00 West Central Africa",d:"West Central Africa",value:"Africa/Lagos",group:"1",main:0},{display:"UTC+01:00 Windhoek",d:"Windhoek",value:"Africa/Windhoek",group:"1",main:0},{display:"UTC+01:00 Zagreb",d:"Zagreb",value:"Europe/Zagreb",group:"1",main:0},{display:"UTC+02:00 Athens",d:"Athens",value:"Europe/Athens",group:"2",main:0},{display:"UTC+02:00 Beirut",d:"Beirut",value:"Asia/Beirut",group:"2",main:0},{display:"UTC+02:00 Bucharest",d:"Bucharest",value:"Europe/Bucharest",group:"2",main:0},{display:"UTC+02:00 Cairo",d:"Cairo",value:"Africa/Cairo",group:"2",main:1},{display:"UTC+02:00 Damaskus",d:"Damaskus",value:"Asia/Damascus",group:"2",main:0},{display:"UTC+02:00 E. Europe",d:"E. Europe",value:"Asia/Nicosia",group:"2",main:0},{display:"UTC+02:00 Gaza",d:"Gaza",value:"Asia/Gaza",group:"2",main:0},{display:"UTC+02:00 Harare",d:"Harare",value:"Africa/Harare",group:"2",main:0},{display:"UTC+02:00 Helsinki",d:"Helsinki",value:"Europe/Helsinki",group:"2",main:0},{display:"UTC+02:00 Jerusalem",d:"Jerusalem",value:"Asia/Jerusalem",group:"2",main:0},{display:"UTC+02:00 Kyiv",d:"Kyiv",value:"Europe/Kiev",group:"2",main:0},{display:"UTC+02:00 Pretoria",d:"Pretoria",value:"Africa/Johannesburg",group:"2",main:0},{display:"UTC+02:00 Riga",d:"Riga",value:"Europe/Riga",group:"2",main:0},{display:"UTC+02:00 Sofia",d:"Sofia",value:"Europe/Sofia",group:"2",main:0},{display:"UTC+02:00 Tallinn",d:"Tallinn",value:"Europe/Tallinn",group:"2",main:0},{display:"UTC+02:00 Vilnius",d:"Vilnius",value:"Europe/Vilnius",group:"2",main:0},{display:"UTC+03:00 Istanbul",d:"Istanbul",value:"Europe/Istanbul",group:"3",main:1},{display:"UTC+03:00 Amman",d:"Amman",value:"Asia/Amman",group:"3",main:0},{display:"UTC+03:00 Baghdad",d:"Baghdad",value:"Asia/Baghdad",group:"3",main:0},{display:"UTC+03:00 Kaliningrad",d:"Kaliningrad",value:"Europe/Kaliningrad",group:"3",main:0},{display:"UTC+03:00 Kuwait",d:"Kuwait",value:"Asia/Kuwait",group:"3",main:0},{display:"UTC+03:00 Minsk",d:"Minsk",value:"Europe/Minsk",group:"3",main:0},{display:"UTC+03:00 Moscow",d:"Moscow",value:"Europe/Moscow",group:"3",main:0},{display:"UTC+03:00 Nairobi",d:"Nairobi",value:"Africa/Nairobi",group:"3",main:0},{display:"UTC+03:00 Riyadh",d:"Riyadh",value:"Asia/Riyadh",group:"3",main:0},{display:"UTC+03:30 Tehran",d:"Tehran",value:"Asia/Tehran",group:"3.3",main:1},{display:"UTC+04:00 Abu Dhabi",d:"Abu Dhabi",value:"Asia/Dubai",group:"4",main:1},{display:"UTC+04:00 Baku",d:"Baku",value:"Asia/Baku",group:"4",main:0},{display:"UTC+04:00 Muscat",d:"Muscat",value:"Asia/Muscat",group:"4",main:0},{display:"UTC+04:00 Port Louis",d:"Port Louis",value:"Indian/Mauritius",group:"4",main:0},{display:"UTC+04:00 Tbilisi",d:"Tbilisi",value:"Asia/Tbilisi",group:"4",main:0},{display:"UTC+04:00 Yerevan",d:"Yerevan",value:"Asia/Yerevan",group:"4",main:0},{display:"UTC+04:30 Kabul",d:"Kabul",value:"Asia/Kabul",group:"4.3",main:1},{display:"UTC+05:00 Islamabad",d:"Islamabad",value:"Asia/Karachi",group:"5",main:1},{display:"UTC+05:00 Tashkent",d:"Tashkent",value:"Asia/Tashkent",group:"5",main:0},{display:"UTC+05:30 New Delhi",d:"New Delhi",value:"Asia/Kolkata",group:"5.3",main:1},{display:"UTC+05:30 Sri Jayawardenepura",d:"Sri Jayawardenepura",value:"Asia/Colombo",group:"5.3",main:0},{display:"UTC+05:45 Kathmandu",d:"Kathmandu",value:"Asia/Kathmandu",group:"5.45",main:1},{display:"UTC+06:00 Astana",d:"Astana",value:"Asia/Almaty",group:"6",main:0},{display:"UTC+06:00 Dhaka",d:"Dhaka",value:"Asia/Dhaka",group:"6",main:1},{display:"UTC+06:00 Ekaterinburg",d:"Ekaterinburg",value:"Asia/Yekaterinburg",group:"6",main:0},{display:"UTC+06:00 Omsk",d:"Omsk",value:"Asia/Omsk",group:"6",main:0},{display:"UTC+06:30 Yangon (Rangoon)",d:"Yangon",value:"Asia/Rangoon",group:"6.3",main:1},{display:"UTC+07:00 Bangkok",d:"Bangkok",value:"Asia/Bangkok",group:"7",main:0},{display:"UTC+07:00 Hanoi",d:"Hanoi",value:"Asia/Ho_Chi_Minh",group:"7",main:0},{display:"UTC+07:00 Jakarta",d:"Jakarta",value:"Asia/Jakarta",group:"7",main:1},{display:"UTC+07:00 Novosibirsk",d:"Novosibirsk",value:"Asia/Novosibirsk",group:"7",main:0},{display:"UTC+08:00 Krasnoyarsk",d:"Krasnoyarsk",value:"Asia/Krasnoyarsk",group:"8",main:0},{display:"UTC+08:00 Kuala Lumpur",d:"Kuala Lumpur",value:"Asia/Kuala_Lumpur",group:"8",main:0},{display:"UTC+08:00 Perth",d:"Perth",value:"Australia/Perth",group:"8",main:0},{display:"UTC+08:00 Shanghai",d:"Shanghai",value:"Asia/Shanghai",group:"8",main:1},{display:"UTC+08:00 Singapore",d:"Singapore",value:"Asia/Singapore",group:"8",main:0},{display:"UTC+08:00 Taipei",d:"Taipei",value:"Asia/Taipei",group:"8",main:0},{display:"UTC+08:00 Ulaanbaatar",d:"Ulaanbaatar",value:"Asia/Ulaanbaatar",group:"8",main:0},{display:"UTC+08:45 Eucla area",d:"Eucla",value:"Australia/Eucla",group:"8.45",main:1},{display:"UTC+09:00 Irkutsk",d:"Irkutsk",value:"Asia/Irkutsk",group:"9",main:0},{display:"UTC+09:00 Seoul",d:"Seoul",value:"Asia/Seoul",group:"9",main:0},{display:"UTC+09:00 Tokyo",d:"Tokyo",value:"Asia/Tokyo",group:"9",main:1},{display:"UTC+09:30 Adelaide",d:"Adelaide",value:"Australia/Adelaide",group:"9.3",main:1},{display:"UTC+09:30 Darwin",d:"Darwin",value:"Australia/Darwin",group:"9.3",main:0},{display:"UTC+10:00 Brisbane",d:"Brisbane",value:"Australia/Brisbane",group:"10",main:0},{display:"UTC+10:00 Guam",d:"Guam",value:"Pacific/Guam",group:"10",main:0},{display:"UTC+10:00 Hobart",d:"Hobart",value:"Australia/Hobart",group:"10",main:0},{display:"UTC+10:00 Port Moresby",d:"Port Moresby",value:"Pacific/Port_Moresby",group:"10",main:0},{display:"UTC+10:00 Sydney",d:"Sydney",value:"Australia/Sydney",group:"10",main:1},{display:"UTC+10:00 Yakutsk",d:"Yakutsk",value:"Asia/Yakutsk",group:"10",main:0},{display:"UTC+10:30 Lord Howe Island",d:"Lord Howe",value:"Australia/Lord_Howe",group:"10.3",main:1},{display:"UTC+11:00 New Caledonia",d:"New Caledonia",value:"Pacific/Noumea",group:"11",main:0},{display:"UTC+11:00 Vladivostok",d:"Vladivostok",value:"Asia/Vladivostok",group:"11",main:1},{display:"UTC+11:30 Norfolk Island",d:"Norfolk Island",value:"Pacific/Norfolk",group:"11.3",main:1},{display:"UTC+12:00 Coordinated Universal Time+12",d:"UTC+12",value:"Pacific/Tarawa",group:"12",main:0},{display:"UTC+12:00 Fiji",d:"Fiji",value:"Pacific/Fiji",group:"12",main:0},{display:"UTC+12:00 Kamchatka",d:"Kamchatka",value:"Asia/Kamchatka",group:"12",main:0},{display:"UTC+12:00 Magadan",d:"Magadan",value:"Asia/Magadan",group:"12",main:0},{display:"UTC+12:00 Marshall Islands",d:"UTC+12 Marshall Island",value:"Pacific/Majuro",group:"12",main:0},{display:"UTC+12:00 Wellington",d:"Wellington",value:"Pacific/Auckland",group:"12",main:1},{display:"UTC+12:45 Chatham Island",d:"Chatham Island",value:"Pacific/Chatham",group:"12.45",main:1},{display:"UTC+13:00 Nuku'alofa",d:"Nuku'alofa",value:"Pacific/Tongatapu",group:"13",main:0},{display:"UTC+13:00 Samoa",d:"Samoa",value:"Pacific/Apia",group:"13",main:1},{display:"UTC+14:00 Kiritimati, Line Islands",d:"Line Islands",value:"Pacific/Kiritimati",group:"14",main:1}],r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getTimezones",value:function(){return i}},{key:"getShortString",value:function(e){for(var t=i,n=0;n<t.length;n++){var r=t[n];if(r.value==e)return r.d}return e.replace(/[^\/]+\//g,"").replace(/_/g," ")}},{key:"getDisplayString",value:function(e){for(var t=i,n=0;n<t.length;n++){var r=t[n];if(r.value==e)return r.display}return e.replace(/[^\/]+\//g,"").replace(/_/g," ")}},{key:"getOffset",value:function(e){for(var t=i,n=0;n<t.length;n++){var r=t[n];if(r.value==e)return r.group}return e.replace(/[^\/]+\//g,"").replace(/_/g," ")}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}()},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(36),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(84),a=n.n(r),i=n(53),o=n.n(i),s=n(32),l=n(145),u=n(68),c=n(3),d=n.n(c),f=n(71);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return e.created_at=d()(e.created_at),e}var b=function(){function r(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,e=!(n=m(r).call(this))||"object"!==p(n)&&"function"!=typeof n?v(t):n,window.settings?e.state={invoices:(window.settings.subscription.invoices||[]).map(g)}:e.state={invoices:[]},e.bindActions({handleSectionUpdate:l.a.sectionWasUpdated,handleBillingUpdated:u.a.billingDetailsUpdated}),e.exportPublicMethods({handleBillingUpdated:e.handleBillingUpdated.bind(v(e))}),e}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,f["a"]),e=r,(t=[{key:"handleSectionUpdate",value:function(e){o()(e.subscription)&&a()(e.subscription.invoices)&&(this.state.invoices=e.subscription.invoices.map(g))}},{key:"handleBillingUpdated",value:function(e){a()(e.invoices)&&(this.state.invoices=e.invoices.map(g))}}])&&h(e.prototype,t),n&&h(e,n),r}();t.a=s.a.createStore(b,"InvoiceStore")},function(e,t,n){var r=n(238),a=n(361),i=n(362);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&-1<e&&e%1==0&&e<t}},function(e,t,n){e.exports=n(407)},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(36),n(25),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return a.a.createElement("option",{key:e.value,value:e.value,"data-json-value":JSON.stringify(e.value)},e.label)}var d=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=s(this,l(n).call(this,e))).onChange=function(e){t.setState({value:e.target.value}),t.props.onChange&&t.props.onChange(e)},t.state={value:t.props.defaultValue},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,a.a.Component),e=n,(t=[{key:"render",value:function(){var e=this.props.options,t=this.props.disabled||!1,n=Math.random();return"multiple"==this.props.selection?a.a.createElement("select",{name:this.props.name,ref:this.props.name,id:this.props.id,onChange:this.onChange,className:this.props.className||"settings__select settings__multiselect",multiple:!0,disabled:t,value:this.state.value,required:this.props.required},e.map(function(e,t){return a.a.createElement(c,{label:e.label,value:e.value,key:t+n})})):a.a.createElement("select",{name:this.props.name,ref:this.props.name,id:this.props.id,onChange:this.onChange,className:this.props.className||"settings__select",disabled:t,value:this.state.value,required:this.props.required},e.map(function(e,t){return a.a.createElement(c,{label:e.label,value:e.value,key:t+n})}))}}])&&o(e.prototype,t),r&&o(e,r),n}();d.defaultProps={selection:"single",defaultValue:"",required:!1},t.a=d},function(e,t,n){var r=n(28);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(20);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){"use strict";var f=n(33),r=n(20),p=n(111),h=n(136),m=n(121),v=n(52),y=n(102),a=Object.assign,i=Object.defineProperty;e.exports=!a||r(function(){if(f&&1!==a({b:1},a(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=a({},e)[n]||p(a({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,a=1,i=h.f,o=m.f;a<r;)for(var s,l=y(arguments[a++]),u=i?p(l).concat(i(l)):p(l),c=u.length,d=0;d<c;)s=u[d++],f&&!o.call(l,s)||(n[s]=l[s]);return n}:a},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";function w(e,t){r.apply(e,S(t)?t:[t])}function _(e,t,n,r,a,i,o,s,l,u,c,d,f){var p,h=e;if("function"==typeof o?h=o(t,h):h instanceof Date?h=u(h):"comma"===n&&S(h)&&(h=h.join(",")),null===h){if(r)return i&&!d?i(t,k.encoder,f,"key"):t;h=""}if("string"==typeof(p=h)||"number"==typeof p||"boolean"==typeof p||"symbol"==typeof p||"bigint"==typeof p||E.isBuffer(h))return i?[c(d?t:i(t,k.encoder,f,"key"))+"="+c(i(h,k.encoder,f,"value"))]:[c(t)+"="+c(String(h))];var m,v=[];if(void 0===h)return v;if(S(o))m=o;else{var y=Object.keys(h);m=s?y.sort(s):y}for(var g=0;g<m.length;++g){var b=m[g];a&&null===h[b]||(S(h)?w(v,_(h[b],"function"==typeof n?n(t,b):t,n,r,a,i,o,s,l,u,c,d,f)):w(v,_(h[b],t+(l?"."+b:"["+b+"]"),n,r,a,i,o,s,l,u,c,d,f)))}return v}var E=n(152),f=n(218),p=Object.prototype.hasOwnProperty,h={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},S=Array.isArray,r=Array.prototype.push,a=Date.prototype.toISOString,i=f.default,k={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:E.encode,encodeValuesOnly:!1,format:i,formatter:f.formatters[i],indices:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var n,r=e,a=function(e){if(!e)return k;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||k.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=f.default;if(void 0!==e.format){if(!p.call(f.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=f.formatters[n],a=k.filter;return"function"!=typeof e.filter&&!S(e.filter)||(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:k.addQueryPrefix,allowDots:void 0===e.allowDots?k.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:k.charsetSentinel,delimiter:void 0===e.delimiter?k.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:k.encode,encoder:"function"==typeof e.encoder?e.encoder:k.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:k.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:k.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:k.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:k.strictNullHandling}}(t);"function"==typeof a.filter?r=(0,a.filter)("",r):S(a.filter)&&(n=a.filter);var i,o=[];if("object"!=typeof r||null===r)return"";i=t&&t.arrayFormat in h?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var s=h[i];n=n||Object.keys(r),a.sort&&n.sort(a.sort);for(var l=0;l<n.length;++l){var u=n[l];a.skipNulls&&null===r[u]||w(o,_(r[u],u,s,a.strictNullHandling,a.skipNulls,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.formatter,a.encodeValuesOnly,a.charset))}var c=o.join(a.delimiter),d=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),0<c.length?d+c:""}},function(e,t,n){"use strict";function u(e,t){var n,r={},a=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=a.split(t.delimiter,i),s=-1,l=t.charset;if(t.charsetSentinel)for(n=0;n<o.length;++n)0===o[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===o[n]?l="utf-8":"utf8=%26%2310003%3B"===o[n]&&(l="iso-8859-1"),s=n,n=o.length);for(n=0;n<o.length;++n)if(n!==s){var u,c,d=o[n],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;(c=-1===p?(u=t.decoder(d,y.decoder,l,"key"),t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,p),y.decoder,l,"key"),t.decoder(d.slice(p+1),y.decoder,l,"value")))&&t.interpretNumericEntities&&"iso-8859-1"===l&&(c=c.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),c&&"string"==typeof c&&t.comma&&-1<c.indexOf(",")&&(c=c.split(",")),-1<d.indexOf("[]=")&&(c=v(c)?[c]:c),m.call(r,u)?r[u]=h.combine(r[u],c):r[u]=c}return r}function c(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,i=0<n.depth&&/(\[[^[\]]*])/.exec(r),o=i?r.slice(0,i.index):r,s=[];if(o){if(!n.plainObjects&&m.call(Object.prototype,o)&&!n.allowPrototypes)return;s.push(o)}for(var l=0;0<n.depth&&null!==(i=a.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&m.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(i[1])}return i&&s.push("["+r.slice(i.index)+"]"),function(e,t,n){for(var r=t,a=e.length-1;0<=a;--a){var i,o=e[a];if("[]"===o&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);n.parseArrays||""!==s?!isNaN(l)&&o!==s&&String(l)===s&&0<=l&&n.parseArrays&&l<=n.arrayLimit?(i=[])[l]=r:i[s]=r:i={0:r}}r=i}return r}(s,t,n)}}var h=n(152),m=Object.prototype.hasOwnProperty,v=Array.isArray,y={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:h.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var n=function(e){if(!e)return y;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?y.charset:e.charset;return{allowDots:void 0===e.allowDots?y.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:y.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:y.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:y.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:y.comma,decoder:"function"==typeof e.decoder?e.decoder:y.decoder,delimiter:"string"==typeof e.delimiter||h.isRegExp(e.delimiter)?e.delimiter:y.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:y.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:y.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:y.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:y.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:y.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?u(e,n):e,a=n.plainObjects?Object.create(null):{},i=Object.keys(r),o=0;o<i.length;++o){var s=i[o],l=c(s,r[s],n);a=h.merge(a,l,n)}return h.compact(a)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(369),a=n(112),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(19),a=n(61),l=n(76),u=n(29),c=n(28),d=n(90),f=n(307),i=n(20),p=a("Reflect","construct"),h=i(function(){function e(){}return!(p(function(){},[],e)instanceof e)}),m=!i(function(){p(function(){})}),o=h||m;r({target:"Reflect",stat:!0,forced:o,sham:o},{construct:function(e,t,n){l(e),u(t);var r=arguments.length<3?e:l(n);if(m&&!h)return p(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return a.push.apply(a,t),new(f.apply(e,a))}var i=r.prototype,o=d(c(i)?i:Object.prototype),s=Function.apply.call(e,o,t);return c(s)?s:o}})},function(e,t,n){var r=n(67).Uint8Array;e.exports=r},function(e,t,n){var r=n(297),a=n(273),i=n(239);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var a=n(292),i=n(84);e.exports=function(e,t,n){var r=t(e);return i(e)?r:a(r,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var c=n(368),d=n(293),f=n(84),p=n(240),h=n(283),m=n(261),v=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=f(e),r=!n&&d(e),a=!n&&!r&&p(e),i=!n&&!r&&!a&&m(e),o=n||r||a||i,s=o?c(e.length,String):[],l=s.length;for(var u in e)!t&&!v.call(e,u)||o&&("length"==u||a&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||h(u,l))||s.push(u);return s}},function(e,t){e.exports=function(t,n){return function(e){return t(n(e))}}},function(e,t,n){"use strict";var r=n(19),u=n(28),c=n(147),d=n(187),f=n(51),p=n(54),h=n(266),a=n(150),m=n(23)("species"),v=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!a("slice")},{slice:function(e,t){var n,r,a,i=p(this),o=f(i.length),s=d(e,o),l=d(void 0===t?o:t,o);if(c(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!c(n.prototype)?u(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return v.call(i,s,l);for(r=new(void 0===n?Array:n)(y(l-s,0)),a=0;s<l;s++,a++)s in i&&h(r,a,i[s]);return r.length=a,r}})},function(e,t,n){var r=n(54),a=n(110).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(r(e))}},function(e,t,n){var r={"./cs":164,"./cs.js":164,"./da":165,"./da.js":165,"./de":166,"./de.js":166,"./es":167,"./es.js":167,"./fi":168,"./fi.js":168,"./fr":169,"./fr.js":169,"./hr":170,"./hr.js":170,"./hu":171,"./hu.js":171,"./it":172,"./it.js":172,"./ja":173,"./ja.js":173,"./nl":174,"./nl.js":174,"./pl":175,"./pl.js":175,"./pt":176,"./pt.js":176,"./ro":177,"./ro.js":177,"./ru":178,"./ru.js":178,"./sk":179,"./sk.js":179,"./sl":180,"./sl.js":180,"./sr":181,"./sr.js":181,"./sv":182,"./sv.js":182,"./tr":183,"./tr.js":183,"./zh-cn":184,"./zh-cn.js":184,"./zh-tw":185,"./zh-tw.js":185};function a(e){var t=i(e);return n(t)}function i(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return Object.keys(r)},a.resolve=i,(e.exports=a).id=303},function(e,t,n){var r,a,i,o,s,l,u,c,d=n(21),f=n(91).f,p=n(57),h=n(234).set,m=n(235),v=d.MutationObserver||d.WebKitMutationObserver,y=d.process,g=d.Promise,b="process"==p(y),w=f(d,"queueMicrotask"),_=w&&w.value;_||(r=function(){var e,t;for(b&&(e=y.domain)&&e.exit();a;){t=a.fn,a=a.next;try{t()}catch(e){throw a?o():i=void 0,e}}i=void 0,e&&e.enter()},o=b?function(){y.nextTick(r)}:v&&!m?(s=!0,l=document.createTextNode(""),new v(r).observe(l,{characterData:!0}),function(){l.data=s=!s}):g&&g.resolve?(u=g.resolve(void 0),c=u.then,function(){c.call(u,r)}):function(){h.call(d,r)}),e.exports=_||function(e){var t={fn:e,next:void 0};i&&(i.next=t),a||(a=t,o()),i=t}},function(e,t,n){var r=n(21);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var i=n(76),o=n(28),s=[].slice,l={};e.exports=Function.bind||function(t){var n=i(this),r=s.call(arguments,1),a=function(){var e=r.concat(s.call(arguments));return this instanceof a?function(e,t,n){if(!(t in l)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";l[t]=Function("C,a","return new C("+r.join(",")+")")}return l[t](e,n)}(n,e.length,e):n.apply(t,e)};return o(n.prototype)&&(a.prototype=n.prototype),a}},function(e,t,n){"use strict";var r=n(19),a=n(436).left;r({target:"Array",proto:!0,forced:n(115)("reduce")},{reduce:function(e,t){return a(this,e,arguments.length,1<arguments.length?t:void 0)}})},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var r=n(19),a=n(147),i=[].reverse,o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),i.call(this)}})},,function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){var r=n(19),a=n(417);r({target:"Array",stat:!0,forced:!n(197)(function(e){Array.from(e)})},{from:a})},function(e,t){function i(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function o(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,n){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(n=t,t={}),t=t||{},n=n||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?i:o)(a,n),a.onload||i(a,n),r.appendChild(a)}},function(e,t,n){
/* flatpickr v4.6.3, @license MIT */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Se=function(){Se=Object.assign||function e(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]}return t};return Se.apply(this,arguments)},ke=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Oe={_disable:[],_enable:[],allowInput:false,altFormat:"F j, Y",altInput:false,altInputClass:"form-control input",animate:typeof window==="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",clickOpens:true,closeOnSelect:true,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:false,enable:[],enableSeconds:false,enableTime:false,errorHandler:function(e){return typeof console!=="undefined"&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0);t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:false,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:false,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:undefined,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:false,showMonths:1,static:false,time_24hr:false,weekNumbers:false,wrap:false},Ce={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:false},De=function(e){return("0"+e).slice(-2)},Te=function(e){return e===true?1:0};function xe(n,r,a){if(a===void 0){a=false}var i;return function(){var e=this,t=arguments;i!==null&&clearTimeout(i);i=window.setTimeout(function(){i=null;if(!a)n.apply(e,t)},r);if(a&&!i)n.apply(e,t)}}var Pe=function(e){return e instanceof Array?e:[e]};function je(e,t,n){if(n===true)return e.classList.add(t);e.classList.remove(t)}function Me(e,t,n){var r=window.document.createElement(e);t=t||"";n=n||"";r.className=t;if(n!==undefined)r.textContent=n;return r}function Ne(e){while(e.firstChild)e.removeChild(e.firstChild)}function Ae(e,t){if(t(e))return e;else if(e.parentNode)return Ae(e.parentNode,t);return undefined}function Le(e,t){var n=Me("div","numInputWrapper"),r=Me("input","numInput "+e),a=Me("span","arrowUp"),i=Me("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1){r.type="number"}else{r.type="text";r.pattern="\\d*"}if(t!==undefined)for(var o in t)r.setAttribute(o,t[o]);n.appendChild(r);n.appendChild(a);n.appendChild(i);return n}function Re(e){if(typeof e.composedPath==="function"){var t=e.composedPath();return t[0]}return e.target}var e=function(){return undefined},Ie=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},w={D:e,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*Te(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(parseFloat(t)*1e3)},W:function(e,t,n){var r=parseInt(t);var a=new Date(e.getFullYear(),0,2+(r-1)*7,0,0,0,0);a.setDate(a.getDate()-a.getDay()+n.firstDayOfWeek);return a},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:e,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:e,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},Fe={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},s={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[s.w(e,t,n)]},F:function(e,t,n){return Ie(s.n(e,t,n)-1,false,t)},G:function(e,t,n){return De(s.h(e,t,n))},H:function(e){return De(e.getHours())},J:function(e,t){return t.ordinal!==undefined?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[Te(e.getHours()>11)]},M:function(e,t){return Ie(e.getMonth(),true,t)},S:function(e){return De(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return De(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return De(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return De(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},Ve=function(e){var t=e.config,i=t===void 0?Oe:t,n=e.l10n,o=n===void 0?Ce:n;return function(r,e,t){var a=t||o;if(i.formatDate!==undefined){return i.formatDate(r,e,a)}return e.split("").map(function(e,t,n){return s[e]&&n[t-1]!=="\\"?s[e](r,a,i):e!=="\\"?e:""}).join("")}},Ue=function(e){var t=e.config,g=t===void 0?Oe:t,n=e.l10n,b=n===void 0?Ce:n;return function(e,t,n,r){if(e!==0&&!e)return undefined;var a=r||b;var i;var o=e;if(e instanceof Date)i=new Date(e.getTime());else if(typeof e!=="string"&&e.toFixed!==undefined)i=new Date(e);else if(typeof e==="string"){var s=t||(g||Oe).dateFormat;var l=String(e).trim();if(l==="today"){i=new Date;n=true}else if(/Z$/.test(l)||/GMT$/.test(l))i=new Date(e);else if(g&&g.parseDate)i=g.parseDate(e,s);else{i=!g||!g.noCalendar?new Date((new Date).getFullYear(),0,1,0,0,0,0):new Date((new Date).setHours(0,0,0,0));var u=void 0,c=[];for(var d=0,f=0,p="";d<s.length;d++){var h=s[d];var m=h==="\\";var v=s[d-1]==="\\"||m;if(Fe[h]&&!v){p+=Fe[h];var y=new RegExp(p).exec(e);if(y&&(u=true)){c[h!=="Y"?"push":"unshift"]({fn:w[h],val:y[++f]})}}else if(!m)p+=".";c.forEach(function(e){var t=e.fn,n=e.val;return i=t(i,n,a)||i})}i=u?i:undefined}}if(!(i instanceof Date&&!isNaN(i.getTime()))){g.errorHandler(new Error("Invalid date provided: "+o));return undefined}if(n===true)i.setHours(0,0,0,0);return i}};function Ye(e,t,n){if(n===void 0){n=true}if(n!==false){return new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0)}return e.getTime()-t.getTime()}var He=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},Be={DAY:864e5};if(typeof Object.assign!=="function"){Object.assign=function(n){var e=[];for(var t=1;t<arguments.length;t++){e[t-1]=arguments[t]}if(!n){throw TypeError("Cannot convert undefined or null to object")}var r=function(t){if(t){Object.keys(t).forEach(function(e){return n[e]=t[e]})}};for(var a=0,i=e;a<i.length;a++){var o=i[a];r(o)}return n}}var We=300;function o(c,d){var E={config:Se({},Oe,ze.defaultConfig),l10n:Ce};E.parseDate=Ue({config:E.config,l10n:E.l10n});E._handlers=[];E.pluginElements=[];E.loadedPlugins=[];E._bind=u;E._setHoursFromDate=i;E._positionCalendar=te;E.changeMonth=F;E.changeYear=W;E.clear=V;E.close=U;E._createElement=Me;E.destroy=Y;E.isEnabled=z;E.jumpToDate=g;E.open=Q;E.redraw=ne;E.set=oe;E.setDate=le;E.toggle=pe;function t(){E.utils={getDaysInMonth:function(e,t){if(e===void 0){e=E.currentMonth}if(t===void 0){t=E.currentYear}if(e===1&&(t%4===0&&t%100!==0||t%400===0))return 29;return E.l10n.daysInMonth[e]}}}function e(){E.element=E.input=c;E.isOpen=false;X();ee();de();ce();t();if(!E.isMobile)_();y();if(E.selectedDates.length||E.config.noCalendar){if(E.config.enableTime){i(E.config.noCalendar?E.latestSelectedDateObj||E.config.minDate:undefined)}we(false)}n();E.showTimeInput=E.selectedDates.length>0||E.config.noCalendar;var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!E.isMobile&&e){te()}he("onReady")}function f(e){return e.bind(E)}function n(){var t=E.config;if(t.weekNumbers===false&&t.showMonths===1)return;else if(t.noCalendar!==true){window.requestAnimationFrame(function(){if(E.calendarContainer!==undefined){E.calendarContainer.style.visibility="hidden";E.calendarContainer.style.display="block"}if(E.daysContainer!==undefined){var e=(E.days.offsetWidth+1)*t.showMonths;E.daysContainer.style.width=e+"px";E.calendarContainer.style.width=e+(E.weekWrapper!==undefined?E.weekWrapper.offsetWidth:0)+"px";E.calendarContainer.style.removeProperty("visibility");E.calendarContainer.style.removeProperty("display")}})}}function p(e){if(E.selectedDates.length===0){J()}if(e!==undefined&&e.type!=="blur"){Ee(e)}var t=E._input.value;h();we();if(E._input.value!==t){E._debouncedChange()}}function s(e,t){return e%12+12*Te(t===E.l10n.amPM[1])}function a(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}function h(){if(E.hourElement===undefined||E.minuteElement===undefined)return;var e=(parseInt(E.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(E.minuteElement.value,10)||0)%60,n=E.secondElement!==undefined?(parseInt(E.secondElement.value,10)||0)%60:0;if(E.amPM!==undefined){e=s(e,E.amPM.textContent)}var r=E.config.minTime!==undefined||E.config.minDate&&E.minDateHasTime&&E.latestSelectedDateObj&&Ye(E.latestSelectedDateObj,E.config.minDate,true)===0;var a=E.config.maxTime!==undefined||E.config.maxDate&&E.maxDateHasTime&&E.latestSelectedDateObj&&Ye(E.latestSelectedDateObj,E.config.maxDate,true)===0;if(a){var i=E.config.maxTime!==undefined?E.config.maxTime:E.config.maxDate;e=Math.min(e,i.getHours());if(e===i.getHours())t=Math.min(t,i.getMinutes());if(t===i.getMinutes())n=Math.min(n,i.getSeconds())}if(r){var o=E.config.minTime!==undefined?E.config.minTime:E.config.minDate;e=Math.max(e,o.getHours());if(e===o.getHours())t=Math.max(t,o.getMinutes());if(t===o.getMinutes())n=Math.max(n,o.getSeconds())}l(e,t,n)}function i(e){var t=e||E.latestSelectedDateObj;if(t)l(t.getHours(),t.getMinutes(),t.getSeconds())}function r(){var e=E.config.defaultHour;var t=E.config.defaultMinute;var n=E.config.defaultSeconds;if(E.config.minDate!==undefined){var r=E.config.minDate.getHours();var a=E.config.minDate.getMinutes();e=Math.max(e,r);if(e===r)t=Math.max(a,t);if(e===r&&t===a)n=E.config.minDate.getSeconds()}if(E.config.maxDate!==undefined){var i=E.config.maxDate.getHours();var o=E.config.maxDate.getMinutes();e=Math.min(e,i);if(e===i)t=Math.min(o,t);if(e===i&&t===o)n=E.config.maxDate.getSeconds()}l(e,t,n)}function l(e,t,n){if(E.latestSelectedDateObj!==undefined){E.latestSelectedDateObj.setHours(e%24,t,n||0,0)}if(!E.hourElement||!E.minuteElement||E.isMobile)return;E.hourElement.value=De(!E.config.time_24hr?(12+e)%12+12*Te(e%12===0):e);E.minuteElement.value=De(t);if(E.amPM!==undefined)E.amPM.textContent=E.l10n.amPM[Te(e>=12)];if(E.secondElement!==undefined)E.secondElement.value=De(n)}function o(e){var t=parseInt(e.target.value)+(e.delta||0);if(t/1e3>1||e.key==="Enter"&&!/[^\d]/.test(t.toString())){W(t)}}function u(t,n,r,a){if(n instanceof Array)return n.forEach(function(e){return u(t,e,r,a)});if(t instanceof Array)return t.forEach(function(e){return u(e,n,r,a)});t.addEventListener(n,r,a);E._handlers.push({element:t,event:n,handler:r,options:a})}function m(t){return function(e){e.which===1&&t(e)}}function v(){he("onChange")}function y(){if(E.config.wrap){["open","close","toggle","clear"].forEach(function(t){Array.prototype.forEach.call(E.element.querySelectorAll("[data-"+t+"]"),function(e){return u(e,"click",E[t])})})}if(E.isMobile){fe();return}var e=xe($,50);E._debouncedChange=xe(v,We);if(E.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))u(E.daysContainer,"mouseover",function(e){if(E.config.mode==="range")q(e.target)});u(window.document.body,"keydown",K);if(!E.config.inline&&!E.config.static)u(window,"resize",e);if(window.ontouchstart!==undefined)u(window.document,"touchstart",B);else u(window.document,"mousedown",m(B));u(window.document,"focus",B,{capture:true});if(E.config.clickOpens===true){u(E._input,"focus",E.open);u(E._input,"mousedown",m(E.open))}if(E.daysContainer!==undefined){u(E.monthNav,"mousedown",m(_e));u(E.monthNav,["keyup","increment"],o);u(E.daysContainer,"mousedown",m(ae))}if(E.timeContainer!==undefined&&E.minuteElement!==undefined&&E.hourElement!==undefined){var t=function(e){return e.target.select()};u(E.timeContainer,["increment"],p);u(E.timeContainer,"blur",p,{capture:true});u(E.timeContainer,"mousedown",m(b));u([E.hourElement,E.minuteElement],["focus","click"],t);if(E.secondElement!==undefined)u(E.secondElement,"focus",function(){return E.secondElement&&E.secondElement.select()});if(E.amPM!==undefined){u(E.amPM,"mousedown",m(function(e){p(e);v()}))}}}function g(e,t){var n=e!==undefined?E.parseDate(e):E.latestSelectedDateObj||(E.config.minDate&&E.config.minDate>E.now?E.config.minDate:E.config.maxDate&&E.config.maxDate<E.now?E.config.maxDate:E.now);var r=E.currentYear;var a=E.currentMonth;try{if(n!==undefined){E.currentYear=n.getFullYear();E.currentMonth=n.getMonth()}}catch(e){e.message="Invalid date supplied: "+n;E.config.errorHandler(e)}if(t&&E.currentYear!==r){he("onYearChange");P()}if(t&&(E.currentYear!==r||E.currentMonth!==a)){he("onMonthChange")}E.redraw()}function b(e){if(~e.target.className.indexOf("arrow"))w(e,e.target.classList.contains("arrowUp")?1:-1)}function w(e,t,n){var r=e&&e.target;var a=n||r&&r.parentNode&&r.parentNode.firstChild;var i=me("increment");i.delta=t;a&&a.dispatchEvent(i)}function _(){var e=window.document.createDocumentFragment();E.calendarContainer=Me("div","flatpickr-calendar");E.calendarContainer.tabIndex=-1;if(!E.config.noCalendar){e.appendChild(N());E.innerContainer=Me("div","flatpickr-innerContainer");if(E.config.weekNumbers){var t=I(),n=t.weekWrapper,r=t.weekNumbers;E.innerContainer.appendChild(n);E.weekNumbers=r;E.weekWrapper=n}E.rContainer=Me("div","flatpickr-rContainer");E.rContainer.appendChild(L());if(!E.daysContainer){E.daysContainer=Me("div","flatpickr-days");E.daysContainer.tabIndex=-1}x();E.rContainer.appendChild(E.daysContainer);E.innerContainer.appendChild(E.rContainer);e.appendChild(E.innerContainer)}if(E.config.enableTime){e.appendChild(A())}je(E.calendarContainer,"rangeMode",E.config.mode==="range");je(E.calendarContainer,"animate",E.config.animate===true);je(E.calendarContainer,"multiMonth",E.config.showMonths>1);E.calendarContainer.appendChild(e);var a=E.config.appendTo!==undefined&&E.config.appendTo.nodeType!==undefined;if(E.config.inline||E.config.static){E.calendarContainer.classList.add(E.config.inline?"inline":"static");if(E.config.inline){if(!a&&E.element.parentNode)E.element.parentNode.insertBefore(E.calendarContainer,E._input.nextSibling);else if(E.config.appendTo!==undefined)E.config.appendTo.appendChild(E.calendarContainer)}if(E.config.static){var i=Me("div","flatpickr-wrapper");if(E.element.parentNode)E.element.parentNode.insertBefore(i,E.element);i.appendChild(E.element);if(E.altInput)i.appendChild(E.altInput);i.appendChild(E.calendarContainer)}}if(!E.config.static&&!E.config.inline)(E.config.appendTo!==undefined?E.config.appendTo:window.document.body).appendChild(E.calendarContainer)}function S(e,t,n,r){var a=z(t,true),i=Me("span","flatpickr-day "+e,t.getDate().toString());i.dateObj=t;i.$i=r;i.setAttribute("aria-label",E.formatDate(t,E.config.ariaDateFormat));if(e.indexOf("hidden")===-1&&Ye(t,E.now)===0){E.todayDateElem=i;i.classList.add("today");i.setAttribute("aria-current","date")}if(a){i.tabIndex=-1;if(ve(t)){i.classList.add("selected");E.selectedDateElem=i;if(E.config.mode==="range"){je(i,"startRange",E.selectedDates[0]&&Ye(t,E.selectedDates[0],true)===0);je(i,"endRange",E.selectedDates[1]&&Ye(t,E.selectedDates[1],true)===0);if(e==="nextMonthDay")i.classList.add("inRange")}}}else{i.classList.add("flatpickr-disabled")}if(E.config.mode==="range"){if(ye(t)&&!ve(t))i.classList.add("inRange")}if(E.weekNumbers&&E.config.showMonths===1&&e!=="prevMonthDay"&&n%7===1){E.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+E.config.getWeek(t)+"</span>")}he("onDayCreate",i);return i}function k(e){e.focus();if(E.config.mode==="range")q(e)}function O(e){var t=e>0?0:E.config.showMonths-1;var n=e>0?E.config.showMonths:-1;for(var r=t;r!=n;r+=e){var a=E.daysContainer.children[r];var i=e>0?0:a.children.length-1;var o=e>0?a.children.length:-1;for(var s=i;s!=o;s+=e){var l=a.children[s];if(l.className.indexOf("hidden")===-1&&z(l.dateObj))return l}}return undefined}function C(e,t){var n=e.className.indexOf("Month")===-1?e.dateObj.getMonth():E.currentMonth;var r=t>0?E.config.showMonths:-1;var a=t>0?1:-1;for(var i=n-E.currentMonth;i!=r;i+=a){var o=E.daysContainer.children[i];var s=n-E.currentMonth===i?e.$i+t:t<0?o.children.length-1:0;var l=o.children.length;for(var u=s;u>=0&&u<l&&u!=(t>0?l:-1);u+=a){var c=o.children[u];if(c.className.indexOf("hidden")===-1&&z(c.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return k(c)}}E.changeMonth(a);D(O(a),0);return undefined}function D(e,t){var n=G(document.activeElement||document.body);var r=e!==undefined?e:n?document.activeElement:E.selectedDateElem!==undefined&&G(E.selectedDateElem)?E.selectedDateElem:E.todayDateElem!==undefined&&G(E.todayDateElem)?E.todayDateElem:O(t>0?1:-1);if(r===undefined)return E._input.focus();if(!n)return k(r);C(r,t)}function T(e,t){var n=(new Date(e,t,1).getDay()-E.l10n.firstDayOfWeek+7)%7;var r=E.utils.getDaysInMonth((t-1+12)%12);var a=E.utils.getDaysInMonth(t),i=window.document.createDocumentFragment(),o=E.config.showMonths>1,s=o?"prevMonthDay hidden":"prevMonthDay",l=o?"nextMonthDay hidden":"nextMonthDay";var u=r+1-n,c=0;for(;u<=r;u++,c++){i.appendChild(S(s,new Date(e,t-1,u),u,c))}for(u=1;u<=a;u++,c++){i.appendChild(S("",new Date(e,t,u),u,c))}for(var d=a+1;d<=42-n&&(E.config.showMonths===1||c%7!==0);d++,c++){i.appendChild(S(l,new Date(e,t+1,d%a),d,c))}var f=Me("div","dayContainer");f.appendChild(i);return f}function x(){if(E.daysContainer===undefined){return}Ne(E.daysContainer);if(E.weekNumbers)Ne(E.weekNumbers);var e=document.createDocumentFragment();for(var t=0;t<E.config.showMonths;t++){var n=new Date(E.currentYear,E.currentMonth,1);n.setMonth(E.currentMonth+t);e.appendChild(T(n.getFullYear(),n.getMonth()))}E.daysContainer.appendChild(e);E.days=E.daysContainer.firstChild;if(E.config.mode==="range"&&E.selectedDates.length===1){q()}}function P(){if(E.config.showMonths>1||E.config.monthSelectorType!=="dropdown")return;var e=function(e){if(E.config.minDate!==undefined&&E.currentYear===E.config.minDate.getFullYear()&&e<E.config.minDate.getMonth()){return false}return!(E.config.maxDate!==undefined&&E.currentYear===E.config.maxDate.getFullYear()&&e>E.config.maxDate.getMonth())};E.monthsDropdownContainer.tabIndex=-1;E.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++){if(!e(t))continue;var n=Me("option","flatpickr-monthDropdown-month");n.value=new Date(E.currentYear,t).getMonth().toString();n.textContent=Ie(t,E.config.shorthandCurrentMonth,E.l10n);n.tabIndex=-1;if(E.currentMonth===t){n.selected=true}E.monthsDropdownContainer.appendChild(n)}}function j(){var e=Me("div","flatpickr-month");var t=window.document.createDocumentFragment();var n;if(E.config.showMonths>1||E.config.monthSelectorType==="static"){n=Me("span","cur-month")}else{E.monthsDropdownContainer=Me("select","flatpickr-monthDropdown-months");u(E.monthsDropdownContainer,"change",function(e){var t=e.target;var n=parseInt(t.value,10);E.changeMonth(n-E.currentMonth);he("onMonthChange")});P();n=E.monthsDropdownContainer}var r=Le("cur-year",{tabindex:"-1"});var a=r.getElementsByTagName("input")[0];a.setAttribute("aria-label",E.l10n.yearAriaLabel);if(E.config.minDate){a.setAttribute("min",E.config.minDate.getFullYear().toString())}if(E.config.maxDate){a.setAttribute("max",E.config.maxDate.getFullYear().toString());a.disabled=!!E.config.minDate&&E.config.minDate.getFullYear()===E.config.maxDate.getFullYear()}var i=Me("div","flatpickr-current-month");i.appendChild(n);i.appendChild(r);t.appendChild(i);e.appendChild(t);return{container:e,yearElement:a,monthElement:n}}function M(){Ne(E.monthNav);E.monthNav.appendChild(E.prevMonthNav);if(E.config.showMonths){E.yearElements=[];E.monthElements=[]}for(var e=E.config.showMonths;e--;){var t=j();E.yearElements.push(t.yearElement);E.monthElements.push(t.monthElement);E.monthNav.appendChild(t.container)}E.monthNav.appendChild(E.nextMonthNav)}function N(){E.monthNav=Me("div","flatpickr-months");E.yearElements=[];E.monthElements=[];E.prevMonthNav=Me("span","flatpickr-prev-month");E.prevMonthNav.innerHTML=E.config.prevArrow;E.nextMonthNav=Me("span","flatpickr-next-month");E.nextMonthNav.innerHTML=E.config.nextArrow;M();Object.defineProperty(E,"_hidePrevMonthArrow",{get:function(){return E.__hidePrevMonthArrow},set:function(e){if(E.__hidePrevMonthArrow!==e){je(E.prevMonthNav,"flatpickr-disabled",e);E.__hidePrevMonthArrow=e}}});Object.defineProperty(E,"_hideNextMonthArrow",{get:function(){return E.__hideNextMonthArrow},set:function(e){if(E.__hideNextMonthArrow!==e){je(E.nextMonthNav,"flatpickr-disabled",e);E.__hideNextMonthArrow=e}}});E.currentYearElement=E.yearElements[0];ge();return E.monthNav}function A(){E.calendarContainer.classList.add("hasTime");if(E.config.noCalendar)E.calendarContainer.classList.add("noCalendar");E.timeContainer=Me("div","flatpickr-time");E.timeContainer.tabIndex=-1;var e=Me("span","flatpickr-time-separator",":");var t=Le("flatpickr-hour",{"aria-label":E.l10n.hourAriaLabel});E.hourElement=t.getElementsByTagName("input")[0];var n=Le("flatpickr-minute",{"aria-label":E.l10n.minuteAriaLabel});E.minuteElement=n.getElementsByTagName("input")[0];E.hourElement.tabIndex=E.minuteElement.tabIndex=-1;E.hourElement.value=De(E.latestSelectedDateObj?E.latestSelectedDateObj.getHours():E.config.time_24hr?E.config.defaultHour:a(E.config.defaultHour));E.minuteElement.value=De(E.latestSelectedDateObj?E.latestSelectedDateObj.getMinutes():E.config.defaultMinute);E.hourElement.setAttribute("step",E.config.hourIncrement.toString());E.minuteElement.setAttribute("step",E.config.minuteIncrement.toString());E.hourElement.setAttribute("min",E.config.time_24hr?"0":"1");E.hourElement.setAttribute("max",E.config.time_24hr?"23":"12");E.minuteElement.setAttribute("min","0");E.minuteElement.setAttribute("max","59");E.timeContainer.appendChild(t);E.timeContainer.appendChild(e);E.timeContainer.appendChild(n);if(E.config.time_24hr)E.timeContainer.classList.add("time24hr");if(E.config.enableSeconds){E.timeContainer.classList.add("hasSeconds");var r=Le("flatpickr-second");E.secondElement=r.getElementsByTagName("input")[0];E.secondElement.value=De(E.latestSelectedDateObj?E.latestSelectedDateObj.getSeconds():E.config.defaultSeconds);E.secondElement.setAttribute("step",E.minuteElement.getAttribute("step"));E.secondElement.setAttribute("min","0");E.secondElement.setAttribute("max","59");E.timeContainer.appendChild(Me("span","flatpickr-time-separator",":"));E.timeContainer.appendChild(r)}if(!E.config.time_24hr){E.amPM=Me("span","flatpickr-am-pm",E.l10n.amPM[Te((E.latestSelectedDateObj?E.hourElement.value:E.config.defaultHour)>11)]);E.amPM.title=E.l10n.toggleTitle;E.amPM.tabIndex=-1;E.timeContainer.appendChild(E.amPM)}return E.timeContainer}function L(){if(!E.weekdayContainer)E.weekdayContainer=Me("div","flatpickr-weekdays");else Ne(E.weekdayContainer);for(var e=E.config.showMonths;e--;){var t=Me("div","flatpickr-weekdaycontainer");E.weekdayContainer.appendChild(t)}R();return E.weekdayContainer}function R(){if(!E.weekdayContainer){return}var e=E.l10n.firstDayOfWeek;var t=E.l10n.weekdays.shorthand.slice();if(e>0&&e<t.length){t=t.splice(e,t.length).concat(t.splice(0,e))}for(var n=E.config.showMonths;n--;){E.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function I(){E.calendarContainer.classList.add("hasWeeks");var e=Me("div","flatpickr-weekwrapper");e.appendChild(Me("span","flatpickr-weekday",E.l10n.weekAbbreviation));var t=Me("div","flatpickr-weeks");e.appendChild(t);return{weekWrapper:e,weekNumbers:t}}function F(e,t){if(t===void 0){t=true}var n=t?e:e-E.currentMonth;if(n<0&&E._hidePrevMonthArrow===true||n>0&&E._hideNextMonthArrow===true)return;E.currentMonth+=n;if(E.currentMonth<0||E.currentMonth>11){E.currentYear+=E.currentMonth>11?1:-1;E.currentMonth=(E.currentMonth+12)%12;he("onYearChange");P()}x();he("onMonthChange");ge()}function V(e,t){if(e===void 0){e=true}if(t===void 0){t=true}E.input.value="";if(E.altInput!==undefined)E.altInput.value="";if(E.mobileInput!==undefined)E.mobileInput.value="";E.selectedDates=[];E.latestSelectedDateObj=undefined;if(t===true){E.currentYear=E._initialDate.getFullYear();E.currentMonth=E._initialDate.getMonth()}E.showTimeInput=false;if(E.config.enableTime===true){r()}E.redraw();if(e)he("onChange")}function U(){E.isOpen=false;if(!E.isMobile){if(E.calendarContainer!==undefined){E.calendarContainer.classList.remove("open")}if(E._input!==undefined){E._input.classList.remove("active")}}he("onClose")}function Y(){if(E.config!==undefined)he("onDestroy");for(var e=E._handlers.length;e--;){var t=E._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}E._handlers=[];if(E.mobileInput){if(E.mobileInput.parentNode)E.mobileInput.parentNode.removeChild(E.mobileInput);E.mobileInput=undefined}else if(E.calendarContainer&&E.calendarContainer.parentNode){if(E.config.static&&E.calendarContainer.parentNode){var n=E.calendarContainer.parentNode;n.lastChild&&n.removeChild(n.lastChild);if(n.parentNode){while(n.firstChild)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else E.calendarContainer.parentNode.removeChild(E.calendarContainer)}if(E.altInput){E.input.type="text";if(E.altInput.parentNode)E.altInput.parentNode.removeChild(E.altInput);delete E.altInput}if(E.input){E.input.type=E.input._type;E.input.classList.remove("flatpickr-input");E.input.removeAttribute("readonly");E.input.value=""}["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete E[e]}catch(e){}})}function H(e){if(E.config.appendTo&&E.config.appendTo.contains(e))return true;return E.calendarContainer.contains(e)}function B(e){if(E.isOpen&&!E.config.inline){var t=Re(e);var n=H(t);var r=t===E.input||t===E.altInput||E.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(E.input)||~e.path.indexOf(E.altInput));var a=e.type==="blur"?r&&e.relatedTarget&&!H(e.relatedTarget):!r&&!n&&!H(e.relatedTarget);var i=!E.config.ignoredFocusElements.some(function(e){return e.contains(t)});if(a&&i){if(E.timeContainer!==undefined&&E.minuteElement!==undefined&&E.hourElement!==undefined){p()}E.close();if(E.config.mode==="range"&&E.selectedDates.length===1){E.clear(false);E.redraw()}}}}function W(e){if(!e||E.config.minDate&&e<E.config.minDate.getFullYear()||E.config.maxDate&&e>E.config.maxDate.getFullYear())return;var t=e,n=E.currentYear!==t;E.currentYear=t||E.currentYear;if(E.config.maxDate&&E.currentYear===E.config.maxDate.getFullYear()){E.currentMonth=Math.min(E.config.maxDate.getMonth(),E.currentMonth)}else if(E.config.minDate&&E.currentYear===E.config.minDate.getFullYear()){E.currentMonth=Math.max(E.config.minDate.getMonth(),E.currentMonth)}if(n){E.redraw();he("onYearChange");P()}}function z(e,t){if(t===void 0){t=true}var n=E.parseDate(e,undefined,t);if(E.config.minDate&&n&&Ye(n,E.config.minDate,t!==undefined?t:!E.minDateHasTime)<0||E.config.maxDate&&n&&Ye(n,E.config.maxDate,t!==undefined?t:!E.maxDateHasTime)>0)return false;if(E.config.enable.length===0&&E.config.disable.length===0)return true;if(n===undefined)return false;var r=E.config.enable.length>0,a=r?E.config.enable:E.config.disable;for(var i=0,o=void 0;i<a.length;i++){o=a[i];if(typeof o==="function"&&o(n))return r;else if(o instanceof Date&&n!==undefined&&o.getTime()===n.getTime())return r;else if(typeof o==="string"&&n!==undefined){var s=E.parseDate(o,undefined,true);return s&&s.getTime()===n.getTime()?r:!r}else if(typeof o==="object"&&n!==undefined&&o.from&&o.to&&n.getTime()>=o.from.getTime()&&n.getTime()<=o.to.getTime())return r}return!r}function G(e){if(E.daysContainer!==undefined)return e.className.indexOf("hidden")===-1&&E.daysContainer.contains(e);return false}function K(e){var t=e.target===E._input;var n=E.config.allowInput;var r=E.isOpen&&(!n||!t);var a=E.config.inline&&t&&!n;if(e.keyCode===13&&t){if(n){E.setDate(E._input.value,true,e.target===E.altInput?E.config.altFormat:E.config.dateFormat);return e.target.blur()}else{E.open()}}else if(H(e.target)||r||a){var i=!!E.timeContainer&&E.timeContainer.contains(e.target);switch(e.keyCode){case 13:if(i){e.preventDefault();p();re()}else ae(e);break;case 27:e.preventDefault();re();break;case 8:case 46:if(t&&!E.config.allowInput){e.preventDefault();E.clear()}break;case 37:case 39:if(!i&&!t){e.preventDefault();if(E.daysContainer!==undefined&&(n===false||document.activeElement&&G(document.activeElement))){var o=e.keyCode===39?1:-1;if(!e.ctrlKey)D(undefined,o);else{e.stopPropagation();F(o);D(O(1),0)}}}else if(E.hourElement)E.hourElement.focus();break;case 38:case 40:e.preventDefault();var s=e.keyCode===40?1:-1;if(E.daysContainer&&e.target.$i!==undefined||e.target===E.input||e.target===E.altInput){if(e.ctrlKey){e.stopPropagation();W(E.currentYear-s);D(O(1),0)}else if(!i)D(undefined,s*7)}else if(e.target===E.currentYearElement){W(E.currentYear-s)}else if(E.config.enableTime){if(!i&&E.hourElement)E.hourElement.focus();p(e);E._debouncedChange()}break;case 9:if(i){var l=[E.hourElement,E.minuteElement,E.secondElement,E.amPM].concat(E.pluginElements).filter(function(e){return e});var u=l.indexOf(e.target);if(u!==-1){var c=l[u+(e.shiftKey?-1:1)];e.preventDefault();(c||E._input).focus()}}else if(!E.config.noCalendar&&E.daysContainer&&E.daysContainer.contains(e.target)&&e.shiftKey){e.preventDefault();E._input.focus()}break;default:break}}if(E.amPM!==undefined&&e.target===E.amPM){switch(e.key){case E.l10n.amPM[0].charAt(0):case E.l10n.amPM[0].charAt(0).toLowerCase():E.amPM.textContent=E.l10n.amPM[0];h();we();break;case E.l10n.amPM[1].charAt(0):case E.l10n.amPM[1].charAt(0).toLowerCase():E.amPM.textContent=E.l10n.amPM[1];h();we();break}}if(t||H(e.target)){he("onKeyDown",e)}}function q(o){if(E.selectedDates.length!==1||o&&(!o.classList.contains("flatpickr-day")||o.classList.contains("flatpickr-disabled")))return;var s=o?o.dateObj.getTime():E.days.firstElementChild.dateObj.getTime(),l=E.parseDate(E.selectedDates[0],undefined,true).getTime(),e=Math.min(s,E.selectedDates[0].getTime()),t=Math.max(s,E.selectedDates[0].getTime());var u=false;var c=0,d=0;for(var n=e;n<t;n+=Be.DAY){if(!z(new Date(n),true)){u=u||n>e&&n<t;if(n<l&&(!c||n>c))c=n;else if(n>l&&(!d||n<d))d=n}}for(var r=0;r<E.config.showMonths;r++){var f=E.daysContainer.children[r];var a=function(e,t){var n=f.children[e],r=n.dateObj;var a=r.getTime();var i=c>0&&a<c||d>0&&a>d;if(i){n.classList.add("notAllowed");["inRange","startRange","endRange"].forEach(function(e){n.classList.remove(e)});return"continue"}else if(u&&!i)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(e){n.classList.remove(e)});if(o!==undefined){o.classList.add(s<=E.selectedDates[0].getTime()?"startRange":"endRange");if(l<s&&a===l)n.classList.add("startRange");else if(l>s&&a===l)n.classList.add("endRange");if(a>=c&&(d===0||a<=d)&&He(a,l,s))n.classList.add("inRange")}};for(var i=0,p=f.children.length;i<p;i++){a(i,p)}}}function $(){if(E.isOpen&&!E.config.static&&!E.config.inline)te()}function J(){E.setDate(E.config.minDate!==undefined?new Date(E.config.minDate.getTime()):new Date,true);r();we()}function Q(e,t){if(t===void 0){t=E._positionElement}if(E.isMobile===true){if(e){e.preventDefault();e.target&&e.target.blur()}if(E.mobileInput!==undefined){E.mobileInput.focus();E.mobileInput.click()}he("onOpen");return}if(E._input.disabled||E.config.inline)return;var n=E.isOpen;E.isOpen=true;if(!n){E.calendarContainer.classList.add("open");E._input.classList.add("active");he("onOpen");te(t)}if(E.config.enableTime===true&&E.config.noCalendar===true){if(E.selectedDates.length===0){J()}if(E.config.allowInput===false&&(e===undefined||!E.timeContainer.contains(e.relatedTarget))){setTimeout(function(){return E.hourElement.select()},50)}}}function Z(r){return function(e){var t=E.config["_"+r+"Date"]=E.parseDate(e,E.config.dateFormat);var n=E.config["_"+(r==="min"?"max":"min")+"Date"];if(t!==undefined){E[r==="min"?"minDateHasTime":"maxDateHasTime"]=t.getHours()>0||t.getMinutes()>0||t.getSeconds()>0}if(E.selectedDates){E.selectedDates=E.selectedDates.filter(function(e){return z(e)});if(!E.selectedDates.length&&r==="min")i(t);we()}if(E.daysContainer){ne();if(t!==undefined)E.currentYearElement[r]=t.getFullYear().toString();else E.currentYearElement.removeAttribute(r);E.currentYearElement.disabled=!!n&&t!==undefined&&n.getFullYear()===t.getFullYear()}}}function X(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"];var t=Se({},d,JSON.parse(JSON.stringify(c.dataset||{})));var n={};E.config.parseDate=t.parseDate;E.config.formatDate=t.formatDate;Object.defineProperty(E.config,"enable",{get:function(){return E.config._enable},set:function(e){E.config._enable=ue(e)}});Object.defineProperty(E.config,"disable",{get:function(){return E.config._disable},set:function(e){E.config._disable=ue(e)}});var r=t.mode==="time";if(!t.dateFormat&&(t.enableTime||r)){var a=ze.defaultConfig.dateFormat||Oe.dateFormat;n.dateFormat=t.noCalendar||r?"H:i"+(t.enableSeconds?":S":""):a+" H:i"+(t.enableSeconds?":S":"")}if(t.altInput&&(t.enableTime||r)&&!t.altFormat){var i=ze.defaultConfig.altFormat||Oe.altFormat;n.altFormat=t.noCalendar||r?"h:i"+(t.enableSeconds?":S K":" K"):i+(" h:i"+(t.enableSeconds?":S":"")+" K")}if(!t.altInputClass){E.config.altInputClass=E.input.className+" "+E.config.altInputClass}Object.defineProperty(E.config,"minDate",{get:function(){return E.config._minDate},set:Z("min")});Object.defineProperty(E.config,"maxDate",{get:function(){return E.config._maxDate},set:Z("max")});var o=function(t){return function(e){E.config[t==="min"?"_minTime":"_maxTime"]=E.parseDate(e,"H:i:S")}};Object.defineProperty(E.config,"minTime",{get:function(){return E.config._minTime},set:o("min")});Object.defineProperty(E.config,"maxTime",{get:function(){return E.config._maxTime},set:o("max")});if(t.mode==="time"){E.config.noCalendar=true;E.config.enableTime=true}Object.assign(E.config,n,t);for(var s=0;s<e.length;s++)E.config[e[s]]=E.config[e[s]]===true||E.config[e[s]]==="true";ke.filter(function(e){return E.config[e]!==undefined}).forEach(function(e){E.config[e]=Pe(E.config[e]||[]).map(f)});E.isMobile=!E.config.disableMobile&&!E.config.inline&&E.config.mode==="single"&&!E.config.disable.length&&!E.config.enable.length&&!E.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var s=0;s<E.config.plugins.length;s++){var l=E.config.plugins[s](E)||{};for(var u in l){if(ke.indexOf(u)>-1){E.config[u]=Pe(l[u]).map(f).concat(E.config[u])}else if(typeof t[u]==="undefined")E.config[u]=l[u]}}he("onParseConfig")}function ee(){if(typeof E.config.locale!=="object"&&typeof ze.l10ns[E.config.locale]==="undefined")E.config.errorHandler(new Error("flatpickr: invalid locale "+E.config.locale));E.l10n=Se({},ze.l10ns["default"],typeof E.config.locale==="object"?E.config.locale:E.config.locale!=="default"?ze.l10ns[E.config.locale]:undefined);Fe.K="("+E.l10n.amPM[0]+"|"+E.l10n.amPM[1]+"|"+E.l10n.amPM[0].toLowerCase()+"|"+E.l10n.amPM[1].toLowerCase()+")";var e=Se({},d,JSON.parse(JSON.stringify(c.dataset||{})));if(e.time_24hr===undefined&&ze.defaultConfig.time_24hr===undefined){E.config.time_24hr=E.l10n.time_24hr}E.formatDate=Ve(E);E.parseDate=Ue({config:E.config,l10n:E.l10n})}function te(e){if(E.calendarContainer===undefined)return;he("onPreCalendarPosition");var t=e||E._positionElement;var n=Array.prototype.reduce.call(E.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),r=E.calendarContainer.offsetWidth,a=E.config.position.split(" "),i=a[0],o=a.length>1?a[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,u=i==="above"||i!=="below"&&l<n&&s.top>n;var c=window.pageYOffset+s.top+(!u?t.offsetHeight+2:-n-2);je(E.calendarContainer,"arrowTop",!u);je(E.calendarContainer,"arrowBottom",u);if(E.config.inline)return;var d=window.pageXOffset+s.left-(o!=null&&o==="center"?(r-s.width)/2:0);var f=window.document.body.offsetWidth-(window.pageXOffset+s.right);var p=d+r>window.document.body.offsetWidth;var h=f+r>window.document.body.offsetWidth;je(E.calendarContainer,"rightMost",p);if(E.config.static)return;E.calendarContainer.style.top=c+"px";if(!p){E.calendarContainer.style.left=d+"px";E.calendarContainer.style.right="auto"}else if(!h){E.calendarContainer.style.left="auto";E.calendarContainer.style.right=f+"px"}else{var m=document.styleSheets[0];if(m===undefined)return;var v=window.document.body.offsetWidth;var y=Math.max(0,v/2-r/2);var g=".flatpickr-calendar.centerMost:before";var b=".flatpickr-calendar.centerMost:after";var w=m.cssRules.length;var _="{left:"+s.left+"px;right:auto;}";je(E.calendarContainer,"rightMost",false);je(E.calendarContainer,"centerMost",true);m.insertRule(g+","+b+_,w);E.calendarContainer.style.left=y+"px";E.calendarContainer.style.right="auto"}}function ne(){if(E.config.noCalendar||E.isMobile)return;ge();x()}function re(){E._input.focus();if(window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==undefined){setTimeout(E.close,0)}else{E.close()}}function ae(e){e.preventDefault();e.stopPropagation();var t=function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")};var n=Ae(e.target,t);if(n===undefined)return;var r=n;var a=E.latestSelectedDateObj=new Date(r.dateObj.getTime());var i=(a.getMonth()<E.currentMonth||a.getMonth()>E.currentMonth+E.config.showMonths-1)&&E.config.mode!=="range";E.selectedDateElem=r;if(E.config.mode==="single")E.selectedDates=[a];else if(E.config.mode==="multiple"){var o=ve(a);if(o)E.selectedDates.splice(parseInt(o),1);else E.selectedDates.push(a)}else if(E.config.mode==="range"){if(E.selectedDates.length===2){E.clear(false,false)}E.latestSelectedDateObj=a;E.selectedDates.push(a);if(Ye(a,E.selectedDates[0],true)!==0)E.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}h();if(i){var s=E.currentYear!==a.getFullYear();E.currentYear=a.getFullYear();E.currentMonth=a.getMonth();if(s){he("onYearChange");P()}he("onMonthChange")}ge();x();we();if(E.config.enableTime)setTimeout(function(){return E.showTimeInput=true},50);if(!i&&E.config.mode!=="range"&&E.config.showMonths===1)k(r);else if(E.selectedDateElem!==undefined&&E.hourElement===undefined){E.selectedDateElem&&E.selectedDateElem.focus()}if(E.hourElement!==undefined)E.hourElement!==undefined&&E.hourElement.focus();if(E.config.closeOnSelect){var l=E.config.mode==="single"&&!E.config.enableTime;var u=E.config.mode==="range"&&E.selectedDates.length===2&&!E.config.enableTime;if(l||u){re()}}v()}var ie={locale:[ee,R],showMonths:[M,n,L],minDate:[g],maxDate:[g]};function oe(e,t){if(e!==null&&typeof e==="object"){Object.assign(E.config,e);for(var n in e){if(ie[n]!==undefined)ie[n].forEach(function(e){return e()})}}else{E.config[e]=t;if(ie[e]!==undefined)ie[e].forEach(function(e){return e()});else if(ke.indexOf(e)>-1)E.config[e]=Pe(t)}E.redraw();we(false)}function se(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return E.parseDate(e,t)});else if(e instanceof Date||typeof e==="number")n=[E.parseDate(e,t)];else if(typeof e==="string"){switch(E.config.mode){case"single":case"time":n=[E.parseDate(e,t)];break;case"multiple":n=e.split(E.config.conjunction).map(function(e){return E.parseDate(e,t)});break;case"range":n=e.split(E.l10n.rangeSeparator).map(function(e){return E.parseDate(e,t)});break;default:break}}else E.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));E.selectedDates=n.filter(function(e){return e instanceof Date&&z(e,false)});if(E.config.mode==="range")E.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function le(e,t,n){if(t===void 0){t=false}if(n===void 0){n=E.config.dateFormat}if(e!==0&&!e||e instanceof Array&&e.length===0)return E.clear(t);se(e,n);E.showTimeInput=E.selectedDates.length>0;E.latestSelectedDateObj=E.selectedDates[E.selectedDates.length-1];E.redraw();g();i();if(E.selectedDates.length===0){E.clear(false)}we(t);if(t)he("onChange")}function ue(e){return e.slice().map(function(e){if(typeof e==="string"||typeof e==="number"||e instanceof Date){return E.parseDate(e,undefined,true)}else if(e&&typeof e==="object"&&e.from&&e.to)return{from:E.parseDate(e.from,undefined),to:E.parseDate(e.to,undefined)};return e}).filter(function(e){return e})}function ce(){E.selectedDates=[];E.now=E.parseDate(E.config.now)||new Date;var e=E.config.defaultDate||((E.input.nodeName==="INPUT"||E.input.nodeName==="TEXTAREA")&&E.input.placeholder&&E.input.value===E.input.placeholder?null:E.input.value);if(e)se(e,E.config.dateFormat);E._initialDate=E.selectedDates.length>0?E.selectedDates[0]:E.config.minDate&&E.config.minDate.getTime()>E.now.getTime()?E.config.minDate:E.config.maxDate&&E.config.maxDate.getTime()<E.now.getTime()?E.config.maxDate:E.now;E.currentYear=E._initialDate.getFullYear();E.currentMonth=E._initialDate.getMonth();if(E.selectedDates.length>0)E.latestSelectedDateObj=E.selectedDates[0];if(E.config.minTime!==undefined)E.config.minTime=E.parseDate(E.config.minTime,"H:i");if(E.config.maxTime!==undefined)E.config.maxTime=E.parseDate(E.config.maxTime,"H:i");E.minDateHasTime=!!E.config.minDate&&(E.config.minDate.getHours()>0||E.config.minDate.getMinutes()>0||E.config.minDate.getSeconds()>0);E.maxDateHasTime=!!E.config.maxDate&&(E.config.maxDate.getHours()>0||E.config.maxDate.getMinutes()>0||E.config.maxDate.getSeconds()>0);Object.defineProperty(E,"showTimeInput",{get:function(){return E._showTimeInput},set:function(e){E._showTimeInput=e;if(E.calendarContainer)je(E.calendarContainer,"showTimeInput",e);E.isOpen&&te()}})}function de(){E.input=E.config.wrap?c.querySelector("[data-input]"):c;if(!E.input){E.config.errorHandler(new Error("Invalid input element specified"));return}E.input._type=E.input.type;E.input.type="text";E.input.classList.add("flatpickr-input");E._input=E.input;if(E.config.altInput){E.altInput=Me(E.input.nodeName,E.config.altInputClass);E._input=E.altInput;E.altInput.placeholder=E.input.placeholder;E.altInput.disabled=E.input.disabled;E.altInput.required=E.input.required;E.altInput.tabIndex=E.input.tabIndex;E.altInput.type="text";E.input.setAttribute("type","hidden");if(!E.config.static&&E.input.parentNode)E.input.parentNode.insertBefore(E.altInput,E.input.nextSibling)}if(!E.config.allowInput)E._input.setAttribute("readonly","readonly");E._positionElement=E.config.positionElement||E._input}function fe(){var e=E.config.enableTime?E.config.noCalendar?"time":"datetime-local":"date";E.mobileInput=Me("input",E.input.className+" flatpickr-mobile");E.mobileInput.step=E.input.getAttribute("step")||"any";E.mobileInput.tabIndex=1;E.mobileInput.type=e;E.mobileInput.disabled=E.input.disabled;E.mobileInput.required=E.input.required;E.mobileInput.placeholder=E.input.placeholder;E.mobileFormatStr=e==="datetime-local"?"Y-m-d\\TH:i:S":e==="date"?"Y-m-d":"H:i:S";if(E.selectedDates.length>0){E.mobileInput.defaultValue=E.mobileInput.value=E.formatDate(E.selectedDates[0],E.mobileFormatStr)}if(E.config.minDate)E.mobileInput.min=E.formatDate(E.config.minDate,"Y-m-d");if(E.config.maxDate)E.mobileInput.max=E.formatDate(E.config.maxDate,"Y-m-d");E.input.type="hidden";if(E.altInput!==undefined)E.altInput.type="hidden";try{if(E.input.parentNode)E.input.parentNode.insertBefore(E.mobileInput,E.input.nextSibling)}catch(e){}u(E.mobileInput,"change",function(e){E.setDate(e.target.value,false,E.mobileFormatStr);he("onChange");he("onClose")})}function pe(e){if(E.isOpen===true)return E.close();E.open(e)}function he(e,t){if(E.config===undefined)return;var n=E.config[e];if(n!==undefined&&n.length>0){for(var r=0;n[r]&&r<n.length;r++)n[r](E.selectedDates,E.input.value,E,t)}if(e==="onChange"){E.input.dispatchEvent(me("change"));E.input.dispatchEvent(me("input"))}}function me(e){var t=document.createEvent("Event");t.initEvent(e,true,true);return t}function ve(e){for(var t=0;t<E.selectedDates.length;t++){if(Ye(E.selectedDates[t],e)===0)return""+t}return false}function ye(e){if(E.config.mode!=="range"||E.selectedDates.length<2)return false;return Ye(e,E.selectedDates[0])>=0&&Ye(e,E.selectedDates[1])<=0}function ge(){if(E.config.noCalendar||E.isMobile||!E.monthNav)return;E.yearElements.forEach(function(e,t){var n=new Date(E.currentYear,E.currentMonth,1);n.setMonth(E.currentMonth+t);if(E.config.showMonths>1||E.config.monthSelectorType==="static"){E.monthElements[t].textContent=Ie(n.getMonth(),E.config.shorthandCurrentMonth,E.l10n)+" "}else{E.monthsDropdownContainer.value=n.getMonth().toString()}e.value=n.getFullYear().toString()});E._hidePrevMonthArrow=E.config.minDate!==undefined&&(E.currentYear===E.config.minDate.getFullYear()?E.currentMonth<=E.config.minDate.getMonth():E.currentYear<E.config.minDate.getFullYear());E._hideNextMonthArrow=E.config.maxDate!==undefined&&(E.currentYear===E.config.maxDate.getFullYear()?E.currentMonth+1>E.config.maxDate.getMonth():E.currentYear>E.config.maxDate.getFullYear())}function be(t){return E.selectedDates.map(function(e){return E.formatDate(e,t)}).filter(function(e,t,n){return E.config.mode!=="range"||E.config.enableTime||n.indexOf(e)===t}).join(E.config.mode!=="range"?E.config.conjunction:E.l10n.rangeSeparator)}function we(e){if(e===void 0){e=true}if(E.mobileInput!==undefined&&E.mobileFormatStr){E.mobileInput.value=E.latestSelectedDateObj!==undefined?E.formatDate(E.latestSelectedDateObj,E.mobileFormatStr):""}E.input.value=be(E.config.dateFormat);if(E.altInput!==undefined){E.altInput.value=be(E.config.altFormat)}if(e!==false)he("onValueUpdate")}function _e(e){var t=E.prevMonthNav.contains(e.target);var n=E.nextMonthNav.contains(e.target);if(t||n){F(t?-1:1)}else if(E.yearElements.indexOf(e.target)>=0){e.target.select()}else if(e.target.classList.contains("arrowUp")){E.changeYear(E.currentYear+1)}else if(e.target.classList.contains("arrowDown")){E.changeYear(E.currentYear-1)}}function Ee(e){e.preventDefault();var t=e.type==="keydown",n=e.target;if(E.amPM!==undefined&&e.target===E.amPM){E.amPM.textContent=E.l10n.amPM[Te(E.amPM.textContent===E.l10n.amPM[0])]}var r=parseFloat(n.getAttribute("min")),a=parseFloat(n.getAttribute("max")),i=parseFloat(n.getAttribute("step")),o=parseInt(n.value,10),s=e.delta||(t?e.which===38?1:-1:0);var l=o+i*s;if(typeof n.value!=="undefined"&&n.value.length===2){var u=n===E.hourElement,c=n===E.minuteElement;if(l<r){l=a+l+Te(!u)+(Te(u)&&Te(!E.amPM));if(c)w(undefined,-1,E.hourElement)}else if(l>a){l=n===E.hourElement?l-a-Te(!E.amPM):r;if(c)w(undefined,1,E.hourElement)}if(E.amPM&&u&&(i===1?l+o===23:Math.abs(l-o)>i)){E.amPM.textContent=E.l10n.amPM[Te(E.amPM.textContent===E.l10n.amPM[0])]}n.value=De(l)}}e();return E}function n(e,t){var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement});var r=[];for(var a=0;a<n.length;a++){var i=n[a];try{if(i.getAttribute("data-fp-omit")!==null)continue;if(i._flatpickr!==undefined){i._flatpickr.destroy();i._flatpickr=undefined}i._flatpickr=o(i,t||{});r.push(i._flatpickr)}catch(e){console.error(e)}}return r.length===1?r[0]:r}if(typeof HTMLElement!=="undefined"&&typeof HTMLCollection!=="undefined"&&typeof NodeList!=="undefined"){HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return n(this,e)};HTMLElement.prototype.flatpickr=function(e){return n([this],e)}}var ze=function(e,t){if(typeof e==="string"){return n(window.document.querySelectorAll(e),t)}else if(e instanceof Node){return n([e],t)}else{return n(e,t)}};if(ze.defaultConfig={},ze.l10ns={en:Se({},Ce),default:Se({},Ce)},ze.localize=function(e){ze.l10ns["default"]=Se({},ze.l10ns["default"],e)},ze.setDefaults=function(e){ze.defaultConfig=Se({},ze.defaultConfig,e)},ze.parseDate=Ue({}),ze.formatDate=Ve({}),ze.compareDates=Ye,typeof jQuery!=="undefined"&&typeof jQuery.fn!=="undefined"){jQuery.fn.flatpickr=function(e){return n(this,e)}}if(Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof e==="string"?parseInt(e,10):e))},typeof window!=="undefined"){window.flatpickr=ze}return ze}()},function(e,t,n){"use strict";n.d(t,"a",function(){return w});n(12),n(13),n(14),n(50),n(120),n(248),n(138),n(10),n(36),n(25),n(5),n(15),n(16),n(7),n(30),n(8),n(49),n(9);var r=n(0),a=n.n(r),i=n(464),s=n.n(i),l=n(1),u=n(26),o=n(284),c=n.n(o),d=n(279),f=n(4);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=d.a.getTimezones(),b=["Pacific/Honolulu","America/Anchorage","America/Los_Angeles","America/Phoenix","America/Denver","America/Chicago","America/New_York"],w=function(){function o(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=m(this,v(o).call(this,e))).searchInput=null,n.suggestionList=null,n.handleSuggestionKeys=function(e){var t=!0;switch(e.keyCode){case 38:n.changeSuggestionCursor(-1);break;case 40:n.changeSuggestionCursor(1);break;case 13:n.selectCurrentSuggestion();break;default:return void(t=!1)}t&&e.preventDefault()},n.handleSuggestionKeyUp=function(e){if(n.searchInput){var t=n.searchInput.value.replace(/^\s+|\s+$/gm,"");t!==n.state.query&&n.setState({query:t,focused:!e||13!==e.keyCode,suggestionCursor:0,suggestions:n.matchSuggestions(t)})}},n.handleKeyUpCapture=function(e){n.searchInput&&27===e.keyCode&&(n.state.focused?n.setState({focused:!1}):n.searchInput.blur(),e.stopImmediatePropagation(),e.preventDefault())},n.onBlur=function(){n.blurTimeout=window.setTimeout(function(){return n.setState({focused:!1})},150)},n.onShowAllChange=function(e){var t={showAll:e.target.checked};""===n.state.query&&n.fillSuggestions(t,n.state.timezone,t.showAll),n.setState(t)},n.focusSelector=function(){var e=0;n.searchInput&&(e=n.searchInput.getBoundingClientRect().bottom),window.innerHeight-e<300?n.setState({focused:!0,suggestionPositioning:"top",suggestionCursor:n.state.suggestions.findIndex(function(e){return e.display===n.state.timezone})}):n.setState({focused:!0,suggestionPositioning:"bottom",suggestionCursor:n.state.suggestions.findIndex(function(e){return e.display===n.state.timezone})},n.scrollToCursor)},n.scrollToCursor=function(){n.suggestionList&&n.suggestionList.firstChild&&n.props.enableCursorScroll&&n.suggestionList.children[n.state.suggestionCursor].scrollIntoView(!1)};var t=n.getInitialTimezone(),r=d.a.getDisplayString(t);if(!!!g.find(function(e){return e.value===t})){var a=d.a.getShortString(t);f.a.translate("embed_wizard","configurator.dropdown.default")===t?g.unshift({value:t,main:1,display:r,d:a,group:"-99"}):g.push({value:t,main:1,display:r,d:a,group:"-99"})}var i={};return n.props.alwaysShowAll?n.fillSuggestions(i,r,!0):(i.suggestions=n.matchSuggestions(r,!1),i.suggestionCursor=i.suggestions.findIndex(function(e){return e.value===t})),n.state={query:"",timezone:r,focused:!1,showAll:n.props.alwaysShowAll||!1,suggestions:i.suggestions,suggestionCursor:i.suggestionCursor,suggestionPositioning:"bottom"},n}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(o,a.a.Component),e=o,(t=[{key:"componentDidMount",value:function(){this.searchInput&&this.searchInput.addEventListener("keyup",this.handleKeyUpCapture,!0)}},{key:"componentWillUnmount",value:function(){this.blurTimeout&&clearTimeout(this.blurTimeout),this.searchInput&&this.searchInput.removeEventListener("keyup",this.handleKeyUpCapture,!0)}},{key:"getValue",value:function(){var t=this,e=g.find(function(e){return e.display===t.state.timezone});if(e)return e.value;throw new Error("Timezone could not be found, what happened?")}},{key:"getInitialTimezone",value:function(){return this.props.timezone?this.props.timezone:c.a.determine().name()}},{key:"changeSuggestionCursor",value:function(e){var t=this,n=this.state.suggestionCursor+e;n<0||!this.state.focused||n>=this.state.suggestions.length||this.setState({suggestionCursor:n},function(){t.suggestionList&&t.suggestionList.children[n].scrollIntoView(!1)})}},{key:"selectCurrentSuggestion",value:function(){var e=this.state.suggestions[this.state.suggestionCursor];e&&this.selectTimezone(null,e)}},{key:"matchSuggestions",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:this.state.showAll;if(""===e&&!this.props.alwaysShowAll)return n?g:this.matchSuggestions(this.state.timezone);var r=this.getTimezoneGroup(e);return 0<r.length?r:this.searchSuggestions(e)}},{key:"searchSuggestions",value:function(e){return s.a.filter(e.toLowerCase(),g,{extract:function(e){return e.display.toLowerCase()}}).map(function(e){return e.original})}},{key:"getTimezoneGroup",value:function(t){var e,n;return(e=g.find(function(e){return e.display===t||e.value===t}))?b.includes(e.value)?g.filter(function(e){return b.includes(e.value)}):(n=e.group,g.filter(function(e){return e.group===n})):[]}},{key:"selectTimezone",value:function(e,t){var n=this;if(e&&e.preventDefault(),this.searchInput&&this.state.timezone!==t.display){this.searchInput.value="";var r={timezone:t.display,query:"",focused:!1};this.state.showAll?r.suggestions=this.matchSuggestions(""):r.suggestions=this.getTimezoneGroup(t.display),this.setState(r,function(){n.searchInput&&n.searchInput.focus()}),this.props.onChange&&this.props.onChange(t.value),this.searchInput.value=t.display}}},{key:"fillSuggestions",value:function(e,t,n){e.suggestions=this.matchSuggestions("",n),e.suggestionCursor=e.suggestions.findIndex(function(e){return e.display===t})}},{key:"renderSuggestions",value:function(){var n=this;return!1===this.state.focused?null:a.a.createElement("ul",{ref:function(e){n.suggestionList=e},className:"timezone-picker__suggestions ".concat(this.state.suggestionPositioning)},this.state.suggestions.map(function(t,e){return a.a.createElement("li",{key:t.d,className:"timezone-picker__suggestion"},a.a.createElement("a",{href:"#",onMouseEnter:function(){return n.setState({suggestionCursor:e})},onClick:function(e){return n.selectTimezone(e,t)},onMouseDown:function(e){return n.selectTimezone(e,t)},className:"timezone-picker__option "+(e===n.state.suggestionCursor?"timezone-picker__option--selected":"")},t.display))}))}},{key:"renderShowAllButton",value:function(){return this.props.alwaysShowAll?null:a.a.createElement("label",null,a.a.createElement(u.a,{name:"show_all",type:"checkbox",defaultValue:!1,onChange:this.onShowAllChange}),a.a.createElement(l.a,{message:"timezone_picker.show_all",section:"core_js"}))}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{onKeyUp:this.handleSuggestionKeyUp,className:"timezone-picker"},a.a.createElement("div",{className:"timezone-picker__search "+(this.state.focused?"timezone-picker__search--focused":"")},a.a.createElement("input",{className:"settings__input-big",type:"text",onKeyDown:this.handleSuggestionKeys,defaultValue:this.state.timezone,onFocus:this.focusSelector,onClick:this.focusSelector,onBlur:this.onBlur,ref:function(e){t.searchInput=e},id:this.props.id,placeholder:this.props.placeholder})),this.renderSuggestions(),this.renderShowAllButton())}}])&&h(e.prototype,t),n&&h(e,n),o}();w.defaultProps={enableCursorScroll:!0}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(425),o=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f={},p=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,c(t).call(this,e))).initializeDraggable=function(e){if(e){var t=e.getBoundingClientRect();n.props.dragId&&(f[n.props.dragId+"_pos"]||(f[n.props.dragId+"_pos"]={left:t.left,top:t.top}),f[n.props.dragId]&&(f[n.props.dragId+"_pos"].left+=f[n.props.dragId].x,f[n.props.dragId+"_pos"].top+=f[n.props.dragId].y,delete f[n.props.dragId]),t=f[n.props.dragId+"_pos"]),n.setState({style:{margin:0,left:t.left,top:t.top,touchAction:"auto"}})}else n.setState({style:void 0})},n.handleDragStop=function(e,t){n.props.dragId&&(f[n.props.dragId]={x:t.x,y:t.y})},n.state={},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),e=t,(n=[{key:"render",value:function(){return!0===this.props.draggable?a.a.createElement("div",{className:"modal"},a.a.createElement(o.a,{handle:this.props.draggableHandle,offsetParent:document.body,cancel:this.props.dragCancel,bounds:"body",onStop:this.handleDragStop},a.a.createElement("div",{className:"modal__window "+(this.props.className||""),style:this.state.style,ref:this.initializeDraggable},this.props.children))):a.a.createElement("div",{className:"modal"},a.a.createElement("div",{className:"modal__window "+(this.props.className||"")},this.props.children))}}])&&l(e.prototype,n),r&&l(e,r),t}();t.a=p},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c=n(59),r="function"==typeof Symbol&&Symbol.for,d=r?Symbol.for("react.element"):60103,u=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,o=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var h=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var S=E.prototype=new _;S.constructor=E,c(S,w.prototype),S.isPureReactComponent=!0;var k={current:null},O={current:null},C=Object.prototype.hasOwnProperty,D={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&!D.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:d,type:e,key:i,ref:o,props:a,_owner:O.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===d}var P=/\/+/g,j=[];function M(e,t,n,r){if(j.length){var a=j.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,j.length<10&&j.push(e)}function A(e,t,n){return null==e?0:function e(t,n,r,a){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var o=!1;if(null===t)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case d:case u:o=!0}}if(o)return r(a,t,""===n?"."+L(t,0):n),1;if(o=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var l=n+L(i=t[s],s);o+=e(i,l,r,a)}else if("function"==typeof(l=null===t||"object"!=typeof t?null:"function"==typeof(l=v&&t[v]||t["@@iterator"])?l:null))for(t=l.call(t),s=0;!(i=t.next()).done;)o+=e(i=i.value,l=n+L(i,s++),r,a);else if("object"===i)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return o}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function R(e,t){e.func.call(e.context,t,e.count++)}function I(e,t,n){var r,a,i=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,i,n,function(e){return e}):null!=e&&(x(e)&&(a=o+(!(r=e).key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n,e={$$typeof:d,type:r.type,key:a,ref:r.ref,props:r.props,_owner:r._owner}),i.push(e))}function F(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(P,"$&/")+"/"),A(e,I,t=M(t,i,r,a)),N(t)}function V(){var e=k.current;if(null===e)throw Error(y(321));return e}var U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;A(e,R,t=M(null,null,t,n)),N(t)},count:function(e){return A(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){if(!x(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:w,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,n){return V().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,n){return V().useReducer(e,t,n)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:a,Profiler:o,StrictMode:i,Suspense:p,createElement:T,cloneElement:function(e,t,n){if(null==e)throw Error(y(267,e));var r=c({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=O.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)C.call(t,l)&&!D.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:d,type:e.type,key:a,ref:i,props:r,_owner:o}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:x,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:c}};e.exports=U.default||U},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n(0),m=n(59),i=n(321);function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!a)throw Error(A(227));var u=null,c={};function o(){if(u)for(var e in c){var t=c[e],n=u.indexOf(e);if(!(-1<n))throw Error(A(96,e));if(!f[n]){if(!t.extractEvents)throw Error(A(97,e));for(var r in n=(f[n]=t).eventTypes){var a=void 0,i=n[r],o=t,s=r;if(p.hasOwnProperty(s))throw Error(A(99,s));var l=(p[s]=i).phasedRegistrationNames;if(l){for(a in l)l.hasOwnProperty(a)&&d(l[a],o,s);a=!0}else a=!!i.registrationName&&(d(i.registrationName,o,s),!0);if(!a)throw Error(A(98,r,e))}}}}function d(e,t,n){if(v[e])throw Error(A(100,e));v[e]=t,s[e]=t.eventTypes[n].dependencies}var f=[],p={},v={},s={};var h=!1,y=null,g=!1,b=null,w={onError:function(e){h=!0,y=e}};function _(e,t,n,r,a,i,o,s,l){h=!1,y=null,function(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(w,arguments)}var l=null,r=null,E=null;function S(e,t,n){var r=e.type||"unknown-event";e.currentTarget=E(n),function(e,t,n,r,a,i,o,s,l){if(_.apply(this,arguments),h){if(!h)throw Error(A(198));var u=y;h=!1,y=null,g||(g=!0,b=u)}}(r,t,void 0,e),e.currentTarget=null}function k(e,t){if(null==t)throw Error(A(30));return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function O(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function D(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function T(e){if(null!==e&&(C=k(C,e)),e=C,C=null,e){if(O(e,D),C)throw Error(A(95));if(g)throw e=b,g=!1,b=null,e}}var x={injectEventPluginOrder:function(e){if(u)throw Error(A(101));u=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!c.hasOwnProperty(t)||c[t]!==r){if(c[t])throw Error(A(102,t));c[t]=r,n=!0}}n&&o()}};function P(e,t){var n=e.stateNode;if(!n)return null;var r=l(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(A(231,t,typeof n));return n}var j=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;j.hasOwnProperty("ReactCurrentDispatcher")||(j.ReactCurrentDispatcher={current:null}),j.hasOwnProperty("ReactCurrentBatchConfig")||(j.ReactCurrentBatchConfig={suspense:null});var M=/^(.*)[\\\/]/,N="function"==typeof Symbol&&Symbol.for,L=N?Symbol.for("react.element"):60103,R=N?Symbol.for("react.portal"):60106,I=N?Symbol.for("react.fragment"):60107,F=N?Symbol.for("react.strict_mode"):60108,V=N?Symbol.for("react.profiler"):60114,U=N?Symbol.for("react.provider"):60109,Y=N?Symbol.for("react.context"):60110,H=N?Symbol.for("react.concurrent_mode"):60111,B=N?Symbol.for("react.forward_ref"):60112,W=N?Symbol.for("react.suspense"):60113,z=N?Symbol.for("react.suspense_list"):60120,G=N?Symbol.for("react.memo"):60115,K=N?Symbol.for("react.lazy"):60116;N&&Symbol.for("react.fundamental"),N&&Symbol.for("react.responder"),N&&Symbol.for("react.scope");var q="function"==typeof Symbol&&Symbol.iterator;function $(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function J(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case R:return"Portal";case V:return"Profiler";case F:return"StrictMode";case W:return"Suspense";case z:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Y:return"Context.Consumer";case U:return"Context.Provider";case B:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case G:return J(e.type);case K:if(e=1===e._status?e._result:null)return J(e)}return null}function Q(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=J(e.type);n=null,r&&(n=J(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(M,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),X=null,ee=null,te=null;function ne(e){if(e=r(e)){if("function"!=typeof X)throw Error(A(280));var t=l(e.stateNode);X(e.stateNode,e.type,t)}}function re(e){ee?te?te.push(e):te=[e]:ee=e}function ae(){if(ee){var e=ee,t=te;if(te=ee=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function ie(e,t){return e(t)}function oe(e,t,n,r){return e(t,n,r)}function se(){}var le=ie,ue=!1,ce=!1;function de(){null===ee&&null===te||(se(),ae())}new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,he={},me={};function ve(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function ye(e,t,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new ye(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new ye(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new ye(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new ye(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new ye(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new ye(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){ge[e]=new ye(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){ge[e]=new ye(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){ge[e]=new ye(e,5,!1,e.toLowerCase(),null,!1)});var be=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e,t,n,r){var a,i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0!==i.type:r||(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]))&&(ve(t,n,i,r)&&(n=null),r||null===i?(a=t,(pe.call(me,a)||!pe.call(he,a)&&(fe.test(a)?me[a]=!0:!(he[a]=!0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return m({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function De(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Ee(e,"checked",t,!1)}function xe(e,t){Te(e,t);var n=_e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?je(e,t.type,n):t.hasOwnProperty("defaultValue")&&je(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function je(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(e,t){var n,r;return e=m({children:void 0},t),n=t.children,r="",a.Children.forEach(n,function(e){null!=e&&(r+=e)}),(t=r)&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(A(91));return m({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Le(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(A(92));if(Array.isArray(t)){if(!(t.length<=1))throw Error(A(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:_e(n)}}function Re(e,t){var n=_e(t.value),r=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(be,we);ge[t]=new ye(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(be,we);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(be,we);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!1)}),ge.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!0)});var Fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ye,He,Be=(He=function(e,t){if(e.namespaceURI!==Fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((Ye=Ye||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ye.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return He(e,t)})}:He);function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ke={},qe={};function $e(e){if(Ke[e])return Ke[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return Ke[e]=n[t];return e}Z&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Je=$e("animationend"),Qe=$e("animationiteration"),Ze=$e("animationstart"),Xe=$e("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(A(188))}function at(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null!==i){if(a.child===i.child){for(i=a.child;i;){if(i===n)return rt(a),e;if(i===r)return rt(a),t;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}else{if(null===(r=a.return))break;n=r}}if(3!==n.tag)throw Error(A(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,ot,st,lt=!1,ut=[],ct=null,dt=null,ft=null,pt=new Map,ht=new Map,mt=[],vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),yt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function gt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function bt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":dt=null;break;case"mouseover":case"mouseout":ft=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function wt(e,t,n,r,a){return null===e||e.nativeEvent!==a?(e=gt(t,n,r,a),null===t||null!==(t=fr(t))&&ot(t)):e.eventSystemFlags|=r,e}function _t(e){var t=dr(e.target);if(null!==t){var n=tt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=nt(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,function(){st(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Et(e){if(null!==e.blockedOn)return!1;var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null===t)return!0;var n=fr(t);return null!==n&&ot(n),e.blockedOn=t,!1}function St(e,t,n){Et(e)&&n.delete(t)}function kt(){for(lt=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=fr(e.blockedOn))&&it(e);break}var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&Et(ct)&&(ct=null),null!==dt&&Et(dt)&&(dt=null),null!==ft&&Et(ft)&&(ft=null),pt.forEach(St),ht.forEach(St)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,lt||(lt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kt)))}function Ct(t){function e(e){return Ot(e,t)}if(0<ut.length){Ot(ut[0],t);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ct&&Ot(ct,t),null!==dt&&Ot(dt,t),null!==ft&&Ot(ft,t),pt.forEach(e),ht.forEach(e),n=0;n<mt.length;n++)(r=mt[n]).blockedOn===t&&(r.blockedOn=null);for(;0<mt.length&&null===(n=mt[0]).blockedOn;)_t(n),null===n.blockedOn&&mt.shift()}function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function xt(e,t,n){(t=P(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function Pt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tt(t);for(t=n.length;0<t--;)xt(n[t],"captured",e);for(t=0;t<n.length;t++)xt(n[t],"bubbled",e)}}function jt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=P(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function Mt(e){e&&e.dispatchConfig.registrationName&&jt(e._targetInst,null,e)}function Nt(e){O(e,Pt)}function At(){return!0}function Lt(){return!1}function Rt(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?At:Lt,this.isPropagationStopped=Lt,this}function It(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function Ft(e){if(!(e instanceof this))throw Error(A(279));e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function Vt(e){e.eventPool=[],e.getPooled=It,e.release=Ft}m(Rt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:Lt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Lt,this._dispatchInstances=this._dispatchListeners=null}}),Rt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Rt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return m(a,n.prototype),((n.prototype=a).constructor=n).Interface=m({},r.Interface,e),n.extend=r.extend,Vt(n),n},Vt(Rt);var Ut=Rt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yt=Rt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ht=Rt.extend({view:null,detail:null}),Bt=Ht.extend({relatedTarget:null});function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var zt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Kt[e])&&!!t[e]}function $t(){return qt}for(var Jt=Ht.extend({key:function(e){if(e.key){var t=zt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Gt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:$t,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,Zt=0,Xt=!1,en=!1,tn=Ht.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$t,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Xt?"mousemove"===e.type?e.screenX-t:0:(Xt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Zt;return Zt=e.screenY,en?"mousemove"===e.type?e.screenY-t:0:(en=!0,0)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rn=tn.extend({dataTransfer:null}),an=Ht.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$t}),on=Rt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ln=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Je,"animationEnd",2],[Qe,"animationIteration",2],[Ze,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Xe,"transitionEnd",2],["waiting","waiting",2]],un={},cn={},dn=0;dn<ln.length;dn++){var fn=ln[dn],pn=fn[0],hn=fn[1],mn=fn[2],vn="on"+(hn[0].toUpperCase()+hn.slice(1)),yn={phasedRegistrationNames:{bubbled:vn,captured:vn+"Capture"},dependencies:[pn],eventPriority:mn};un[hn]=yn,cn[pn]=yn}var gn={eventTypes:un,getEventPriority:function(e){return void 0!==(e=cn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var a=cn[e];if(!a)return null;switch(e){case"keypress":if(0===Wt(n))return null;case"keydown":case"keyup":e=Jt;break;case"blur":case"focus":e=Bt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=an;break;case Je:case Qe:case Ze:e=Ut;break;case Xe:e=on;break;case"scroll":e=Ht;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=Rt}return Nt(t=e.getPooled(a,t,n,r)),t}},bn=i.unstable_UserBlockingPriority,wn=i.unstable_runWithPriority,_n=gn.getEventPriority,En=10,Sn=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=dr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Dt(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,o=e.eventSystemFlags,s=null,l=0;l<f.length;l++){var u=f[l];(u=u&&u.extractEvents(r,t,i,a,o))&&(s=k(s,u))}T(s)}}var On=!0;function Cn(e,t){Dn(t,e,!1)}function Dn(e,t,n){switch(_n(t)){case 0:var r=function(e,t,n){ue||se();var r=xn,a=ue;ue=!0;try{oe(r,e,t,n)}finally{(ue=a)||de()}}.bind(null,t,1);break;case 1:r=function(e,t,n){wn(bn,xn.bind(null,e,t,n))}.bind(null,t,1);break;default:r=xn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Tn(e,t,n,r){if(Sn.length){var a=Sn.pop();a.topLevelType=e,a.eventSystemFlags=t,a.nativeEvent=n,a.targetInst=r,e=a}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=kn,n=e,ce)t(n,void 0);else{ce=!0;try{le(t,n,void 0)}finally{ce=!1,de()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Sn.length<En&&Sn.push(e)}}function xn(e,t,n){if(On)if(0<ut.length&&-1<vt.indexOf(e))e=gt(null,e,t,n),ut.push(e);else{var r=Pn(e,t,n);null===r?bt(e,n):-1<vt.indexOf(e)?(e=gt(r,e,t,n),ut.push(e)):function(e,t,n,r){switch(t){case"focus":return ct=wt(ct,e,t,n,r),!0;case"dragenter":return dt=wt(dt,e,t,n,r),!0;case"mouseover":return ft=wt(ft,e,t,n,r),!0;case"pointerover":var a=r.pointerId;return pt.set(a,wt(pt.get(a)||null,e,t,n,r)),!0;case"gotpointercapture":return a=r.pointerId,ht.set(a,wt(ht.get(a)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(bt(e,n),Tn(e,t,n,null))}}function Pn(e,t,n){var r=Dt(n);if(null!==(r=dr(r))){var a=tt(r);if(null===a)r=null;else{var i=a.tag;if(13===i){if(null!==(r=nt(a)))return r;r=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Tn(e,t,n,r),null}function jn(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Mn=new("function"==typeof WeakMap?WeakMap:Map);function Nn(e){var t=Mn.get(e);return void 0===t&&(t=new Set,Mn.set(e,t)),t}function An(e,t,n){if(!n.has(e)){switch(e){case"scroll":Dn(t,"scroll",!0);break;case"focus":case"blur":Dn(t,"focus",!0),Dn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":jn(e)&&Dn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&Cn(e,t)}n.add(e)}}var Ln={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];function In(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Ln.hasOwnProperty(e)&&Ln[e]?(""+t).trim():t+"px"}function Fn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=In(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Ln).forEach(function(t){Rn.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ln[e]=Ln[t]})});var Vn=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(e,t){if(t){if(Vn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(A(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(A(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(A(62,""))}}function Yn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Hn(e,t){var n=Nn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=s[t];for(var r=0;r<t.length;r++)An(t[r],e,n)}function Bn(){}function Wn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gn(e,t){var n,r=zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&t<=n)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=zn(r)}}function Kn(){for(var e=window,t=Wn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Wn((e=t.contentWindow).document)}return t}function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n="$",Jn="/$",Qn="$?",Zn="$!",Xn=null,er=null;function tr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function nr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"==typeof setTimeout?setTimeout:void 0,ar="function"==typeof clearTimeout?clearTimeout:void 0;function ir(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function or(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===$n||n===Zn||n===Qn){if(0===t)return e;t--}else n===Jn&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),lr="__reactInternalInstance$"+sr,ur="__reactEventHandlers$"+sr,cr="__reactContainere$"+sr;function dr(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cr]||n[lr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=or(e);null!==e;){if(n=e[lr])return n;e=or(e)}return t}n=(e=n).parentNode}return null}function fr(e){return!(e=e[lr]||e[cr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function pr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(A(33))}function hr(e){return e[ur]||null}var mr=null,vr=null,yr=null;function gr(){if(yr)return yr;var e,t,n=vr,r=n.length,a="value"in mr?mr.value:mr.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return yr=a.slice(e,1<t?1-t:void 0)}var br=Rt.extend({data:null}),wr=Rt.extend({data:null}),_r=[9,13,27,32],Er=Z&&"CompositionEvent"in window,Sr=null;Z&&"documentMode"in document&&(Sr=document.documentMode);var kr=Z&&"TextEvent"in window&&!Sr,Or=Z&&(!Er||Sr&&8<Sr&&Sr<=11),Cr=String.fromCharCode(32),Dr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tr=!1;function xr(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Pr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jr=!1;var Mr={eventTypes:Dr,extractEvents:function(e,t,n,r){var a;if(Er)e:{switch(e){case"compositionstart":var i=Dr.compositionStart;break e;case"compositionend":i=Dr.compositionEnd;break e;case"compositionupdate":i=Dr.compositionUpdate;break e}i=void 0}else jr?xr(e,n)&&(i=Dr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Dr.compositionStart);return a=i?(Or&&"ko"!==n.locale&&(jr||i!==Dr.compositionStart?i===Dr.compositionEnd&&jr&&(a=gr()):(vr="value"in(mr=r)?mr.value:mr.textContent,jr=!0)),i=br.getPooled(i,t,n,r),a?i.data=a:null!==(a=Pr(n))&&(i.data=a),Nt(i),i):null,(e=kr?function(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return 32!==t.which?null:(Tr=!0,Cr);case"textInput":return(e=t.data)===Cr&&Tr?null:e;default:return null}}(e,n):function(e,t){if(jr)return"compositionend"===e||!Er&&xr(e,t)?(e=gr(),yr=vr=mr=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Or&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=wr.getPooled(Dr.beforeInput,t,n,r)).data=e,Nt(t)):t=null,null===a?t:null===t?a:[a,t]}},Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nr[e.type]:"textarea"===t}var Lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rr(e,t,n){return(e=Rt.getPooled(Lr.change,e,t,n)).type="change",re(n),Nt(e),e}var Ir=null,Fr=null;function Vr(e){T(e)}function Ur(e){if(Oe(pr(e)))return e}function Yr(e,t){if("change"===e)return t}var Hr=!1;function Br(){Ir&&(Ir.detachEvent("onpropertychange",Wr),Fr=Ir=null)}function Wr(e){if("value"===e.propertyName&&Ur(Fr))if(e=Rr(Fr,e,Dt(e)),ue)T(e);else{ue=!0;try{ie(Vr,e)}finally{ue=!1,de()}}}function zr(e,t,n){"focus"===e?(Br(),Fr=n,(Ir=t).attachEvent("onpropertychange",Wr)):"blur"===e&&Br()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ur(Fr)}function Kr(e,t){if("click"===e)return Ur(t)}function qr(e,t){if("input"===e||"change"===e)return Ur(t)}Z&&(Hr=jn("input")&&(!document.documentMode||9<document.documentMode));var $r,Jr={eventTypes:Lr,_isInputEventSupported:Hr,extractEvents:function(e,t,n,r){var a=t?pr(t):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var o=Yr;else if(Ar(a))if(Hr)o=qr;else{o=Gr;var s=zr}else!(i=a.nodeName)||"input"!==i.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type||(o=Kr);if(o=o&&o(e,t))return Rr(o,n,r);s&&s(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&je(a,"number",a.value)}},Qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zr={eventTypes:Qr,extractEvents:function(e,t,n,r,a){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&0==(32&a)&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?dr(t):null)&&(t!==(i=tt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):o=null,o===t)return null;if("mouseout"===e||"mouseover"===e)var s=tn,l=Qr.mouseLeave,u=Qr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=nn,l=Qr.pointerLeave,u=Qr.pointerEnter,c="pointer");if(e=null==o?a:pr(o),a=null==t?a:pr(t),(l=s.getPooled(l,o,n,r)).type=c+"leave",l.target=e,l.relatedTarget=a,(r=s.getPooled(u,t,n,r)).type=c+"enter",r.target=a,r.relatedTarget=e,c=t,(s=o)&&c)e:{for(e=c,o=0,t=u=s;t;t=Tt(t))o++;for(t=0,a=e;a;a=Tt(a))t++;for(;0<o-t;)u=Tt(u),o--;for(;0<t-o;)e=Tt(e),t--;for(;o--;){if(u===e||u===e.alternate)break e;u=Tt(u),e=Tt(e)}u=null}else u=null;for(e=u,u=[];s&&s!==e&&(null===(o=s.alternate)||o!==e);)u.push(s),s=Tt(s);for(s=[];c&&c!==e&&(null===(o=c.alternate)||o!==e);)s.push(c),c=Tt(c);for(c=0;c<u.length;c++)jt(u[c],"bubbled",l);for(c=s.length;0<c--;)jt(s[c],"captured",r);return n===$r?($r=null,[l]):($r=n,[l,r])}};var Xr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ea=Object.prototype.hasOwnProperty;function ta(e,t){if(Xr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ea.call(t,n[r])||!Xr(e[n[r]],t[n[r]]))return!1;return!0}var na=Z&&"documentMode"in document&&document.documentMode<=11,ra={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},aa=null,ia=null,oa=null,sa=!1;function la(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return sa||null==aa||aa!==Wn(n)?null:(n="selectionStart"in(n=aa)&&qn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},oa&&ta(oa,n)?null:(oa=n,(e=Rt.getPooled(ra.select,ia,e,t)).type="select",e.target=aa,Nt(e),e))}var ua={eventTypes:ra,extractEvents:function(e,t,n,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){e:{i=Nn(i),a=s.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?pr(t):window,e){case"focus":!Ar(i)&&"true"!==i.contentEditable||(aa=i,ia=t,oa=null);break;case"blur":oa=ia=aa=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":return sa=!1,la(n,r);case"selectionchange":if(na)break;case"keydown":case"keyup":return la(n,r)}return null}};x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),l=hr,r=fr,E=pr,x.injectEventPluginsByName({SimpleEventPlugin:gn,EnterLeaveEventPlugin:Zr,ChangeEventPlugin:Jr,SelectEventPlugin:ua,BeforeInputEventPlugin:Mr}),new Set;var ca=[],da=-1;function fa(e){da<0||(e.current=ca[da],ca[da]=null,da--)}function pa(e,t){ca[++da]=e.current,e.current=t}var ha={},ma={current:ha},va={current:!1},ya=ha;function ga(e,t){var n=e.type.contextTypes;if(!n)return ha;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ba(e){return null!=(e=e.childContextTypes)}function wa(){fa(va),fa(ma)}function _a(){fa(va),fa(ma)}function Ea(e,t,n){if(ma.current!==ha)throw Error(A(168));pa(ma,t),pa(va,n)}function Sa(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(A(108,J(t)||"Unknown",a));return m({},n,{},r)}function ka(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ha,ya=ma.current,pa(ma,t),pa(va,va.current),!0}function Oa(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(t=Sa(e,t,ya),r.__reactInternalMemoizedMergedChildContext=t,fa(va),fa(ma),pa(ma,t)):fa(va),pa(va,n)}var Ca=i.unstable_runWithPriority,Da=i.unstable_scheduleCallback,Ta=i.unstable_cancelCallback,xa=i.unstable_shouldYield,Pa=i.unstable_requestPaint,ja=i.unstable_now,Ma=i.unstable_getCurrentPriorityLevel,Na=i.unstable_ImmediatePriority,Aa=i.unstable_UserBlockingPriority,La=i.unstable_NormalPriority,Ra=i.unstable_LowPriority,Ia=i.unstable_IdlePriority,Fa={},Va=void 0!==Pa?Pa:function(){},Ua=null,Ya=null,Ha=!1,Ba=ja(),Wa=Ba<1e4?ja:function(){return ja()-Ba};function za(){switch(Ma()){case Na:return 99;case Aa:return 98;case La:return 97;case Ra:return 96;case Ia:return 95;default:throw Error(A(332))}}function Ga(e){switch(e){case 99:return Na;case 98:return Aa;case 97:return La;case 96:return Ra;case 95:return Ia;default:throw Error(A(332))}}function Ka(e,t){return e=Ga(e),Ca(e,t)}function qa(e,t,n){return e=Ga(e),Da(e,t,n)}function $a(e){return null===Ua?(Ua=[e],Ya=Da(Na,Qa)):Ua.push(e),Fa}function Ja(){if(null!==Ya){var e=Ya;Ya=null,Ta(e)}Qa()}function Qa(){if(!Ha&&null!==Ua){Ha=!0;var t=0;try{var n=Ua;Ka(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),Ua=null}catch(e){throw null!==Ua&&(Ua=Ua.slice(t+1)),Da(Na,Ja),e}finally{Ha=!1}}}var Za=3;function Xa(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ei(e,t){if(e&&e.defaultProps)for(var n in t=m({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ti={current:null},ni=null,ri=null,ai=null;function ii(){ai=ri=ni=null}function oi(e,t){var n=e.type._context;pa(ti,n._currentValue),n._currentValue=t}function si(e){var t=ti.current;fa(ti),e.type._context._currentValue=t}function li(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ui(e,t){ai=ri=null,null!==(e=(ni=e).dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wo=!0),e.firstContext=null)}function ci(e,t){if(ai!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ai=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ri){if(null===ni)throw Error(A(308));ri=t,ni.dependencies={expirationTime:0,firstContext:t,responders:null}}else ri=ri.next=t;return e._currentValue}var di=!1;function fi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function pi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function hi(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function mi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function vi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,a=null;null===r&&(r=e.updateQueue=fi(e.memoizedState))}else r=e.updateQueue,a=n.updateQueue,null===r?null===a?(r=e.updateQueue=fi(e.memoizedState),a=n.updateQueue=fi(n.memoizedState)):r=e.updateQueue=pi(a):null===a&&(a=n.updateQueue=pi(r));null===a||r===a?mi(r,t):null===r.lastUpdate||null===a.lastUpdate?(mi(r,t),mi(a,t)):(mi(r,t),a.lastUpdate=t)}function yi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=fi(e.memoizedState):gi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function gi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=pi(t)),t}function bi(e,t,n,r,a,i){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(i,r,a):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(a="function"==typeof(e=n.payload)?e.call(i,r,a):e))break;return m({},r,a);case 2:di=!0}return r}function wi(e,t,n,r,a){di=!1;for(var i=(t=gi(e,t)).baseState,o=null,s=0,l=t.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<a?(null===o&&(o=l,i=u),s<c&&(s=c)):(Ol(c,l.suspenseConfig),u=bi(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,(l.nextEffect=null)===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<a?(null===c&&(c=l,null===o&&(i=u)),s<d&&(s=d)):(u=bi(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,(l.nextEffect=null)===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(i=u),t.baseState=i,t.firstUpdate=o,t.firstCapturedUpdate=c,Cl(s),e.expirationTime=s,e.memoizedState=u}function _i(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Ei(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Ei(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Ei(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(A(191,n));n.call(r)}e=e.nextEffect}}var Si=j.ReactCurrentBatchConfig,ki=(new a.Component).refs;function Oi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:m({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Ci={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=pl(),a=Si.suspense;(a=hi(r=hl(r,e,a),a)).payload=t,null!=n&&(a.callback=n),vi(e,a),ml(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=pl(),a=Si.suspense;(a=hi(r=hl(r,e,a),a)).tag=1,a.payload=t,null!=n&&(a.callback=n),vi(e,a),ml(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=pl(),r=Si.suspense;(r=hi(n=hl(n,e,r),r)).tag=2,null!=t&&(r.callback=t),vi(e,r),ml(e,n)}};function Di(e,t,n,r,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ta(n,r)||!ta(a,i))}function Ti(e,t,n){var r=!1,a=ha,i=t.contextType;return t=new t(n,i="object"==typeof i&&null!==i?ci(i):(a=ba(t)?ya:ma.current,(r=null!=(r=t.contextTypes))?ga(e,a):ha)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ci,(e.stateNode=t)._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function xi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function Pi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=ki;var i=t.contextType;"object"==typeof i&&null!==i?a.context=ci(i):(i=ba(t)?ya:ma.current,a.context=ga(e,i)),null!==(i=e.updateQueue)&&(wi(e,i,n,a,r),a.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(Oi(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Ci.enqueueReplaceState(a,a.state,null),null!==(i=e.updateQueue)&&(wi(e,i,n,a,r),a.state=e.memoizedState)),"function"==typeof a.componentDidMount&&(e.effectTag|=4)}var ji=Array.isArray;function Mi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===ki&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Ni(e,t){if("textarea"!==e.type)throw Error(A(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ai(d){function f(e,t){if(d){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function p(e,t){if(!d)return null;for(;null!==t;)f(e,t),t=t.sibling;return null}function h(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Wl(e,t)).index=0,e.sibling=null,e}function m(e,t,n){return e.index=n,d?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function s(e){return d&&null===e.alternate&&(e.effectTag=2),e}function i(e,t,n,r){return null===t||6!==t.tag?(t=Kl(n,e.mode,r)).return=e:(t=o(t,n)).return=e,t}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props)).ref=Mi(e,t,n):(r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=Mi(e,t,n),r.return=e,r}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ql(n,e.mode,r)).return=e:(t=o(t,n.children||[])).return=e,t}function c(e,t,n,r,a){return null===t||7!==t.tag?(t=Gl(n,e.mode,r,a)).return=e:(t=o(t,n)).return=e,t}function v(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case L:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=Mi(e,null,t),n.return=e,n;case R:return(t=ql(t,e.mode,n)).return=e,t}if(ji(t)||$(t))return(t=Gl(t,e.mode,n,null)).return=e,t;Ni(e,t)}return null}function y(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case L:return n.key===a?n.type===I?c(e,t,n.props.children,r,a):l(e,t,n,r):null;case R:return n.key===a?u(e,t,n,r):null}if(ji(n)||$(n))return null!==a?null:c(e,t,n,r,null);Ni(e,n)}return null}function g(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return i(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case L:return e=e.get(null===r.key?n:r.key)||null,r.type===I?c(t,e,r.props.children,a,r.key):l(t,e,r,a);case R:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(ji(r)||$(r))return c(t,e=e.get(n)||null,r,a,null);Ni(t,r)}return null}return function(e,t,n,r){var a="object"==typeof n&&null!==n&&n.type===I&&null===n.key;a&&(n=n.props.children);var i="object"==typeof n&&null!==n;if(i)switch(n.$$typeof){case L:e:{for(i=n.key,a=t;null!==a;){if(a.key===i){if(7===a.tag?n.type===I:a.elementType===n.type){p(e,a.sibling),(t=o(a,n.type===I?n.props.children:n.props)).ref=Mi(e,a,n),t.return=e,e=t;break e}p(e,a);break}f(e,a),a=a.sibling}e=n.type===I?((t=Gl(n.props.children,e.mode,r,n.key)).return=e,t):((r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=Mi(e,t,n),r.return=e,r)}return s(e);case R:e:{for(a=n.key;null!==t;){if(t.key===a){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){p(e,t.sibling),(t=o(t,n.children||[])).return=e,e=t;break e}p(e,t);break}f(e,t),t=t.sibling}(t=ql(n,e.mode,r)).return=e,e=t}return s(e)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(e=((t=null!==t&&6===t.tag?(p(e,t.sibling),o(t,n)):(p(e,t),Kl(n,e.mode,r))).return=e,t));if(ji(n))return function(t,e,n,r){for(var a=null,i=null,o=e,s=e=0,l=null;null!==o&&s<n.length;s++){o.index>s?(l=o,o=null):l=o.sibling;var u=y(t,o,n[s],r);if(null===u){null===o&&(o=l);break}d&&o&&null===u.alternate&&f(t,o),e=m(u,e,s),null===i?a=u:i.sibling=u,i=u,o=l}if(s===n.length)return p(t,o),a;if(null===o){for(;s<n.length;s++)null!==(o=v(t,n[s],r))&&(e=m(o,e,s),null===i?a=o:i.sibling=o,i=o);return a}for(o=h(t,o);s<n.length;s++)null!==(l=g(o,t,s,n[s],r))&&(d&&null!==l.alternate&&o.delete(null===l.key?s:l.key),e=m(l,e,s),null===i?a=l:i.sibling=l,i=l);return d&&o.forEach(function(e){return f(t,e)}),a}(e,t,n,r);if($(n))return function(t,e,n,r){var a=$(n);if("function"!=typeof a)throw Error(A(150));if(null==(n=a.call(n)))throw Error(A(151));for(var i=a=null,o=e,s=e=0,l=null,u=n.next();null!==o&&!u.done;s++,u=n.next()){o.index>s?(l=o,o=null):l=o.sibling;var c=y(t,o,u.value,r);if(null===c){null===o&&(o=l);break}d&&o&&null===c.alternate&&f(t,o),e=m(c,e,s),null===i?a=c:i.sibling=c,i=c,o=l}if(u.done)return p(t,o),a;if(null===o){for(;!u.done;s++,u=n.next())null!==(u=v(t,u.value,r))&&(e=m(u,e,s),null===i?a=u:i.sibling=u,i=u);return a}for(o=h(t,o);!u.done;s++,u=n.next())null!==(u=g(o,t,s,u.value,r))&&(d&&null!==u.alternate&&o.delete(null===u.key?s:u.key),e=m(u,e,s),null===i?a=u:i.sibling=u,i=u);return d&&o.forEach(function(e){return f(t,e)}),a}(e,t,n,r);if(i&&Ni(e,n),void 0===n&&!a)switch(e.tag){case 1:case 0:throw e=e.type,Error(A(152,e.displayName||e.name||"Component"))}return p(e,t)}}var Li=Ai(!0),Ri=Ai(!1),Ii={},Fi={current:Ii},Vi={current:Ii},Ui={current:Ii};function Yi(e){if(e===Ii)throw Error(A(174));return e}function Hi(e,t){pa(Ui,t),pa(Vi,e),pa(Fi,Ii);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}fa(Fi),pa(Fi,t)}function Bi(){fa(Fi),fa(Vi),fa(Ui)}function Wi(e){Yi(Ui.current);var t=Yi(Fi.current),n=Ue(t,e.type);t!==n&&(pa(Vi,e),pa(Fi,n))}function zi(e){Vi.current===e&&(fa(Fi),fa(Vi))}var Gi={current:0};function Ki(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Qn||n.data===Zn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qi(e,t){return{responder:e,props:t}}var $i=j.ReactCurrentDispatcher,Ji=j.ReactCurrentBatchConfig,Qi=0,Zi=null,Xi=null,eo=null,to=null,no=null,ro=null,ao=0,io=null,oo=0,so=!1,lo=null,uo=0;function co(){throw Error(A(321))}function fo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function po(e,t,n,r,a,i){if(Qi=i,Zi=t,eo=null!==e?e.memoizedState:null,$i.current=null===eo?Mo:No,t=n(r,a),so){for(;so=!1,uo+=1,eo=null!==e?e.memoizedState:null,ro=to,io=no=Xi=null,$i.current=No,t=n(r,a),so;);lo=null,uo=0}if($i.current=jo,(e=Zi).memoizedState=to,e.expirationTime=ao,e.updateQueue=io,e.effectTag|=oo,e=null!==Xi&&null!==Xi.next,ro=no=to=eo=Xi=Zi=null,io=null,oo=ao=Qi=0,e)throw Error(A(300));return t}function ho(){$i.current=jo,ro=no=to=eo=Xi=Zi=null,so=!1,lo=io=null,uo=oo=ao=Qi=0}function mo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===no?to=no=e:no=no.next=e,no}function vo(){if(null!==ro)ro=(no=ro).next,eo=null!==(Xi=eo)?Xi.next:null;else{if(null===eo)throw Error(A(310));var e={memoizedState:(Xi=eo).memoizedState,baseState:Xi.baseState,queue:Xi.queue,baseUpdate:Xi.baseUpdate,next:null};no=null===no?to=e:no.next=e,eo=Xi.next}return no}function yo(e,t){return"function"==typeof t?t(e):t}function go(e){var t=vo(),n=t.queue;if(null===n)throw Error(A(311));if(n.lastRenderedReducer=e,0<uo){var r=n.dispatch;if(null!==lo){var a=lo.get(n);if(void 0!==a){lo.delete(n);for(var i=t.memoizedState;i=e(i,a.action),null!==(a=a.next););return Xr(i,t.memoizedState)||(Wo=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),[n.lastRenderedState=i,r]}}return[t.memoizedState,r]}r=n.last;var o=t.baseUpdate;if(i=t.baseState,null!==(r=null!==o?(null!==r&&(r.next=null),o.next):null!==r?r.next:null)){var s=a=null,l=r,u=!1;do{var c=l.expirationTime;c<Qi?(u||(u=!0,s=o,a=i),ao<c&&Cl(ao=c)):(Ol(c,l.suspenseConfig),i=l.eagerReducer===e?l.eagerState:e(i,l.action)),l=(o=l).next}while(null!==l&&l!==r);u||(s=o,a=i),Xr(i,t.memoizedState)||(Wo=!0),t.memoizedState=i,t.baseUpdate=s,t.baseState=a,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function bo(e){var t=mo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e}).dispatch=Po.bind(null,Zi,e),[t.memoizedState,e]}function wo(e){return go(yo)}function _o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===io?(io={lastEffect:null}).lastEffect=e.next=e:null===(t=io.lastEffect)?io.lastEffect=e.next=e:(n=t.next,(t.next=e).next=n,io.lastEffect=e),e}function Eo(e,t,n,r){var a=mo();oo|=e,a.memoizedState=_o(t,n,void 0,void 0===r?null:r)}function So(e,t,n,r){var a=vo();r=void 0===r?null:r;var i=void 0;if(null!==Xi){var o=Xi.memoizedState;if(i=o.destroy,null!==r&&fo(r,o.deps))return void _o(0,n,i,r)}oo|=e,a.memoizedState=_o(t,n,i,r)}function ko(e,t){return Eo(516,192,e,t)}function Oo(e,t){return So(516,192,e,t)}function Co(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Do(){}function To(e,t){return mo().memoizedState=[e,void 0===t?null:t],e}function xo(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Po(e,t,n){if(!(uo<25))throw Error(A(301));var r=e.alternate;if(e===Zi||null!==r&&r===Zi)if(so=!0,e={expirationTime:Qi,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===lo&&(lo=new Map),void 0===(n=lo.get(t)))lo.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var a=pl(),i=Si.suspense;i={expirationTime:a=hl(a,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)i.next=i;else{var s=o.next;null!==s&&(i.next=s),o.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=r(l,n);if(i.eagerReducer=r,i.eagerState=u,Xr(u,l))return}catch(e){}ml(e,a)}}var jo={readContext:ci,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useResponder:co,useDeferredValue:co,useTransition:co},Mo={readContext:ci,useCallback:To,useContext:ci,useEffect:ko,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Eo(4,36,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eo(4,36,e,t)},useMemo:function(e,t){var n=mo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Zi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},mo().memoizedState=e},useState:bo,useDebugValue:Do,useResponder:qi,useDeferredValue:function(t,n){var e=bo(t),r=e[0],a=e[1];return ko(function(){i.unstable_next(function(){var e=Ji.suspense;Ji.suspense=void 0===n?null:n;try{a(t)}finally{Ji.suspense=e}})},[t,n]),r},useTransition:function(n){var e=bo(!1),t=e[0],r=e[1];return[To(function(t){r(!0),i.unstable_next(function(){var e=Ji.suspense;Ji.suspense=void 0===n?null:n;try{r(!1),t()}finally{Ji.suspense=e}})},[n,t]),t]}},No={readContext:ci,useCallback:xo,useContext:ci,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,So(4,36,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return So(4,36,e,t)},useMemo:function(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:go,useRef:function(){return vo().memoizedState},useState:wo,useDebugValue:Do,useResponder:qi,useDeferredValue:function(t,n){var e=wo(),r=e[0],a=e[1];return Oo(function(){i.unstable_next(function(){var e=Ji.suspense;Ji.suspense=void 0===n?null:n;try{a(t)}finally{Ji.suspense=e}})},[t,n]),r},useTransition:function(n){var e=wo(),t=e[0],r=e[1];return[xo(function(t){r(!0),i.unstable_next(function(){var e=Ji.suspense;Ji.suspense=void 0===n?null:n;try{r(!1),t()}finally{Ji.suspense=e}})},[n,t]),t]}},Ao=null,Lo=null,Ro=!1;function Io(e,t){var n=Hl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Fo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Vo(e){if(Ro){var t=Lo;if(t){var n=t;if(!Fo(e,t)){if(!(t=ir(n.nextSibling))||!Fo(e,t))return e.effectTag=-1025&e.effectTag|2,Ro=!1,void(Ao=e);Io(Ao,n)}Ao=e,Lo=ir(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ro=!1,Ao=e}}function Uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ao=e}function Yo(e){if(e!==Ao)return!1;if(!Ro)return Uo(e),!(Ro=!0);var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!nr(t,e.memoizedProps))for(t=Lo;t;)Io(e,t),t=ir(t.nextSibling);if(Uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Jn){if(0===t){Lo=ir(e.nextSibling);break e}t--}else n!==$n&&n!==Zn&&n!==Qn||t++}e=e.nextSibling}Lo=null}}else Lo=Ao?ir(e.stateNode.nextSibling):null;return!0}function Ho(){Lo=Ao=null,Ro=!1}var Bo=j.ReactCurrentOwner,Wo=!1;function zo(e,t,n,r){t.child=null===e?Ri(t,null,n,r):Li(t,e.child,n,r)}function Go(e,t,n,r,a){n=n.render;var i=t.ref;return ui(t,a),r=po(e,t,n,r,i,a),null===e||Wo?(t.effectTag|=1,zo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),us(e,t,a))}function Ko(e,t,n,r,a,i){if(null!==e)return o=e.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:ta)(a,r)&&e.ref===t.ref)?us(e,t,i):(t.effectTag|=1,(e=Wl(o,r)).ref=t.ref,(e.return=t).child=e);var o=n.type;return"function"!=typeof o||Bl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,r,null,t.mode,i)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=o,qo(e,t,o,r,a,i))}function qo(e,t,n,r,a,i){return null!==e&&ta(e.memoizedProps,r)&&e.ref===t.ref&&(Wo=!1,a<i)?us(e,t,i):Jo(e,t,n,r,i)}function $o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Jo(e,t,n,r,a){var i=ba(n)?ya:ma.current;return i=ga(t,i),ui(t,a),n=po(e,t,n,r,i,a),null===e||Wo?(t.effectTag|=1,zo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),us(e,t,a))}function Qo(e,t,n,r,a){if(ba(n)){var i=!0;ka(t)}else i=!1;if(ui(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ti(t,n,r),Pi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ci(u):ga(t,u=ba(n)?ya:ma.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||s===r&&l===u||xi(t,o,r,u),di=!1;var f=t.memoizedState;l=o.state=f;var p=t.updateQueue;null!==p&&(wi(t,p,r,o,a),l=t.memoizedState),r=s!==r||f!==l||va.current||di?("function"==typeof c&&(Oi(t,n,c,r),l=t.memoizedState),(s=di||Di(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ei(t.type,s),l=o.context,u="object"==typeof(u=n.contextType)&&null!==u?ci(u):ga(t,u=ba(n)?ya:ma.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s===r&&l===u||xi(t,o,r,u)),di=!1,l=t.memoizedState,f=o.state=l,null!==(p=t.updateQueue)&&(wi(t,p,r,o,a),f=t.memoizedState),r=s!==r||l!==f||va.current||di?("function"==typeof c&&(Oi(t,n,c,r),f=t.memoizedState),(c=di||Di(t,n,s,r,l,f,u))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=u,c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),!1);return Zo(e,t,n,r,i,a)}function Zo(e,t,n,r,a,i){$o(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return a&&Oa(t,n,!1),us(e,t,i);r=t.stateNode,Bo.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Li(t,e.child,null,i),t.child=Li(t,null,s,i)):zo(e,t,s,i),t.memoizedState=r.state,a&&Oa(t,n,!0),t.child}function Xo(e){var t=e.stateNode;t.pendingContext?Ea(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ea(0,t.context,!1),Hi(e,t.containerInfo)}var es,ts,ns,rs,as={dehydrated:null,retryTime:0};function is(e,t,n){var r,a=t.mode,i=t.pendingProps,o=Gi.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),pa(Gi,1&o),null===e){if(void 0!==i.fallback&&Vo(t),s){if(s=i.fallback,0==(2&((i=Gl(null,a,0,null)).return=t).mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Gl(s,a,n,null)).return=t,i.sibling=n,t.memoizedState=as,t.child=i,n}return a=i.children,t.memoizedState=null,t.child=Ri(t,null,a,n)}if(null!==e.memoizedState){if(a=(e=e.child).sibling,s){if(i=i.fallback,0==(2&((n=Wl(e,e.pendingProps)).return=t).mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(a=Wl(a,i,a.expirationTime)).return=t,n.sibling=a,n.childExpirationTime=0,t.memoizedState=as,t.child=n,a}return n=Li(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Gl(null,a,0,null)).return=t,null!==(i.child=e)&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Gl(s,a,n,null)).return=t,(i.sibling=n).effectTag|=2,i.childExpirationTime=0,t.memoizedState=as,t.child=i,n}return t.memoizedState=null,t.child=Li(t,e,i.children,n)}function os(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),li(e.return,t)}function ss(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=a,o.lastEffect=i)}function ls(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(zo(e,t,r.children,n),0!=(2&(r=Gi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&os(e,n);else if(19===e.tag)os(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pa(Gi,r),0==(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ki(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ss(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ki(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ss(t,!0,n,null,i,t.lastEffect);break;case"together":ss(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function us(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Cl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(A(153));if(null!==t.child){for(n=Wl(e=t.child,e.pendingProps,e.expirationTime),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function cs(e){e.effectTag|=4}function ds(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fs(e){switch(e.tag){case 1:ba(e.type)&&wa();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Bi(),_a(),0!=(64&(t=e.effectTag)))throw Error(A(285));return e.effectTag=-4097&t|64,e;case 5:return zi(e),null;case 13:return fa(Gi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fa(Gi),null;case 4:return Bi(),null;case 10:return si(e),null;default:return null}}function ps(e,t){return{value:e,source:t,stack:Q(t)}}es=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ts=function(){},ns=function(e,t,n,r,a){var i=e.memoizedProps;if(i!==r){var o,s,l=t.stateNode;switch(Yi(Fi.current),e=null,n){case"input":i=Ce(l,i),r=Ce(l,r),e=[];break;case"option":i=Me(l,i),r=Me(l,r),e=[];break;case"select":i=m({},i,{value:void 0}),r=m({},r,{value:void 0}),e=[];break;case"textarea":i=Ae(l,i),r=Ae(l,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(l.onclick=Bn)}for(o in Un(n,r),n=null,i)if(!r.hasOwnProperty(o)&&i.hasOwnProperty(o)&&null!=i[o])if("style"===o)for(s in l=i[o])l.hasOwnProperty(s)&&((n=n||{})[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(v.hasOwnProperty(o)?e=e||[]:(e=e||[]).push(o,null));for(o in r){var u=r[o];if(l=null!=i?i[o]:void 0,r.hasOwnProperty(o)&&u!==l&&(null!=u||null!=l))if("style"===o)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||((n=n||{})[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&((n=n||{})[s]=u[s])}else n||(e=e||[]).push(o,n),n=u;else"dangerouslySetInnerHTML"===o?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(o,""+u)):"children"===o?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(o,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(v.hasOwnProperty(o)?(null!=u&&Hn(a,o),e||l===u||(e=[])):(e=e||[]).push(o,u))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&cs(t)}},rs=function(e,t,n,r){n!==r&&cs(t)};var hs="function"==typeof WeakSet?WeakSet:Set;function ms(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Q(n)),null!==n&&J(n.type),t=t.value,null!==e&&1===e.tag&&J(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function vs(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Il(t,e)}else e.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:gs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ei(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}function gs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var a=r.destroy;(r.destroy=void 0)!==a&&a()}0!=(r.tag&t)&&(a=r.create,r.destroy=a()),r=r.next}while(r!==n)}}function bs(e,r,t){switch("function"==typeof Ul&&Ul(r),r.tag){case 0:case 11:case 14:case 15:if(null!==(e=r.updateQueue)&&null!==(e=e.lastEffect)){var a=e.next;Ka(97<t?97:t,function(){var e=a;do{var t=e.destroy;if(void 0!==t){var n=r;try{t()}catch(e){Il(n,e)}}e=e.next}while(e!==a)})}break;case 1:vs(r),"function"==typeof(t=r.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Il(t,e)}}(r,t);break;case 5:vs(r);break;case 4:Ss(e,r,t)}}function ws(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,(e.memoizedProps=null)!==t&&ws(t)}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(_s(t)){var n=t;break e}t=t.return}throw Error(A(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(A(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){var i=5===a.tag||6===a.tag;if(i){var o=i?a.stateNode:a.stateNode.instance;if(n)if(r){var s=o;o=n,8===(i=t).nodeType?i.parentNode.insertBefore(s,o):i.insertBefore(s,o)}else t.insertBefore(o,n);else r?(8===(s=t).nodeType?(i=s.parentNode).insertBefore(o,s):(i=s).appendChild(o),null!=(s=s._reactRootContainer)||null!==i.onclick||(i.onclick=Bn)):t.appendChild(o)}else if(4!==a.tag&&null!==a.child){a=(a.child.return=a).child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Ss(e,t,n){for(var r,a,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(A(160));switch(r=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:r=r.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=n,c=l;;)if(bs(s,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(s=r,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i=(i.child.return=i).child;continue}}else if(bs(e,i,n),null!==i.child){i=(i.child.return=i).child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ks(e,t){switch(t.tag){case 0:case 11:case 14:case 15:gs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if((t.updateQueue=null)!==i){for(n[ur]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),Yn(e,a),t=Yn(e,r),a=0;a<i.length;a+=2){var o=i[a],s=i[a+1];"style"===o?Fn(n,s):"dangerouslySetInnerHTML"===o?Be(n,s):"children"===o?We(n,s):Ee(n,o,s,t)}switch(e){case"input":xe(n,r);break;case"textarea":Re(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(A(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Ct(t.containerInfo));break;case 12:break;case 13:if(null===(n=t).memoizedState?r=!1:(r=!0,n=t.child,el=Wa()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,a=null!=(a=e.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null,i.style.display=In("display",a));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e=(e.child.return=e).child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Os(t);break;case 19:Os(t);break;case 17:case 20:case 21:break;default:throw Error(A(163))}}function Os(n){var e=n.updateQueue;if(null!==e){n.updateQueue=null;var r=n.stateNode;null===r&&(r=n.stateNode=new hs),e.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),(t=0)===t&&(t=hl(t=pl(),e,null)),null!==(e=vl(e,t))&&gl(e)}.bind(null,n,e);r.has(e)||(r.add(e),e.then(t,t))})}}var Cs="function"==typeof WeakMap?WeakMap:Map;function Ds(e,t,n){(n=hi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rl||(rl=!0,al=r),ms(e,t)},n}function Ts(t,n,e){(e=hi(e,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var a=n.value;e.payload=function(){return ms(t,n),r(a)}}var i=t.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){"function"!=typeof r&&(null===il?il=new Set([this]):il.add(this),ms(t,n));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),e}var xs,Ps=Math.ceil,js=j.ReactCurrentDispatcher,Ms=j.ReactCurrentOwner,Ns=0,As=8,Ls=16,Rs=32,Is=0,Fs=1,Vs=2,Us=3,Ys=4,Hs=5,Bs=Ns,Ws=null,zs=null,Gs=0,Ks=Is,qs=null,$s=1073741823,Js=1073741823,Qs=null,Zs=0,Xs=!1,el=0,tl=500,nl=null,rl=!1,al=null,il=null,ol=!1,sl=null,ll=90,ul=null,cl=0,dl=null,fl=0;function pl(){return(Bs&(Ls|Rs))!==Ns?1073741821-(Wa()/10|0):0!==fl?fl:fl=1073741821-(Wa()/10|0)}function hl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=za();if(0==(4&t))return 99===r?1073741823:1073741822;if((Bs&Ls)!==Ns)return Gs;if(null!==n)e=Xa(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xa(e,150,100);break;case 97:case 96:e=Xa(e,5e3,250);break;case 95:e=2;break;default:throw Error(A(326))}return null!==Ws&&e===Gs&&--e,e}function ml(e,t){if(50<cl)throw cl=0,dl=null,Error(A(185));if(null!==(e=vl(e,t))){var n=za();1073741823===t?(Bs&As)!==Ns&&(Bs&(Ls|Rs))===Ns?bl(e):(gl(e),Bs===Ns&&Ja()):gl(e),(4&Bs)===Ns||98!==n&&99!==n||(null===ul?ul=new Map([[e,t]]):(void 0===(n=ul.get(e))||t<n)&&ul.set(e,t))}}function vl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(Ws===a&&(Cl(t),Ks===Ys&&Ql(a,Gs)),Zl(a,t)),a}function yl(e){var t=e.lastExpiredTime;return 0!==t?t:Jl(e,t=e.firstPendingTime)?(t=e.lastPingedTime,(e=e.nextKnownPendingLevel)<t?t:e):t}function gl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=$a(bl.bind(null,e));else{var t=yl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=pl();if(r=1073741823===t?99:1===t||2===t?95:(r=10*(1073741821-t)-10*(1073741821-r))<=0?99:r<=250?98:r<=5250?97:95,null!==n){var a=e.callbackPriority;if(e.callbackExpirationTime===t&&r<=a)return;n!==Fa&&Ta(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?$a(bl.bind(null,e)):qa(r,function e(t,n){fl=0;if(n)return n=pl(),Xl(t,n),gl(t),null;var r=yl(t);if(0!==r){if(n=t.callbackNode,(Bs&(Ls|Rs))!==Ns)throw Error(A(327));if(Al(),t===Ws&&r===Gs||El(t,r),null!==zs){var a=Bs;Bs|=Ls;for(var i=kl();;)try{Tl();break}catch(e){Sl(t,e)}if(ii(),Bs=a,js.current=i,Ks===Fs)throw n=qs,El(t,r),Ql(t,r),gl(t),n;if(null===zs)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,a=Ks,Ws=null,a){case Is:case Fs:throw Error(A(345));case Vs:Xl(t,2<r?2:r);break;case Us:if(Ql(t,r),a=t.lastSuspendedTime,r===a&&(t.nextKnownPendingLevel=jl(i)),1073741823===$s&&10<(i=el+tl-Wa())){if(Xs){var o=t.lastPingedTime;if(0===o||r<=o){t.lastPingedTime=r,El(t,r);break}}if(0!==(o=yl(t))&&o!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}t.timeoutHandle=rr(Ml.bind(null,t),i);break}Ml(t);break;case Ys:if(Ql(t,r),a=t.lastSuspendedTime,r===a&&(t.nextKnownPendingLevel=jl(i)),Xs&&(0===(i=t.lastPingedTime)||r<=i)){t.lastPingedTime=r,El(t,r);break}if(0!==(i=yl(t))&&i!==r)break;if(0!==a&&a!==r){t.lastPingedTime=a;break}if(1073741823!==Js?a=10*(1073741821-Js)-Wa():1073741823===$s?a=0:(a=10*(1073741821-$s)-5e3,i=Wa(),r=10*(1073741821-r)-i,(a=i-a)<0&&(a=0),a=(a<120?120:a<480?480:a<1080?1080:a<1920?1920:a<3e3?3e3:a<4320?4320:1960*Ps(a/1960))-a,r<a&&(a=r)),10<a){t.timeoutHandle=rr(Ml.bind(null,t),a);break}Ml(t);break;case Hs:if(1073741823!==$s&&null!==Qs){o=$s;var s=Qs;if(10<(a=(a=0|s.busyMinDurationMs)<=0?0:(i=0|s.busyDelayMs,(o=Wa()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+a-o))){Ql(t,r),t.timeoutHandle=rr(Ml.bind(null,t),a);break}}Ml(t);break;default:throw Error(A(329))}if(gl(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-Wa()}),e.callbackNode=t}}}function bl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)Ml(t);else{if((Bs&(Ls|Rs))!==Ns)throw Error(A(327));if(Al(),t===Ws&&e===Gs||El(t,e),null!==zs){var n=Bs;Bs|=Ls;for(var r=kl();;)try{Dl();break}catch(e){Sl(t,e)}if(ii(),Bs=n,js.current=r,Ks===Fs)throw n=qs,El(t,e),Ql(t,e),gl(t),n;if(null!==zs)throw Error(A(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ws=null,Ml(t),gl(t)}}return null}function wl(e,t){var n=Bs;Bs|=1;try{return e(t)}finally{(Bs=n)===Ns&&Ja()}}function _l(e,t){var n=Bs;Bs&=-2,Bs|=As;try{return e(t)}finally{(Bs=n)===Ns&&Ja()}}function El(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ar(n)),null!==zs)for(n=zs.return;null!==n;){var r=n;switch(r.tag){case 1:var a=r.type.childContextTypes;null!=a&&wa();break;case 3:Bi(),_a();break;case 5:zi(r);break;case 4:Bi();break;case 13:case 19:fa(Gi);break;case 10:si(r)}n=n.return}zs=Wl((Ws=e).current,null),Gs=t,Ks=Is,Js=$s=1073741823,Qs=qs=null,Zs=0,Xs=!1}function Sl(e,t){for(;;){try{if(ii(),ho(),null===zs||null===zs.return)return Ks=Fs,qs=t,null;e:{var n=e,r=zs.return,a=zs,i=t;if(t=Gs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var o=i,s=0!=(1&Gi.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var d=l.memoizedProps;u=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(u){var f=l.updateQueue;if(null===f){var p=new Set;p.add(o),l.updateQueue=p}else f.add(o);if(0==(2&l.mode)){if(l.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var h=hi(1073741823,null);h.tag=2,vi(a,h)}a.expirationTime=1073741823;break e}i=void 0,a=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new Cs,i=new Set,m.set(o,i)):void 0===(i=m.get(o))&&(i=new Set,m.set(o,i)),!i.has(a)){i.add(a);var v=Fl.bind(null,n,o,a);o.then(v,v)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);i=Error((J(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Q(a))}Ks!==Hs&&(Ks=Vs),i=ps(i,a),l=r;do{switch(l.tag){case 3:o=i,l.effectTag|=4096,l.expirationTime=t,yi(l,Ds(l,o,t));break e;case 1:o=i;var y=l.type,g=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===il||!il.has(g)))){l.effectTag|=4096,l.expirationTime=t,yi(l,Ts(l,o,t));break e}}l=l.return}while(null!==l)}zs=Pl(zs)}catch(e){t=e;continue}break}}function kl(){var e=js.current;return js.current=jo,null===e?jo:e}function Ol(e,t){e<$s&&2<e&&($s=e),null!==t&&e<Js&&2<e&&(Js=e,Qs=t)}function Cl(e){Zs<e&&(Zs=e)}function Dl(){for(;null!==zs;)zs=xl(zs)}function Tl(){for(;null!==zs&&!xa();)zs=xl(zs)}function xl(e){var t=xs(e.alternate,e,Gs);return e.memoizedProps=e.pendingProps,null===t&&(t=Pl(e)),Ms.current=null,t}function Pl(e){zs=e;do{var t=zs.alternate;if(e=zs.return,0==(2048&zs.effectTag)){e:{var n=t,r=Gs,a=(t=zs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:ba(t.type)&&wa();break;case 3:Bi(),_a(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==n&&null!==n.child||!Yo(t)||cs(t),ts(t);break;case 5:zi(t),r=Yi(Ui.current);var i=t.type;if(null!==n&&null!=t.stateNode)ns(n,t,i,a,r),n.ref!==t.ref&&(t.effectTag|=128);else if(a){var o=Yi(Fi.current);if(Yo(t)){var s=(a=t).stateNode;n=a.type;var l=a.memoizedProps,u=r;switch(s[lr]=a,s[ur]=l,i=void 0,r=s,n){case"iframe":case"object":case"embed":Cn("load",r);break;case"video":case"audio":for(s=0;s<et.length;s++)Cn(et[s],r);break;case"source":Cn("error",r);break;case"img":case"image":case"link":Cn("error",r),Cn("load",r);break;case"form":Cn("reset",r),Cn("submit",r);break;case"details":Cn("toggle",r);break;case"input":De(r,l),Cn("invalid",r),Hn(u,"onChange");break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Cn("invalid",r),Hn(u,"onChange");break;case"textarea":Le(r,l),Cn("invalid",r),Hn(u,"onChange")}for(i in Un(n,l),s=null,l)l.hasOwnProperty(i)&&(o=l[i],"children"===i?"string"==typeof o?r.textContent!==o&&(s=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(s=["children",""+o]):v.hasOwnProperty(i)&&null!=o&&Hn(u,i));switch(n){case"input":ke(r),Pe(r,l,!0);break;case"textarea":ke(r),Ie(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Bn)}i=s,a.updateQueue=i,(a=null!==i)&&cs(t)}else{n=t,u=i,l=a,s=9===r.nodeType?r:r.ownerDocument,o===Fe.html&&(o=Ve(u)),o===Fe.html?"script"===u?((l=s.createElement("div")).innerHTML="<script><\/script>",s=l.removeChild(l.firstChild)):"string"==typeof l.is?s=s.createElement(u,{is:l.is}):(s=s.createElement(u),"select"===u&&(u=s,l.multiple?u.multiple=!0:l.size&&(u.size=l.size))):s=s.createElementNS(o,u),(l=s)[lr]=n,l[ur]=a,es(l,t,!1,!1),t.stateNode=l;var c=r,d=Yn(u=i,n=a);switch(u){case"iframe":case"object":case"embed":Cn("load",l),r=n;break;case"video":case"audio":for(r=0;r<et.length;r++)Cn(et[r],l);r=n;break;case"source":Cn("error",l),r=n;break;case"img":case"image":case"link":Cn("error",l),Cn("load",l),r=n;break;case"form":Cn("reset",l),Cn("submit",l),r=n;break;case"details":Cn("toggle",l),r=n;break;case"input":De(l,n),r=Ce(l,n),Cn("invalid",l),Hn(c,"onChange");break;case"option":r=Me(l,n);break;case"select":l._wrapperState={wasMultiple:!!n.multiple},r=m({},n,{value:void 0}),Cn("invalid",l),Hn(c,"onChange");break;case"textarea":Le(l,n),r=Ae(l,n),Cn("invalid",l),Hn(c,"onChange");break;default:r=n}Un(u,r),s=void 0,o=u;var f=l,p=r;for(s in p)if(p.hasOwnProperty(s)){var h=p[s];"style"===s?Fn(f,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Be(f,h):"children"===s?"string"==typeof h?"textarea"===o&&""===h||We(f,h):"number"==typeof h&&We(f,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(v.hasOwnProperty(s)?null!=h&&Hn(c,s):null!=h&&Ee(f,s,h,d))}switch(u){case"input":ke(l),Pe(l,n,!1);break;case"textarea":ke(l),Ie(l);break;case"option":null!=n.value&&l.setAttribute("value",""+_e(n.value));break;case"select":(r=l).multiple=!!n.multiple,null!=(l=n.value)?Ne(r,!!n.multiple,l,!1):null!=n.defaultValue&&Ne(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(l.onclick=Bn)}(a=tr(i,a))&&cs(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(A(166));break;case 6:if(n&&null!=t.stateNode)rs(n,t,n.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(A(166));r=Yi(Ui.current),Yi(Fi.current),Yo(t)?(i=(a=t).stateNode,r=a.memoizedProps,i[lr]=a,(a=i.nodeValue!==r)&&cs(t)):(i=t,(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[lr]=i,t.stateNode=a)}break;case 11:break;case 13:if(fa(Gi),a=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}a=null!==a,i=!1,null===n?void 0!==t.memoizedProps.fallback&&Yo(t):(i=null!==(r=n.memoizedState),a||null===r||null!==(r=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=r).nextEffect=l:(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),a&&!i&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Gi.current)?Ks===Is&&(Ks=Us):(Ks!==Is&&Ks!==Us||(Ks=Ys),0!==Zs&&null!==Ws&&(Ql(Ws,Gs),Zl(Ws,Zs)))),(a||i)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Bi(),ts(t);break;case 10:si(t);break;case 9:case 14:break;case 17:ba(t.type)&&wa();break;case 19:if(fa(Gi),null===(a=t.memoizedState))break;if(i=0!=(64&t.effectTag),null===(l=a.rendering)){if(i)ds(a,!1);else if(Ks!==Is||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=Ki(n))){for(t.effectTag|=64,ds(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,a=r,i=t.child;null!==i;)n=a,(r=i).effectTag&=2,r.nextEffect=null,r.firstEffect=null,(r.lastEffect=null)===(l=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=l.childExpirationTime,r.expirationTime=l.expirationTime,r.child=l.child,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,n=l.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),i=i.sibling;pa(Gi,1&Gi.current|2),t=t.child;break e}n=n.sibling}}else{if(!i)if(null!==(n=Ki(l))){if(t.effectTag|=64,i=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ds(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate){null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null);break}}else Wa()>a.tailExpiration&&1<r&&(t.effectTag|=64,ds(a,!(i=!0)),t.expirationTime=t.childExpirationTime=r-1);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}if(null===a.tail)break;0===a.tailExpiration&&(a.tailExpiration=Wa()+500),r=a.tail,a.rendering=r,a.tail=r.sibling,a.lastEffect=t.lastEffect,r.sibling=null,a=Gi.current,pa(Gi,a=i?1&a|2:1&a),t=r;break e;case 20:case 21:break;default:throw Error(A(156,t.tag))}t=null}if(a=zs,1===Gs||1!==a.childExpirationTime){for(i=0,r=a.child;null!==r;)i<(n=r.expirationTime)&&(i=n),i<(l=r.childExpirationTime)&&(i=l),r=r.sibling;a.childExpirationTime=i}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=zs.firstEffect),null!==zs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=zs.firstEffect),e.lastEffect=zs.lastEffect),1<zs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=zs:e.firstEffect=zs,e.lastEffect=zs))}else{if(null!==(t=fs(zs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=zs.sibling))return t;zs=e}while(null!==zs);return Ks===Is&&(Ks=Hs),null}function jl(e){var t=e.expirationTime;return(e=e.childExpirationTime)<t?t:e}function Ml(e){var t=za();return Ka(99,function(e,t){for(;Al(),null!==sl;);if((Bs&(Ls|Rs))!==Ns)throw Error(A(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var a=jl(n);if(e.firstPendingTime=a,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ws&&(zs=Ws=null,Gs=0),a=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==a){var i=Bs;Bs|=Rs,Ms.current=null,Xn=On;var o=Kn();if(qn(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{var l=(s=(s=o.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var u=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{s.nodeType,c.nodeType}catch(e){s=null;break e}var d=0,f=-1,p=-1,h=0,m=0,v=o,y=null;t:for(;;){for(var g;v!==s||0!==u&&3!==v.nodeType||(f=d+u),v!==c||0!==l&&3!==v.nodeType||(p=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(g=v.firstChild);)y=v,v=g;for(;;){if(v===o)break t;if(y===s&&++h===u&&(f=d),y===c&&++m===l&&(p=d),null!==(g=v.nextSibling))break;y=(v=y).parentNode}v=g}s=-1===f||-1===p?null:{start:f,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;On=!(er={focusedElem:o,selectionRange:s}),nl=a;do{try{Nl()}catch(e){if(null===nl)throw Error(A(330));Il(nl,e),nl=nl.nextEffect}}while(null!==nl);nl=a;do{try{for(o=e,s=t;null!==nl;){var b=nl.effectTag;if(16&b&&We(nl.stateNode,""),128&b){var w=nl.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Es(nl),nl.effectTag&=-3;break;case 6:Es(nl),nl.effectTag&=-3,ks(nl.alternate,nl);break;case 1024:nl.effectTag&=-1025;break;case 1028:nl.effectTag&=-1025,ks(nl.alternate,nl);break;case 4:ks(nl.alternate,nl);break;case 8:Ss(o,u=nl,s),ws(u)}nl=nl.nextEffect}}catch(e){if(null===nl)throw Error(A(330));Il(nl,e),nl=nl.nextEffect}}while(null!==nl);if(_=er,w=Kn(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&qn(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,o=Math.min(s.start,u),s=void 0===s.end?o:Math.min(s.end,u),!_.extend&&s<o&&(u=s,s=o,o=u),u=Gn(b,o),c=Gn(b,s),u&&c&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==c.node||_.focusOffset!==c.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),s<o?(_.addRange(w),_.extend(c.node,c.offset)):(w.setEnd(c.node,c.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}On=!!Xn,Xn=er=null,e.current=n,nl=a;do{try{for(b=r;null!==nl;){var E=nl.effectTag;if(36&E){var S=nl.alternate;switch(_=b,(w=nl).tag){case 0:case 11:case 15:gs(16,32,w);break;case 1:var k=w.stateNode;if(4&w.effectTag)if(null===S)k.componentDidMount();else{var O=w.elementType===w.type?S.memoizedProps:ei(w.type,S.memoizedProps);k.componentDidUpdate(O,S.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var C=w.updateQueue;null!==C&&_i(0,C,k);break;case 3:var D=w.updateQueue;if(null!==D){if((o=null)!==w.child)switch(w.child.tag){case 5:o=w.child.stateNode;break;case 1:o=w.child.stateNode}_i(0,D,o)}break;case 5:var T=w.stateNode;null===S&&4&w.effectTag&&tr(w.type,w.memoizedProps)&&T.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var x=w.alternate;if(null!==x){var P=x.memoizedState;if(null!==P){var j=P.dehydrated;null!==j&&Ct(j)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(A(163))}}if(128&E){w=void 0;var M=nl.ref;if(null!==M){var N=nl.stateNode;switch(nl.tag){case 5:w=N;break;default:w=N}"function"==typeof M?M(w):M.current=w}}nl=nl.nextEffect}}catch(e){if(null===nl)throw Error(A(330));Il(nl,e),nl=nl.nextEffect}}while(null!==nl);nl=null,Va(),Bs=i}else e.current=n;if(ol)ol=!1,sl=e,ll=t;else for(nl=a;null!==nl;)t=nl.nextEffect,nl.nextEffect=null,nl=t;if(0===(t=e.firstPendingTime)&&(il=null),1073741823===t?e===dl?cl++:(cl=0,dl=e):cl=0,"function"==typeof Vl&&Vl(n.stateNode,r),gl(e),rl)throw rl=!1,e=al,al=null,e;return(Bs&As)!==Ns||Ja(),null}.bind(null,e,t)),null}function Nl(){for(;null!==nl;){var e=nl.effectTag;0!=(256&e)&&ys(nl.alternate,nl),0==(512&e)||ol||(ol=!0,qa(97,function(){return Al(),null})),nl=nl.nextEffect}}function Al(){if(90!==ll){var e=97<ll?97:ll;return ll=90,Ka(e,Ll)}}function Ll(){if(null===sl)return!1;var t=sl;if(sl=null,(Bs&(Ls|Rs))!==Ns)throw Error(A(331));var e=Bs;for(Bs|=Rs,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:gs(128,0,n),gs(0,64,n)}}catch(e){if(null===t)throw Error(A(330));Il(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Bs=e,Ja(),!0}function Rl(e,t,n){vi(e,t=Ds(e,t=ps(n,t),1073741823)),null!==(e=vl(e,1073741823))&&gl(e)}function Il(e,t){if(3===e.tag)Rl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===il||!il.has(r))){vi(n,e=Ts(n,e=ps(t,e),1073741823)),null!==(n=vl(n,1073741823))&&gl(n);break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ws===e&&Gs===n?Ks===Ys||Ks===Us&&1073741823===$s&&Wa()-el<tl?El(e,Gs):Xs=!0:Jl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),gl(e)))}xs=function(e,t,n){var r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||va.current)Wo=!0;else{if(r<n){switch(Wo=!1,t.tag){case 3:Xo(t),Ho();break;case 5:if(Wi(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:ba(t.type)&&ka(t);break;case 4:Hi(t,t.stateNode.containerInfo);break;case 10:oi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&n<=r?is(e,t,n):(pa(Gi,1&Gi.current),null!==(t=us(e,t,n))?t.sibling:null);pa(Gi,1&Gi.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ls(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),pa(Gi,Gi.current),!r)return null}return us(e,t,n)}Wo=!1}}else Wo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=ga(t,ma.current),ui(t,n),a=po(null,t,r,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,ho(),ba(r)){var i=!0;ka(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var o=r.getDerivedStateFromProps;"function"==typeof o&&Oi(t,r,o,e),a.updater=Ci,Pi((t.stateNode=a)._reactInternalFiber=t,r,e,n),t=Zo(null,t,r,!0,i,n)}else t.tag=0,zo(null,t,a,n),t=t.child;return t;case 16:if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),(t._result=e).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}}(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,i=t.tag=function(e){if("function"==typeof e)return Bl(e)?1:0;if(null!=e){if((e=e.$$typeof)===B)return 11;if(e===G)return 14}return 2}(a),e=ei(a,e),i){case 0:t=Jo(null,t,a,e,n);break;case 1:t=Qo(null,t,a,e,n);break;case 11:t=Go(null,t,a,e,n);break;case 14:t=Ko(null,t,a,ei(a.type,e),r,n);break;default:throw Error(A(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Jo(e,t,r,a=t.elementType===r?a:ei(r,a),n);case 1:return r=t.type,a=t.pendingProps,Qo(e,t,r,a=t.elementType===r?a:ei(r,a),n);case 3:if(Xo(t),null===(r=t.updateQueue))throw Error(A(282));if(a=null!==(a=t.memoizedState)?a.element:null,wi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===a)Ho(),t=us(e,t,n);else{if((a=t.stateNode.hydrate)&&(Lo=ir(t.stateNode.containerInfo.firstChild),Ao=t,a=Ro=!0),a)for(n=Ri(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else zo(e,t,r,n),Ho();t=t.child}return t;case 5:return Wi(t),null===e&&Vo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,nr(r,a)?o=null:null!==i&&nr(r,i)&&(t.effectTag|=16),$o(e,t),t=4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,null):(zo(e,t,o,n),t.child);case 6:return null===e&&Vo(t),null;case 13:return is(e,t,n);case 4:return Hi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Li(t,null,r,n):zo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Go(e,t,r,a=t.elementType===r?a:ei(r,a),n);case 7:return zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return zo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,oi(t,i=a.value),null!==o){var s=o.value;if(0===(i=Xr(s,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(o.children===a.children&&!va.current){t=us(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&i)){1===s.tag&&((u=hi(n,null)).tag=2,vi(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),li(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else o=10===s.tag&&s.type===t.type?null:s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}zo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ui(t,n),r=r(a=ci(a,i.unstable_observedBits)),t.effectTag|=1,zo(e,t,r,n),t.child;case 14:return i=ei(a=t.type,t.pendingProps),Ko(e,t,a,i=ei(a.type,i),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ei(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ba(r)?(e=!0,ka(t)):e=!1,ui(t,n),Ti(t,r,a),Pi(t,r,a,n),Zo(null,t,r,!0,e,n);case 19:return ls(e,t,n)}throw Error(A(156,t.tag))};var Vl=null,Ul=null;function Yl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Hl(e,t,n,r){return new Yl(e,t,n,r)}function Bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wl(e,t){var n=e.alternate;return null===n?((n=Hl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,a,i){var o=2;if("function"==typeof(r=e))Bl(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case I:return Gl(n.children,a,i,t);case H:o=8,a|=7;break;case F:o=8,a|=1;break;case V:return(e=Hl(12,n,t,8|a)).elementType=V,e.type=V,e.expirationTime=i,e;case W:return(e=Hl(13,n,t,a)).type=W,e.elementType=W,e.expirationTime=i,e;case z:return(e=Hl(19,n,t,a)).elementType=z,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case U:o=10;break e;case Y:o=9;break e;case B:o=11;break e;case G:o=14;break e;case K:o=16,r=null;break e}throw Error(A(130,null==e?e:typeof e,""))}return(t=Hl(o,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function Gl(e,t,n,r){return(e=Hl(7,e,r,t)).expirationTime=n,e}function Kl(e,t,n){return(e=Hl(6,e,null,t)).expirationTime=n,e}function ql(e,t,n){return(t=Hl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Jl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&t<=n&&e<=t}function Ql(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(t<r||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Zl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(n<=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Xl(e,t){var n=e.lastExpiredTime;(0===n||t<n)&&(e.lastExpiredTime=t)}function eu(e,t,n,r){var a=t.current,i=pl(),o=Si.suspense;i=hl(i,a,o);e:if(n){t:{if(tt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(A(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(ba(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(A(171))}if(1===n.tag){var l=n.type;if(ba(l)){n=Sa(n,l,s);break e}}n=s}else n=ha;return null===t.context?t.context=n:t.pendingContext=n,(t=hi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vi(a,t),ml(a,i),i}function tu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function nu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function au(e,t,n){var r,a,i=new $l(e,t,n=null!=n&&!0===n.hydrate),o=Hl(3,null,null,2===t?7:1===t?3:0);(i.current=o).stateNode=i,e[cr]=i.current,n&&0!==t&&(r=9===e.nodeType?e:e.ownerDocument,a=Nn(r),vt.forEach(function(e){An(e,r,a)}),yt.forEach(function(e){An(e,r,a)})),this._internalRoot=i}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=tu(o);s.call(e)}}eu(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new au(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"==typeof a){var l=a;a=function(){var e=tu(o);l.call(e)}}_l(function(){eu(t,o,e,a)})}return tu(o)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(A(200));return function(e,t,n,r){var a=3<arguments.length&&void 0!==r?r:null;return{$$typeof:R,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}au.prototype.render=function(e,t){eu(e,this._internalRoot,null,void 0===t?null:t)},au.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;eu(null,t,null,function(){(r[cr]=null)!==n&&n()})},it=function(e){if(13===e.tag){var t=Xa(pl(),150,100);ml(e,t),ru(e,t)}},ot=function(e){if(13===e.tag){pl();var t=Za++;ml(e,t),ru(e,t)}},st=function(e){if(13===e.tag){var t=pl();ml(e,t=hl(t,e,null)),ru(e,t)}},X=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=hr(r);if(!a)throw Error(A(90));Oe(r),xe(r,a)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ne(e,!!n.multiple,t,!1)}},oe=function(e,t,n,r){var a=Bs;Bs|=4;try{return Ka(98,e.bind(null,t,n,r))}finally{(Bs=a)===Ns&&Ja()}},se=function(){(Bs&(1|Ls|Rs))===Ns&&(function(){if(null!==ul){var e=ul;ul=null,e.forEach(function(e,t){Xl(t,e),gl(t)}),Ja()}}(),Al())};var lu,uu,cu={createPortal:su,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0!==t)return e=null===(e=at(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(A(188));throw Error(A(268,Object.keys(e)))},hydrate:function(e,t,n){if(!iu(t))throw Error(A(200));return ou(null,e,t,!0,n)},render:function(e,t,n){if(!iu(t))throw Error(A(200));return ou(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!iu(n))throw Error(A(200));if(null==e||void 0===e._reactInternalFiber)throw Error(A(38));return ou(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!iu(e))throw Error(A(40));return!!e._reactRootContainer&&(_l(function(){ou(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0)},unstable_createPortal:function(){return su.apply(void 0,arguments)},unstable_batchedUpdates:ie=wl,flushSync:function(e,t){if((Bs&(Ls|Rs))!==Ns)throw Error(A(187));var n=Bs;Bs|=1;try{return Ka(99,e.bind(null,t))}finally{Bs=n,Ja()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[fr,pr,hr,x.injectEventPluginsByName,p,Nt,function(e){O(e,Mt)},re,ae,xn,T,Al,{current:!(le=function(e,t){var n=Bs;Bs|=2;try{return e(t)}finally{(Bs=n)===Ns&&Ja()}})}]}};uu=(lu={findFiberByHostInstance:dr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return;try{var n=t.inject(e);Vl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Ul=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(m({},lu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=at(e))?null:e.stateNode},findFiberByHostInstance:function(e){return uu?uu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));e.exports=cu.default||cu},function(e,t,n){"use strict";e.exports=n(322)},function(e,s,t){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i,l,u,c,n;if(Object.defineProperty(s,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var r=null,a=null,o=function(){if(null!==r)try{var e=s.unstable_now();r(!0,e),r=null}catch(e){throw setTimeout(o,0),e}},d=Date.now();s.unstable_now=function(){return Date.now()-d},i=function(e){null!==r?setTimeout(i,0,e):(r=e,setTimeout(o,0))},l=function(e,t){a=setTimeout(e,t)},u=function(){clearTimeout(a)},c=function(){return!1},n=s.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,h=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)s.unstable_now=function(){return f.now()};else{var y=p.now();s.unstable_now=function(){return p.now()-y}}var g=!1,b=null,w=-1,_=5,E=0;c=function(){return s.unstable_now()>=E},n=function(){},s.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,k=S.port2;S.port1.onmessage=function(){if(null!==b){var e=s.unstable_now();E=e+_;try{b(!0,e)?k.postMessage(null):(g=!1,b=null)}catch(e){throw k.postMessage(null),e}}else g=!1},i=function(e){b=e,g||(g=!0,k.postMessage(null))},l=function(e,t){w=h(function(){e(s.unstable_now())},t)},u=function(){m(w),w=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),a=e[r];if(!(void 0!==a&&0<T(a,t)))break e;e[r]=t,e[n]=a,n=r}}function C(e){return void 0===(e=e[0])?null:e}function D(e){var t=e[0];if(void 0===t)return null;var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],s=1+i,l=e[s];if(void 0!==o&&T(o,n)<0)r=void 0!==l&&T(l,o)<0?(e[r]=l,e[s]=n,s):(e[r]=o,e[i]=n,i);else{if(!(void 0!==l&&T(l,n)<0))break e;e[r]=l,e[s]=n,r=s}}}return t}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}var x=[],P=[],j=1,M=null,N=3,A=!1,L=!1,R=!1;function I(e){for(var t=C(P);null!==t;){if(null===t.callback)D(P);else{if(!(t.startTime<=e))break;D(P),t.sortIndex=t.expirationTime,O(x,t)}t=C(P)}}function F(e){if(R=!1,I(e),!L)if(null!==C(x))L=!0,i(V);else{var t=C(P);null!==t&&l(F,t.startTime-e)}}function V(e,t){L=!1,R&&(R=!1,u()),A=!0;var n=N;try{for(I(t),M=C(x);null!==M&&(!(M.expirationTime>t)||e&&!c());){var r=M.callback;if(null!==r){M.callback=null,N=M.priorityLevel;var a=r(M.expirationTime<=t);t=s.unstable_now(),"function"==typeof a?M.callback=a:M===C(x)&&D(x),I(t)}else D(x);M=C(x)}if(null!==M)var i=!0;else{var o=C(P);null!==o&&l(F,o.startTime-t),i=!1}return i}finally{M=null,N=n,A=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Y=n;s.unstable_ImmediatePriority=1,s.unstable_UserBlockingPriority=2,s.unstable_NormalPriority=3,s.unstable_IdlePriority=5,s.unstable_LowPriority=4,s.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},s.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},s.unstable_scheduleCallback=function(e,t,n){var r=s.unstable_now();if("object"==typeof n&&null!==n){var a=n.delay;a="number"==typeof a&&0<a?r+a:r,n="number"==typeof n.timeout?n.timeout:U(e)}else n=U(e),a=r;return e={id:j++,callback:t,priorityLevel:e,startTime:a,expirationTime:n=a+n,sortIndex:-1},r<a?(e.sortIndex=a,O(P,e),null===C(x)&&e===C(P)&&(R?u():R=!0,l(F,a-r))):(e.sortIndex=n,O(x,e),L||A||(L=!0,i(V))),e},s.unstable_cancelCallback=function(e){e.callback=null},s.unstable_wrapCallback=function(t){var n=N;return function(){var e=N;N=n;try{return t.apply(this,arguments)}finally{N=e}}},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_shouldYield=function(){var e=s.unstable_now();I(e);var t=C(x);return t!==M&&null!==M&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<M.expirationTime||c()},s.unstable_requestPaint=Y,s.unstable_continueExecution=function(){L||A||(L=!0,i(V))},s.unstable_pauseExecution=function(){},s.unstable_getFirstCallbackNode=function(){return C(x)},s.unstable_Profiling=null},function(e,t,n){e.exports.Dispatcher=n(324)},function(e,t,n){"use strict";var r=n(325),a=1;function i(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}i.prototype.register=function(e){var t="ID_"+a++;return this.$Dispatcher_callbacks[t]=e,t},i.prototype.unregister=function(e){r(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},i.prototype.waitFor=function(e){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this.$Dispatcher_isPending[n]?r(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(r(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},i.prototype.dispatch=function(e){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},i.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},i.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},i.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},i.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,i,o,s){if(0,!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,i,o,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.setAppState=function(a,e,i){var o=a.deserialize(e);l.eachObject(function(e,t){var n=a.stores[e];if(n){var r=n.StoreModel.config;r.onDeserialize&&(o[e]=r.onDeserialize(t)||t),l.assign(n[s.STATE_CONTAINER],o[e]),i(n)}},[o])},t.snapshot=function(o){var e=void 0===arguments[1]?[]:arguments[1];return(e.length?e:Object.keys(o.stores)).reduce(function(e,t){var n=t.displayName||t,r=o.stores[n],a=r.StoreModel.config;r[s.LIFECYCLE].emit("snapshot");var i=a.onSerialize&&a.onSerialize(r[s.STATE_CONTAINER]);return e[n]=i||r.getState(),e},{})},t.saveInitialSnapshot=function(e,t){var n=e.deserialize(e.serialize(e.stores[t][s.STATE_CONTAINER]));e[s.INIT_SNAPSHOT][t]=n,e[s.LAST_SNAPSHOT][t]=n},t.filterSnapshots=function(e,r,t){return t.reduce(function(e,t){var n=t.displayName||t;if(!r[n])throw new ReferenceError(n+" is not a valid store");return e[n]=r[n],e},{})};var s=r(n(100)),l=r(n(119))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Function.prototype.bind;function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}t.createStoreConfig=function(e,t){t.config=f.assign({getState:function(e){return f.assign({},e)},setState:f.assign},e,t.config)},t.transformStore=function(e,t){return e.reduce(function(e,t){return t(e)},t)},t.createStoreFromObject=function(e,t,n){var r=void 0,a=m({},e,n,f.assign({getInstance:function(){return r},setState:function(e){h(this,r,e)}},t));a.bindListeners&&s.default.bindListeners.call(a,a.bindListeners);a.observe&&s.default.bindListeners.call(a,a.observe(e));a.lifecycle&&f.eachObject(function(e,t){s.default.on.call(a,e,t)},[a.lifecycle]);return r=f.assign(new p.default(e,a,a.state||{},t),a.publicMethods,{displayName:n})},t.createStoreFromClass=function(e,t,n){for(var r=arguments.length,a=Array(3<r?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var o=void 0,s=t.config,l=function(){function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;u=l=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0}}(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(r,t),r}();m(l.prototype,e,n,{getInstance:function(){return o},setState:function(e){h(this,o,e)}});var u=new(c.apply(l,[null].concat(a)));s.bindListeners&&u.bindListeners(s.bindListeners);s.datasource&&u.registerAsync(s.datasource);return o=f.assign(new p.default(e,u,u[e.config.stateKey]||u[s.stateKey]||null,t),d.getInternalMethods(t),s.publicMethods,{displayName:n})};var i=a(n(256)),o=r(n(100)),d=r(n(202)),f=r(n(119)),p=a(n(328)),s=a(n(329));function h(e,t,n){if(n){var r=t.StoreModel.config,a=f.isFunction(n)?n(t[o.STATE_CONTAINER]):n;t[o.STATE_CONTAINER]=r.setState.call(e,t[o.STATE_CONTAINER],a),e.alt.dispatcher.isDispatching()||e.emitChange()}}function m(e,t,n,r){return e[o.ALL_LISTENERS]=[],e[o.LIFECYCLE]=new i.default,e[o.LISTENERS]={},e[o.PUBLIC_METHODS]={},f.assign(e,s.default,{_storeName:n,alt:t,dispatcher:t.dispatcher,preventDefault:function(){this.getInstance().preventDefault=!0}},r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}var s=o(n(256)),l=o(n(140)),u=i(n(100)),c=i(n(119)),d=(0,l.default)(),f=(r(p,[{key:"getEventEmitter",value:function(){return this[d]}},{key:"listen",value:function(e){var t=this;return this[d].on("change",e),function(){return t.unlisten(e)}}},{key:"unlisten",value:function(e){if(!e)throw new TypeError("Unlisten must receive a function");this[u.LIFECYCLE].emit("unlisten"),this[d].removeListener("change",e)}},{key:"getState",value:function(){return this.StoreModel.config.getState.call(this,this[u.STATE_CONTAINER])}}]),p);function p(e,n,t,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),this[d]=new s.default,this[u.LIFECYCLE]=n[u.LIFECYCLE],this[u.STATE_CONTAINER]=t||n,this.preventDefault=!1,this._storeName=n._storeName,this.boundListeners=n[u.ALL_LISTENERS],this.StoreModel=r;var i=n.output||function(e){return e};this.emitChange=function(){a[d].emit("change",i.call(n,a[u.STATE_CONTAINER]))};function o(e,t){try{return e()}catch(e){if(n[u.HANDLING_ERRORS])return a[u.LIFECYCLE].emit("error",e,t,a[u.STATE_CONTAINER]),!1;throw e}}c.assign(this,n[u.PUBLIC_METHODS]),this.dispatchToken=e.dispatcher.register(function(e){a.preventDefault=!1,a[u.LIFECYCLE].emit("beforeEach",e,a[u.STATE_CONTAINER]);var t=n[u.LISTENERS][e.action]||n.otherwise;t&&(!1===o(function(){return t.call(n,e.data,e.action)},e)||a.preventDefault||a.emitChange());n.reduce&&(o(function(){n.setState(n.reduce(a[u.STATE_CONTAINER],e))},e),a.preventDefault||a.emitChange()),a[u.LIFECYCLE].emit("afterEach",e,a[u.STATE_CONTAINER])}),this[u.LIFECYCLE].emit("init")}t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(140),o=(a=i)&&a.__esModule?a:{default:a},s=r(n(100)),d=r(n(119)),l={waitFor:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new ReferenceError("Dispatch tokens not provided");var r=t;1===t.length&&(r=Array.isArray(t[0])?t[0]:t);var a=r.map(function(e){return e.dispatchToken||e});this.dispatcher.waitFor(a)},exportAsync:function(e){this.registerAsync(e)},registerAsync:function(e){var u=this,c=0,r=d.isFunction(e)?e(this.alt):e,t=Object.keys(r).reduce(function(e,t){var n=r[t],l=d.isFunction(n)?n(u):n;return["success","error","loading"].forEach(function(e){if(l[e]&&!l[e][s.ACTION_KEY])throw new Error(e+" handler must be an action function")}),e[t]=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];function n(n,r){return function(e){function t(){if(--c,n(s(e,n,a)),r)throw e}return"undefined"==typeof window?function(){return t()}:t()}}var r=u.getInstance().getState(),i=l.local&&l.local.apply(l,[r].concat(a)),o=l.shouldFetch?l.shouldFetch.apply(l,[r].concat(a)):null==i,s=l.interceptResponse||function(e){return e};if(o)return c+=1,l.loading&&l.loading(s(null,l.loading,a)),l.remote.apply(l,[r].concat(a)).catch(n(l.error,1)).then(n(l.success));u.emitChange()},e},{});this.exportPublicMethods(t),this.exportPublicMethods({isLoading:function(){return 0<c}})},exportPublicMethods:function(e){var n=this;d.eachObject(function(e,t){if(!d.isFunction(t))throw new TypeError("exportPublicMethods expects a function");n[s.PUBLIC_METHODS][e]=t},[e])},emitChange:function(){this.getInstance().emitChange()},on:function(e,t){"error"===e&&(this[s.HANDLING_ERRORS]=!0),this[s.LIFECYCLE].on(e,t.bind(this))},bindAction:function(e,t){if(!e)throw new ReferenceError("Invalid action reference passed in");if(!d.isFunction(t))throw new TypeError("bindAction expects a function");if(1<t.length)throw new TypeError("Action handler in store "+this._storeName+" for "+(e[s.ACTION_KEY]||e).toString()+" was defined with two parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?");var n=e[s.ACTION_KEY]?e[s.ACTION_KEY]:e;this[s.LISTENERS][n]=t.bind(this),this[s.ALL_LISTENERS].push(o.default.keyFor(n))},bindActions:function(e){var a=this;d.eachObject(function(e,t){var n=e.replace(/./,function(e){return"on"+e[0].toUpperCase()}),r=null;if(a[e]&&a[n])throw new ReferenceError("You have multiple action handlers bound to an action: "+e+" and "+n);a[e]?r=a[e]:a[n]&&(r=a[n]),r&&a.bindAction(t,r)},[e])},bindListeners:function(e){var r=this;d.eachObject(function(e,t){var n=r[e];if(!n)throw new ReferenceError(e+" defined but does not exist in "+r._storeName);Array.isArray(t)?t.forEach(function(e){r.bindAction(e,n)}):r.bindAction(t,n)},[e])}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=function(e,t,n,r,a){var i=h.uid(e[p.ACTIONS_REGISTRY],t+"."+n);e[p.ACTIONS_REGISTRY][i]=1;var o=f.default.for("alt/"+i),s={namespace:t,name:n,id:i,symbol:o},l=new m(e,o,r,a,s),u=l[p.ACTION_HANDLER];u.defer=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout(function(){l[p.ACTION_HANDLER].apply(null,t)})},u[p.ACTION_KEY]=o,u.data=s;var c=e.actions[t],d=h.uid(c,n);return c[d]=u};var o,s=n(140),f=(o=s)&&o.__esModule?o:{default:o},p=i(n(100)),h=i(n(202)),m=(r(l,[{key:"dispatch",value:function(e){this.alt.dispatch(this[p.ACTION_UID],e,this.actionDetails)}}]),l);function l(e,t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this[p.ACTION_UID]=t,this[p.ACTION_HANDLER]=n.bind(this),this.actions=r,this.actionDetails=a,this.alt=e}e.exports=t.default},function(e,t,n){var r=n(20),a=n(210);e.exports=function(e){return r(function(){return!!a[e]()||""!=""[e]()||a[e].name!==e})}},function(e,t,n){var m=n(272),v=n(260),y=n(364),g=n(367),b=n(262),w=n(84),_=n(240),E=n(261),S="[object Arguments]",k="[object Array]",O="[object Object]",C=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,a,i){var o=w(e),s=w(t),l=o?k:b(e),u=s?k:b(t),c=(l=l==S?O:l)==O,d=(u=u==S?O:u)==O,f=l==u;if(f&&_(e)){if(!_(t))return!1;c=!(o=!0)}if(f&&!c)return i=i||new m,o||E(e)?v(e,t,n,r,a,i):y(e,t,l,n,r,a,i);if(!(1&n)){var p=c&&C.call(e,"__wrapped__"),h=d&&C.call(t,"__wrapped__");if(p||h)return a(p?e.value():e,h?t.value():t,n,r,i=i||new m)}return f&&(i=i||new m,g(e,t,n,r,a,i))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(142),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(142);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(142);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var a=n(142);e.exports=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var r=n(141);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var a=n(141),i=n(203),o=n(238);e.exports=function(e,t){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!i||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(257),a=n(346),i=n(53),o=n(259),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?f:s).test(o(e))}},function(e,t,n){var r=n(155),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{var r=!(e[s]=void 0)}catch(e){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,a=n(347),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(67)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(350),a=n(141),i=n(203);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){var r=n(351),a=n(352),i=n(353),o=n(354),s=n(355);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(143);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(143),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(143),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(143);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(144);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(144);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(144);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var a=n(144);e.exports=function(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(155),d=n(295),f=n(223),p=n(260),h=n(365),m=n(366),a=r?r.prototype:void 0,v=a?a.valueOf:void 0;e.exports=function(e,t,n,r,a,i,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new d(e),new d(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=h;case"[object Set]":var l=1&r;if(s=s||m,e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=p(s(e),s(t),r,a,i,o);return o.delete(e),c;case"[object Symbol]":if(v)return v.call(e)==v.call(t)}return!1}},function(e,t){e.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var b=n(296),w=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,a,i){var o=1&n,s=b(e),l=s.length;if(l!=b(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:w.call(t,c)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=o;++u<l;){var h=e[c=s[u]],m=t[c];if(r)var v=o?r(m,h,c,t,e,i):r(h,m,c,e,t,i);if(!(void 0===v?h===m||a(h,m,n,r,i):v)){f=!1;break}p=p||"constructor"==c}if(f&&!p){var y=e.constructor,g=t.constructor;y!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g)&&(f=!1)}return i.delete(e),i.delete(t),f}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(133),a=n(112);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(133),a=n(241),i=n(112),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(275),a=n(373),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(300)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(93)(n(67),"DataView");e.exports=r},function(e,t,n){var r=n(93)(n(67),"Promise");e.exports=r},function(e,t,n){var r=n(93)(n(67),"Set");e.exports=r},function(e,t,n){var r=n(93)(n(67),"WeakMap");e.exports=r},function(e,t,n){"use strict";var r="undefined"!=typeof Element?Element.prototype:{},a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(a)return a.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(25),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(4),o=n(98),s=n(70);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,d(t).call(this,e))).ref=null,n.handleChange=function(e){var t=!n.state.checked;n.props.onChange&&n.props.onChange(e,t),n.setState({checked:t})},n.state={checked:n.props.defaultChecked||!1,id:n.props.name+"_"+Math.random()},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.a.Component),e=t,(n=[{key:"getValue",value:function(){return this.ref.value}},{key:"render",value:function(){var e,t=this,n=(e=this.state.checked?this.props.enabledTitle||this.props.title:this.props.disabledTitle||this.props.title)?i.a.translate(this.props.localeSection,e):void 0;return a.a.createElement("div",{className:"form__toggle"},a.a.createElement("input",{ref:function(e){t.ref=e},id:this.state.id,onChange:this.props.disabled?void 0:this.handleChange,type:"checkbox",name:this.props.name,checked:this.state.checked}),a.a.createElement("label",{htmlFor:this.state.id,title:n}))}}])&&u(e.prototype,n),r&&u(e,r),t}();p.defaultProps={defaultChecked:!0},t.a=Object(s.b)(Object(o.a)(p))},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(30),n(8),n(49),n(9);var r=n(0),a=n.n(r),i=n(24),o=n(3),s=n.n(o);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,d(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(e,a.a.Component),t=e,(n=[{key:"componentDidMount",value:function(){var e=this;this.interval=window.setInterval(function(){e.forceUpdate()},6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=i.a.get("time_moment"),t=i.a.get("short_date_time_moment").replace("%time%",e),n=s.a.min(this.props.date,s()()).fromNow(),r=this.props.template?this.props.template.replace("%time_ago%",n):n;return a.a.createElement("time",{title:this.props.date.format(t),className:this.props.className,dateTime:this.props.date.format()},r)}}])&&u(t.prototype,n),r&&u(t,r),e}();t.a=p},function(e,t,n){"use strict";var r=n(19),a=n(76),i=n(52),o=n(20),s=n(115),l=[],u=l.sort,c=o(function(){l.sort(void 0)}),d=o(function(){l.sort(null)}),f=s("sort");r({target:"Array",proto:!0,forced:c||!d||f},{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),a(e))}})},function(e,t,n){"use strict";var r,a=n(19),i=n(91).f,o=n(51),s=n(397),l=n(47),u=n(398),c=n(74),d="".startsWith,f=Math.min,p=u("startsWith");a({target:"String",proto:!0,forced:!!(c||p||(!(r=i(String.prototype,"startsWith"))||r.writable))&&!p},{startsWith:function(e,t){var n=String(l(this));s(e);var r=o(f(1<arguments.length?t:void 0,n.length)),a=String(e);return d?d.call(n,a,r):n.slice(r,r+a.length)===a}})},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(41);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(e,a.a.Component),t=e,(n=[{key:"render",value:function(){return a.a.createElement(i.a,{message:this.props.message,title:this.props.title,onYes:this.props.onOk,yesText:"core_js:ok"})}}])&&s(t.prototype,n),r&&s(t,r),e}();t.a=d},function(e,t,n){"use strict";n(12),n(13),n(14),n(50),n(10),n(301),n(56),n(25),n(394),n(5),n(15),n(16),n(7),n(87),n(194),n(30),n(55),n(8),n(58),n(9);var r=n(0),a=n.n(r),i=n(4),s=n(24),o=n(3),l=n.n(o),u=n(414);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=f(this,p(n).call(this,e))).onChange=function(e){t.state.startTime&&l()("2016-01-01 "+e+":00").isBefore(t.state.startTime)?t.setState({value:String(e),invalid:!0}):(t.setState({value:String(e),invalid:!1}),t.props.onChange(e))},t.filterOptions=function(e,t){var n=t.match(/^ *(\d{1,2}?)( *[:.]?(\d{1,2}))? *(pm?|am?)? *$/i);if(t.match(/^ *\d{2} *[:.]? *(pm?|am?)? *$/)&&(n=t.match(/^ *(\d{1,2}) *([:.]?) *()(pm?|am?)? *$/i)),!t)return e;if(!n||24<Number(n[1])||59<Number(n[3]))return[];var r,a="^0?("+Number(n[1])%(12==Number(n[1])?11:12)+"|"+(Number(n[1])%12+12)+")";if(n[2]?a+=":"+("0"!==n[3].substring(0,1)?"0?":"")+n[3]+"\\d*":a+=":\\d+",12<=Number(n[1])&&(r="PM"),n[4]&&(r=n[4].substring(0,1).toUpperCase()+"M"),0===(e=e.filter(function(e){return!!e.value.match(new RegExp(a))&&(!("PM"===r&&Number(e.value.substring(0,2))<12)&&!("AM"===r&&12<=Number(e.value.substring(0,2))))})).length){var i,o=s.a.get("upper_time_moment");Number(n[1])<12&&"PM"===r&&(n[1]=(parseInt(n[1])+12).toString()),24==Number(n[1])&&(n[1]="00"),12==Number(n[1])&&"PM"!==r&&(n[1]="00"),i=l()("2016-01-01 "+("00"+n[1]).slice(-2)+":"+("00"+n[3]).slice(-2)+":00"),e.push({value:i.format("HH:mm"),label:i.format(o)}),!r&&Number(n[1])<12&&(n[1]=(parseInt(n[1])+12).toString(),i=l()("2016-01-01 "+n[1]+":"+("00"+n[3]).slice(-2)+":00"),e.push({value:i.format("HH:mm"),label:i.format(o)}))}return e},t.state={value:e.value.format("HH:mm"),startTime:e.startDateTime?l()("2016-01-01 "+e.startDateTime.format("HH:mm:ss")):null,invalid:!1},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,a.a.Component),e=n,r=[{key:"getDerivedStateFromProps",value:function(e){return{value:e.value.format("HH:mm"),startTime:e.startDateTime?l()("2016-01-01 "+e.startDateTime.format("HH:mm:ss")):null}}}],(t=[{key:"getValue",value:function(){return this.state.value}},{key:"getAllOptions",value:function(){for(var e=s.a.get("upper_time_moment"),t=l()("2016-01-01 00:00:00"),n=l()("2016-01-01 23:59:59"),r=[],a=l()("2016-01-01 "+this.state.value),i=!1;t.isBefore(n);)this.state.startTime&&t.isBefore(this.state.startTime)||(!i&&a.isSame(t)&&(i=!0),!i&&a.isBefore(t)&&(r.push({value:a.format("HH:mm"),label:a.format(e)}),i=!0),r.push({value:t.format("HH:mm"),label:t.format(e)})),t.add(this.props.resolution,"minutes");return i||r.push({value:a.format("HH:mm"),label:a.format(e)}),r}},{key:"render",value:function(){return a.a.createElement(u.a,{filterOptions:this.filterOptions,options:this.getAllOptions(),name:this.props.name,className:"timepicker "+(this.state.invalid?" invalid":""),onChange:this.onChange,value:this.state.value,noResultText:i.a.translate("core_js","time_picker.invalid_input"),autoComplete:"off",tabIndex:this.props.tabIndex?this.props.tabIndex:0})}}])&&d(e.prototype,t),r&&d(e,r),n}();t.a=m},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(35),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(1),o=n(34);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,c(t).call(this,e))).onShowMenu=function(e){var t=e.detail.data;t.component?n.setState({component:t.component,message:null,params:null,section:null}):n.setState({component:null,message:t.message,params:t.params,section:t.section})},n.hideMenuOnLeave=function(){Object(o.e)({id:n.props.id})},n.state={component:null,message:null,params:null,section:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),e=t,(n=[{key:"render",value:function(){var e={};return this.state.params&&(e.params=this.state.params),this.state.section&&(e.section=this.state.section),a.a.createElement(o.a,{onMouseLeave:this.hideMenuOnLeave,className:"tooltip-renderer "+(this.props.className||""),id:this.props.id,onShow:this.onShowMenu},this.state.component,this.state.message&&a.a.createElement(i.a,Object.assign({message:this.state.message},e)))}}])&&l(e.prototype,n),r&&l(e,r),t}();t.a=f},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return c});n(211),n(42),n(25),n(45);var r=n(3),a=n.n(r),i=n(4),s=i.a.partial("calendar"),l=i.a.partial("settings"),o=function(e){return[{id:"day",label:e?l("calendar_views.table_date_range.day"):s("table_view.dateRange.day"),range:1,alignWith:"day",step:1},{id:"multi-day",label:e?l("calendar_views.table_date_range.multiDay"):s("table_view.dateRange.multiDay"),range:7,alignWith:"day",step:1},{id:"week",label:e?l("calendar_views.table_date_range.week"):s("table_view.dateRange.week"),range:7,alignWith:"week",step:1},{id:"multi-week",label:e?l("calendar_views.table_date_range.multiWeek"):s("table_view.dateRange.multiWeek"),range:28,alignWith:"week",step:4},{id:"month",label:e?l("calendar_views.table_date_range.month"):s("table_view.dateRange.month"),range:30,alignWith:"month",step:1},{id:"year",label:e?l("calendar_views.table_date_range.year"):s("table_view.dateRange.year"),range:1,alignWith:"year",step:1},{id:"custom-range",label:e?l("calendar_views.table_date_range.custom"):s("table_view.dateRange.custom"),range:2,alignWith:"day",step:2}]},u=function(e){var t=a.a.duration(e,"hours"),n=Math.floor(t.asHours()),r=Math.floor(t.asMinutes())-60*n;return"".concat(9<n?n:"0".concat(n),":").concat(9<r?r:"0".concat(r))},c=function(e,i){var o=[{label:i?l("calendar_views.table_table_cells.start"):s("table_view.table.cells.start"),id:"start",visible:!0,active:!0,width:140,position:0,definitionType:"default"},{label:i?l("calendar_views.table_table_cells.end"):s("table_view.table.cells.end"),id:"end",visible:!0,active:!0,width:140,position:1,definitionType:"default"},{label:i?l("calendar_views.table_table_cells.recurrence"):s("table_view.table.cells.recurrence"),id:"recurrence",visible:!1,active:!0,width:100,position:3,definitionType:"default"}];return e.forEach(function(e,t){var n="",r=100,a=!0;"builtin_title"===e.id?(n=i?l("calendar_views.table_table_cells.title"):s("table_view.table.cells.title"),r=200):"builtin_calendars"===e.id?(n=i?l("calendar_views.table_table_cells.calendars"):s("table_view.table.cells.calendars"),r=150):"builtin_location"===e.id?n=i?l("calendar_views.table_table_cells.where"):s("table_view.table.cells.where"):"builtin_who"===e.id?n=i?l("calendar_views.table_table_cells.who"):s("table_view.table.cells.who"):"builtin_notes"===e.id?(n=i?l("calendar_views.table_table_cells.notes"):s("table_view.table.cells.notes"),r=200):"builtin_signup"===e.id?(n=i?l("calendar_views.table_table_cells.signup"):s("table_view.table.cells.signup"),a=!1):"builtin_comments"===e.id&&(n=i?l("calendar_views.table_table_cells.comments"):s("table_view.table.cells.comments"),a=!1),o.push({label:e.name||n,id:e.id,visible:!e.hidden&&a,position:4+t,active:e.active,width:r,definitionType:e.type,typeData:e.type_data})}),o}},,function(e,t,n){var r=n(133),a=n(112);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},function(_,E,S){var k;
/*!
 * UAParser.js v0.7.20
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */
!function(a,d){"use strict";var e="undefined",t="model",n="name",r="type",i="vendor",o="version",s="architecture",l="console",u="mobile",c="tablet",f="smarttv",p="wearable",h={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:d},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(e,t){for(var n,r,a,i,o,s,l=0;l<t.length&&!o;){var u=t[l],c=t[l+1];for(n=r=0;n<u.length&&!o;)if(o=u[n++].exec(e))for(a=0;a<c.length;a++)s=o[++r],"object"==typeof(i=c[a])&&0<i.length?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):d:this[i[0]]=s?i[1].call(this,s,i[2]):d:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):d):this[i]=s||d;l+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(h.has(t[n][r],e))return"?"===n?d:n}else if(h.has(t[n],e))return"?"===n?d:n;return e}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,o],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],o],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],o],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[n,o],[/(konqueror)\/([\w\.]+)/i],[[n,"Konqueror"],o],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],o],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],o],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],o],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],o],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],o],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],o],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],o],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],o],[/(windowswechat qbcore)\/([\w\.]+)/i],[[n,"WeChat(Win) Desktop"],o],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],o],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],o],[/(qqbrowserlite)\/([\w\.]+)/i],[n,o],[/(QQ)\/([\d\.]+)/i],[n,o],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,o],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,o],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,o],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[o,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[o,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,o],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[o,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],o],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],o],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[o,[n,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[n,"Sailfish Browser"],o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,o],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],o],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],o],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],o],[/fxios\/([\w\.-]+)/i],[o,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[o,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[o,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[o,m.str,v.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[n,o],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,o]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[s,/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[s,h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[t,i,[r,c]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[i,"Apple"],[r,c]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[i,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[i,t,[r,c]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[t,[i,"Amazon"],[r,c]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[t,m.str,v.device.amazon.model],[i,"Amazon"],[r,u]],[/android.+aft([bms])\sbuild/i],[t,[i,"Amazon"],[r,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,i,[r,u]],[/\((ip[honed|\s\w*]+);/i],[t,[i,"Apple"],[r,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[i,t,[r,u]],[/\(bb10;\s(\w+)/i],[t,[i,"BlackBerry"],[r,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[t,[i,"Asus"],[r,c]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[i,"Sony"],[t,"Xperia Tablet"],[r,c]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[i,"Sony"],[r,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[i,t,[r,l]],[/android.+;\s(shield)\sbuild/i],[t,[i,"Nvidia"],[r,l]],[/(playstation\s[34portablevi]+)/i],[t,[i,"Sony"],[r,l]],[/(sprint\s(\w+))/i],[[i,m.str,v.device.sprint.vendor],[t,m.str,v.device.sprint.model],[r,u]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[i,[t,/_/g," "],[r,u]],[/(nexus\s9)/i],[t,[i,"HTC"],[r,c]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[i,"Huawei"],[r,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[i,t,[r,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[i,"Microsoft"],[r,l]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[i,"Microsoft"],[r,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[i,"Motorola"],[r,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[i,"Motorola"],[r,c]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[i,h.trim],[t,h.trim],[r,f]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[i,"Samsung"],[r,f]],[/\(dtv[\);].+(aquos)/i],[t,[i,"Sharp"],[r,f]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[i,"Samsung"],t,[r,c]],[/smart-tv.+(samsung)/i],[i,[r,f],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[i,"Samsung"],t,[r,u]],[/sie-(\w*)/i],[t,[i,"Siemens"],[r,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[i,"Nokia"],t,[r,u]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[t,[i,"Acer"],[r,c]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[i,"LG"],[r,c]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[i,"LG"],t,[r,c]],[/(lg) netcast\.tv/i],[i,t,[r,f]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[i,"LG"],[r,u]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[i,t,[r,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[i,"Lenovo"],[r,c]],[/(lenovo)[_\s-]?([\w-]+)/i],[i,t,[r,u]],[/linux;.+((jolla));/i],[i,t,[r,u]],[/((pebble))app\/[\d\.]+\s/i],[i,t,[r,p]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[i,t,[r,u]],[/crkey/i],[[t,"Chromecast"],[i,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[i,"Google"],[r,p]],[/android.+;\s(pixel c)[\s)]/i],[t,[i,"Google"],[r,c]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[t,[i,"Google"],[r,u]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[i,"Xiaomi"],[r,u]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[i,"Xiaomi"],[r,c]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[i,"Meizu"],[r,u]],[/(mz)-([\w-]{2,})/i],[[i,"Meizu"],t,[r,u]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[t,[i,"OnePlus"],[r,u]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[i,"RCA"],[r,c]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[t,[i,"Dell"],[r,c]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[i,"Verizon"],[r,c]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[i,"Barnes & Noble"],t,[r,c]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[i,"NuVision"],[r,c]],[/android.+;\s(k88)\sbuild/i],[t,[i,"ZTE"],[r,c]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[i,"Swiss"],[r,u]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[i,"Swiss"],[r,c]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[i,"Zeki"],[r,c]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[i,"Dragon Touch"],t,[r,c]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[t,[i,"Insignia"],[r,c]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[t,[i,"NextBook"],[r,c]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[i,"Voice"],t,[r,u]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[i,"LvTel"],t,[r,u]],[/android.+;\s(PH-1)\s/i],[t,[i,"Essential"],[r,u]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[i,"Envizen"],[r,c]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[i,t,[r,c]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[i,"MachSpeed"],[r,c]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[i,t,[r,c]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[i,"Rotor"],[r,c]],[/android.+(KS(.+))\s+build/i],[t,[i,"Amazon"],[r,c]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[i,t,[r,c]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,h.lowerize],i,t],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,f]],[/(android[\w\.\s\-]{0,9});.+build/i],[t,[i,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[o,[n,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,o],[/rv\:([\w\.]{1,9}).+(gecko)/i],[o,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,o],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[o,m.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[o,m.str,v.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[n,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],o],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],o],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],o],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,o],[/(haiku)\s(\w+)/i],[n,o],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[o,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[o,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,o]]},g=function(e,t){if("object"==typeof e&&(t=e,e=d),!(this instanceof g))return new g(e,t).getResult();var n=e||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),r=t?h.extend(y,t):y;return this.getBrowser=function(){var e={name:d,version:d};return m.rgx.call(e,n,r.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:d};return m.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:d,model:d,type:d};return m.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:d,version:d};return m.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:d,version:d};return m.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};g.VERSION="0.7.20",g.BROWSER={NAME:n,MAJOR:"major",VERSION:o},g.CPU={ARCHITECTURE:s},g.DEVICE={MODEL:t,VENDOR:i,TYPE:r,CONSOLE:l,MOBILE:u,SMARTTV:f,TABLET:c,WEARABLE:p,EMBEDDED:"embedded"},g.ENGINE={NAME:n,VERSION:o},g.OS={NAME:n,VERSION:o},typeof E!=e?(typeof _!=e&&_.exports&&(E=_.exports=g),E.UAParser=g):(k=function(){return g}.call(E,S,E,_))===d||(_.exports=k);var b=a&&(a.jQuery||a.Zepto);if(typeof b!=e&&!b.ua){var w=new g;b.ua=w.getResult(),b.ua.get=function(){return w.getUA()},b.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)b.ua[n]=t[n]}}}("object"==typeof window?window:this)},,function(e,t,n){"use strict";n(12),n(13),n(14),n(138),n(10),n(25),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(1),o=n(199),s=n(4),l=n(26),u=n(46),c=n(2),d=n(78),f=n(66),p=n(41);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=["login_required","reauth_required","two_factor_authentication_code_required"],w=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,y(t).call(this,e))).handleClose=function(){n.props.onClose&&n.props.onClose()},n.handleChange=function(e){var t=n.state;"_remember_me"===e.target.name?t.remember_me=e.currentTarget.checked:t[e.target.name]=e.target.value,n.setState(t)},n.onFormSubmit=function(e){e&&e.preventDefault();n.getFormValues(n.refs.form);n.state.loggingIn||(n.setState({loggingIn:!0,error:null}),o.a.getAuthenticateCsrfToken().then(function(e){o.a.login(n.state.email,n.state.password,n.state.remember_me,e.token).then(function(e){e.two_fa_needed?n.setState({error:null,loggingIn:!1,twoFaNeeded:!0}):(n.setState({error:null,loggingIn:!1}),n.handleClose())}).catch(function(e){n.setState({error:e.response.error,loggingIn:!1})})}).catch(function(e){n.setState({loggingIn:!1})}))},n.on2FaSubmit=function(e){e&&e.preventDefault();n.getFormValues(n.refs.form);n.state.loggingIn||(n.setState({loggingIn:!0,error:null}),o.a.getTwoFactorCsrfToken().then(function(e){o.a.enterTwoFaCode(n.state.code,n.state.remember_me,e.token).then(function(e){n.setState({error:null,loggingIn:!1}),n.handleClose()}).catch(function(e){n.setState({error:e.response.error,loggingIn:!1})})}).catch(function(e){n.setState({loggingIn:!1})}))},n.onKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n.onFormSubmit(e))},n.on2FaKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),n.on2FaSubmit(e))},n.state={email:"",password:"",code:"",remember_me:!1,user:null,error:null,loggingIn:!1,twoFaNeeded:"two_factor_authentication_code_required"===e.errorId,pwdNeeded:"reauth_required"===e.errorId},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,f["a"].makeFormValues()),e=t,r=[{key:"isHandled",value:function(e){return b.includes(e)}}],(n=[{key:"renderForm",value:function(){var t=this,e=this.state.error;return this.state.twoFaNeeded?a.a.createElement("form",{onSubmit:this.on2FaSubmit,onKeyDown:this.on2FaKeyDown,ref:"form"},a.a.createElement(i.a,{message:"security.two_factor.title",component:"p",section:"FOSUserBundle"}),a.a.createElement(i.a,{message:"security.two_factor.text",component:"p",section:"FOSUserBundle"}),a.a.createElement("div",{className:"visual-input"},a.a.createElement(i.a,{message:"security.two_factor.code_label",component:"label",section:"FOSUserBundle"}),a.a.createElement("div",{className:"value"},a.a.createElement(l.a,{type:"code",name:"code",defaultValue:this.state.code,onChange:this.handleChange,autoComplete:"one-time-code",tabIndex:"0",autoFocus:!0})),e&&e.message&&a.a.createElement(d.a,{text:e.message,iconClassName:"sprite-icon-alert",type:"warning"})),a.a.createElement("div",{className:"visual-input buttons"},a.a.createElement("button",{className:"btn btn__settings-ok",type:"submit",tabIndex:0},s.a.trans("FOSUserBundle:security.two_factor.finish",{})))):this.state.pwdNeeded?this.state.email?a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{message:"security.password_required.title",section:"FOSUserBundle",component:"h1"}),a.a.createElement(i.a,{message:"security.password_required.why",section:"FOSUserBundle",component:"p"}),a.a.createElement("form",{onSubmit:this.onFormSubmit,onKeyDown:this.onKeyDown,ref:"form"},a.a.createElement("div",{className:"visual-input"},a.a.createElement(i.a,{message:"form.email",component:"label",section:"FOSUserBundle"}),a.a.createElement("p",{className:"value"},this.state.email)),a.a.createElement("div",{className:"visual-input"},a.a.createElement(i.a,{message:"security.login.password",component:"label",section:"FOSUserBundle"}),a.a.createElement("div",{className:"value"},a.a.createElement(l.a,{type:"password",name:"password",defaultValue:this.state.password,onChange:this.handleChange,tabIndex:"0"})),e&&e.message&&a.a.createElement(d.a,{text:e.message,iconClassName:"sprite-icon-alert",type:"warning"})),a.a.createElement("div",{className:"visual-input buttons"},a.a.createElement("button",{className:"btn btn__settings-ok",type:"submit",tabIndex:0},s.a.trans("FOSUserBundle:security.password_required.confirm",{}))),a.a.createElement(i.a,{message:"security.login.forgot_password",params:{reset_url:c.a.getBaseUrl()+"/reset/request"},section:"FOSUserBundle",component:"p"}),a.a.createElement("p",null,a.a.createElement(i.a,{message:"layout.logout",href:c.a.getBaseUrl()+"/logout",section:"FOSUserBundle",component:"a"})))):(o.a.getUser().then(function(e){t.setState({email:e.user.email,remember_me:!0})},function(){t.setState({pwdNeeded:!1})}),null):a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{message:"security.login.session_expired",section:"FOSUserBundle",component:"p"}),a.a.createElement("form",{onSubmit:this.onFormSubmit,onKeyDown:this.onKeyDown,ref:"form"},a.a.createElement("div",{className:"visual-input"},a.a.createElement(i.a,{message:"form.email",component:"label",section:"FOSUserBundle"}),a.a.createElement("div",{className:"value"},a.a.createElement(l.a,{type:"email",name:"email",defaultValue:this.state.email,onChange:this.handleChange,tabIndex:"0",autoFocus:!0}))),a.a.createElement("div",{className:"visual-input"},a.a.createElement(i.a,{message:"security.login.password",component:"label",section:"FOSUserBundle"}),a.a.createElement("div",{className:"value"},a.a.createElement(l.a,{type:"password",name:"password",defaultValue:this.state.password,onChange:this.handleChange,tabIndex:"0"})),e&&e.message&&a.a.createElement(d.a,{text:e.message,iconClassName:"sprite-icon-alert",type:"warning"})),a.a.createElement("div",{className:"visual-input"},a.a.createElement(u.a,{type:"small",name:"_remember_me",id:"remember_me",text:"FOSUserBundle:security.login.remember_me",defaultChecked:this.state.remember_me,tabIndex:0,onChange:this.handleChange})),a.a.createElement("div",{className:"visual-input buttons"},a.a.createElement("button",{className:"btn btn__settings-ok",type:"submit",tabIndex:0},s.a.trans("FOSUserBundle:security.login.submit",{}))),a.a.createElement(i.a,{message:"security.login.forgot_password",params:{reset_url:c.a.getBaseUrl()+"/reset/request"},section:"FOSUserBundle",component:"p"})))}},{key:"render",value:function(){return a.a.createElement(p.a,{className:"modal__window-login"},a.a.createElement("section",null,a.a.createElement("div",{className:"menu"},a.a.createElement("a",{className:"button ghost close-icon",onClick:this.handleClose},a.a.createElement("i",{className:"sprite-event-close"})))),a.a.createElement("div",null,this.renderForm()))}}])&&m(e.prototype,n),r&&m(e,r),t}();t.a=w},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}},function(e,t,n){var f=n(474);e.exports=s,e.exports.parse=i,e.exports.compile=function(e,t){return r(i(e,t),t)},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=o;var S=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],a=0,i=0,o="",s=t&&t.delimiter||"/";null!=(n=S.exec(e));){var l=n[0],u=n[1],c=n.index;if(o+=e.slice(i,c),i=c+l.length,u)o+=u[1];else{var d=e[i],f=n[2],p=n[3],h=n[4],m=n[5],v=n[6],y=n[7];o&&(r.push(o),o="");var g=null!=f&&null!=d&&d!==f,b="+"===v||"*"===v,w="?"===v||"*"===v,_=n[2]||s,E=h||m;r.push({name:p||a++,prefix:f||"",delimiter:_,optional:w,repeat:b,partial:g,asterisk:!!y,pattern:E?E.replace(/([=!:$\/()])/g,"\\$1"):y?".*":"[^"+k(_)+"]+?"})}}return i<e.length&&(o+=e.substr(i)),o&&r.push(o),r}function p(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function r(c,e){for(var d=new Array(c.length),t=0;t<c.length;t++)"object"==typeof c[t]&&(d[t]=new RegExp("^(?:"+c[t].pattern+")$",m(e)));return function(e,t){for(var n="",r=e||{},a=(t||{}).pretty?p:encodeURIComponent,i=0;i<c.length;i++){var o=c[i];if("string"!=typeof o){var s,l=r[o.name];if(null==l){if(o.optional){o.partial&&(n+=o.prefix);continue}throw new TypeError('Expected "'+o.name+'" to be defined')}if(f(l)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(s=a(l[u]),!d[i].test(s))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but received `'+JSON.stringify(s)+"`");n+=(0===u?o.prefix:o.delimiter)+s}}else{if(s=o.asterisk?encodeURI(l).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):a(l),!d[i].test(s))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but received "'+s+'"');n+=o.prefix+s}}else n+=o}return n}}function k(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function h(e,t){return e.keys=t,e}function m(e){return e&&e.sensitive?"":"i"}function o(e,t,n){f(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,a=!1!==n.end,i="",o=0;o<e.length;o++){var s=e[o];if("string"==typeof s)i+=k(s);else{var l=k(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+l+u+")*"),i+=u=s.optional?s.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")"}}var c=k(n.delimiter||"/"),d=i.slice(-c.length)===c;return r||(i=(d?i.slice(0,-c.length):i)+"(?:"+c+"(?=$))?"),i+=a?"$":r&&d?"":"(?="+c+"|$)",h(new RegExp("^"+i,m(n)),t)}function s(e,t,n){return f(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(e,t):f(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(s(e[a],t,n).source);return h(new RegExp("(?:"+r.join("|")+")",m(n)),t)}(e,t,n):(r=t,o(i(e,a=n),r,a));var r,a}},function(e,t,n){"use strict";function r(e){var t,n,r,a,i,o,s,l,u=d(e,!1);if("string"==typeof u&&2<u.length)if(43===(t=(u=y(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(o=(i=u.slice(2)).length,s=0;s<o;s++)if((l=i.charCodeAt(s))<48||a<l)return NaN;return parseInt(i,r)}return+u}var a=n(33),i=n(21),o=n(108),s=n(38),l=n(31),u=n(57),c=n(205),d=n(105),f=n(20),p=n(90),h=n(110).f,m=n(91).f,v=n(37).f,y=n(246).trim,g="Number",b=i[g],w=b.prototype,_=u(p(w))==g;if(o(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var E,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(_?f(function(){w.valueOf.call(n)}):u(n)!=g)?c(new b(r(t)),n,S):r(t)},k=a?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;k.length>O;O++)l(b,E=k[O])&&!l(S,E)&&v(S,E,m(b,E));(S.prototype=w).constructor=S,s(i,g,S)}},function(e,t,n){"use strict";var r=n(231),a=n(247);e.exports=r("Set",function(t){return function(e){return t(this,arguments.length?e:void 0)}},a)},function(e,t,n){function r(s){return function(e){for(var t,n=c(e),r=u(n),a=r.length,i=0,o=[];i<a;)t=r[i++],l&&!d.call(n,t)||o.push(s?[t,n[t]]:n[t]);return o}}var l=n(33),u=n(111),c=n(54),d=n(121).f;e.exports={entries:r(!0),values:r(!1)}},function(e,t,n){var r=n(216);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(23)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,"/./"[t](n)}catch(e){}}return!1}},function(e,t,n){var r=n(388);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var u=n(459),c=n(460);e.exports=function(e,t,n,r){var a=!n;n=n||{};for(var i=-1,o=t.length;++i<o;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?c(n,s,l):u(n,s,l)}return n}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(77);var r=null;function a(e){if(e&&(!e||"user-state"==e.key)){var t=JSON.parse(e.newValue);r!==t.userId&&window.location.reload()}}window.LOGGED_USER?r=window.LOGGED_USER.userId:window.CALENDAR_SETTINGS&&window.CALENDAR_SETTINGS.loggedUser&&(r=window.CALENDAR_SETTINGS.loggedUser.userId)},function(e,t,n){"use strict";n(12),n(13),n(14),n(42),n(10),n(36),n(25),n(5),n(15),n(16),n(7),n(8),n(45),n(9);var r=n(0),a=n.n(r),i=n(158),o=n(17);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(e,a.a.Component),t=e,(n=[{key:"render",value:function(){var t=this;if("auto"===this.props.route)return this.props.routes.map(function(e){return a.a.createElement(i.b,{key:e.name,path:o.a.getRawPath(e.name),render:function(){return a.a.createElement("i",{className:e.icon})}})});var n=a.a.createElement("span",null);return this.props.routes.forEach(function(e){e.name===t.props.route&&(n=a.a.createElement("i",{className:e.icon}))}),n}}])&&l(t.prototype,n),r&&l(t,r),e}();t.a=f},function(e,t,n){"use strict";n(211),n(50),n(72),n(473),n(36),n(25),n(5),n(7),n(80),n(30),n(49);var r=n(4),i=n(24),a=n(11),f=n(279),_=n(2),p=n(267),o=n(134),s=n.n(o),l=n(104);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=r.a.partial("calendar");function S(u,a){var c="",d=encodeURIComponent;k(u,a).then(function(e){c+="mailto:?",c+="subject=",c+=d(E("event.export.reminder")+": ");var t=u.title,o=d(E("event.export.link")+": "+e+"\n"),s=E("event.export.eventExported")+"\n\n";c+=d(""!=t?t:E("event.export.event")),c+="&body=",c+=d(E("event.export.what")+": "),c+=d(t+"\n"),c+=d(E("event.export.when")+": "),c+=d(function(e,t){var n,r=e.start_dt,a=e.end_dt;if(e.all_day)return r.isSame(a,"day")?r.format(i.a.get("short_weekday_moment")):r.isSame(a,"year")?r.format(i.a.get("short_day_date_moment"))+" "+E("event.export.to")+" "+a.format(i.a.get("short_weekday_moment")):r.format(i.a.get("short_weekday_moment"))+" "+E("event.export.to")+" "+a.format(i.a.get("short_weekday_moment"));n=r.isSame(a,"day")?r.format(i.a.get("short_weekday_moment"))+" "+E("event.export.from")+" "+r.format(i.a.get("time_moment"))+" "+E("event.export.to")+" "+a.format(i.a.get("time_moment")):r.format(i.a.get("short_date_time_moment").replace("%time%",i.a.get("time_moment")))+" "+E("event.export.to")+" "+a.format(i.a.get("short_date_time_moment").replace("%time%",i.a.get("time_moment")));t.timezone&&(n=n+" ("+E("event.export.timezone")+": "+f.a.getShortString(t.timezone)+")");return n}(u,a)+"\n");var n=u.subcalendars.map(function(e){return e.name}).join(", ");if(n&&(c+=d("Calendar: "),c+=d(n+"\n")),window.fieldDefinitions&&u.custom){var r,l=[];for(r in window.fieldDefinitions.filter(function(e){return"builtin_signup"!==e.type&&"builtin_comments"!==e.type}).map(function(e){if("builtin_who"===e.type&&u.who&&l.push({label:d((e.name||E("event.export.who"))+": "),value:d(u.who+"\n")}),"builtin_location"===e.type&&u.location&&l.push({label:d((e.name||E("event.export.where"))+": "),value:d(u.location+"\n")}),"builtin_notes"===e.type&&u.notes){var t=u.notes;if(null!==t&&0<t.length){t=O(t);var n=1400-(c.length+o.length+s.length);n<t.length?l.push({label:d((e.name||E("event.export.notes"))+": \n"),value:d(t.substring(0,n).replace(/\s+(\S+)?$/,"")+" [...]\n")}):l.push({label:d((e.name||E("event.export.notes"))+": \n"),value:d(t)})}}if("single_line_text"===e.type&&u.custom[e.id]&&l.push({label:d(e.name+": "),value:d(u.custom[e.id]+"\n")}),"choices"===e.type){var r=e.type_data,a=u.custom[e.id]||[],i=p.a.listToMap(r.options);0<(a=(a=a.filter(function(e){return i[e]&&!i[e].hidden})).map(function(e){return i[e]?i[e].name:e})).length&&l.push({label:d(e.name+": "),value:d(a.join(", ")+"\n")})}}),l){if(!(c.length+o.length+s.length+l[r].value.length<=2e3))break;c+=l[r].label+l[r].value}}else u.location&&(c+=d(E("event.export.where")+": "),c+=d(u.location+"\n")),u.who&&(c+=d(E("event.export.who")+": "),c+=d(u.who+"\n"));c+=o,c+=s,window.location.href=c})}function k(e,t){var n=_.a.getBaseUrl()+"/"+t.appKey+"/events/"+e.id+"/pointer";return t.eventPointer&&void 0===window.calendarStateDefaults?Promise.resolve(document.URL):Object(a.a)("POST",n).then(function(e){return e.url})}function O(e){var t=e.replace(/\n/gi,"");t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/<h[1-6]>/gi,"")).replace(/<\/h[1-6]>/gi,"\n\n")).replace(/<p>/gi,"")).replace(/<\/p>/gi,"\n\n")).replace(/<br \/>/gi,"\n")).replace(/<\/?strong>/gi," ** ")).replace(/<\/?em>/gi," * ")).replace(/<ul>/gi,"")).replace(/<\/ul>/gi,"\n")).replace(/<ol>/gi,"")).replace(/<\/ol>/gi,"\n")).replace(/<li>/gi,"  * ")).replace(/<\/li>/gi,"\n")).replace(/<a href="mailto:(.+?)".+?<\/a>/gi,"$1")).replace(/<a href="(.+?)".+?<\/a>/gi,"$1")).replace(/<img src="(.+?)".+?>/gi,"$1");var n=document.createElement("div");return t=(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),n.innerHTML=t,t=n.innerText?n.innerText:n.textContent}function C(e){if(1100<e.length){var t=(e=e.substr(0,1099)).lastIndexOf("%");e=e.substr(0,t),e+="..."}return e}var c=[{name:"page",label:"calendar:export.menu.page",icon:"sprite-icon-page"},{name:"teamup",label:"calendar:export.menu.teamup",icon:"sprite-icon-teamup"},{name:"facebook",label:"calendar:export.menu.facebook",icon:"sprite-icon-facebook"},{name:"twitter",label:"calendar:export.menu.twitter",icon:"sprite-icon-twitter"},{name:"linkedin",label:"calendar:export.menu.linkedin",icon:"sprite-icon-linkedin"},{name:"xing",label:"calendar:export.menu.xing",icon:"sprite-icon-xing"},{name:"email",label:"calendar:export.menu.email",icon:"sprite-icon-email"},{name:"google",label:"calendar:export.menu.google",icon:"sprite-icon-google"},{name:"outlook",label:"calendar:export.menu.outlook",icon:"sprite-icon-outlook"},{name:"ical",label:"calendar:export.menu.ical",icon:"sprite-icon-apple"},{name:"yahoo",label:"calendar:export.menu.yahoo",icon:"sprite-icon-yahoo"},{name:"other",label:"calendar:export.menu.other",icon:"sprite-icon-other"}],d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"exportTo",value:function(e,t,n){switch(e){case"outlook":case"other":case"ical":g=t,w="",w+=(b=n).appBaseUrl,b.eventPointer?w+="/event/export/id/"+b.eventPointer+"/event.ics":w+="/"+b.appKey+"/events/"+g.id+".ics",b.timezone&&(w+="?tz="+encodeURIComponent(b.timezone)),b.appIdentifier&&(w+=(b.timezone?"&":"?")+"token="+encodeURIComponent(b.appIdentifier)),window.location.href=w;break;case"google":!function(e,t){var n="",r="",a=encodeURIComponent;n+="https://calendar.google.com/calendar/render?action=TEMPLATE",n+="&sprop=website:www.teamup.com",n+="&text=",n+=a(e.title),n+="&dates=",e.all_day?(n+=e.start_dt.format("YYYYMMDD"),n+="/",n+=e.end_dt.clone().add(12,"hours").startOf("day").format("YYYYMMDD")):(n+=e.start_dt.format("YYYYMMDD\\THHmmss"),n+="/",n+=e.end_dt.format("YYYYMMDD\\THHmmss"),t.timezone&&(n+="&ctz=",n+=a(t.timezone))),n+="&location=",n+=null==e.location?"":a(e.location),n+="&details=";var i=e.who;null!==i&&0<i.length&&(n+=E("event.export.who")+": ",n+=a(i+"\n\n"));var o=e.notes;null!==o&&0<o.length&&(n+=a(o=O(o))),n=C(n),r+=a("\n---\n"),r+=a(E("event.export.eventExported")),window.open(n+r,"_blank")}(t,n);break;case"yahoo":!function(e){var t="",n="",r=encodeURIComponent;t+="http://calendar.yahoo.com/?v=60&view=d&type=20",t+="&title=",t+=r(e.title),e.all_day?(t+="&st=",t+=e.start_dt.format("YYYYMMDD"),t+="&et=",t+=e.end_dt.clone().add(36,"hours").startOf("day").format("YYYYMMDD")):(t+="&st=",t+=e.start_dt.format("YYYYMMDD\\THHmmss"),t+="&et=",t+=e.end_dt.format("YYYYMMDD\\THHmmss")),t+="&in_loc=",t+=r(e.location),t+="&desc=";var a=e.who;""!=a&&(t+=E("event.export.who")+": ",t+=r(a+"\n\n"));var i=e.notes;null!==i&&0<i.length&&(t+=r(i=O(i))),t=C(t),n+=r("\n---\n"),n+=r(E("event.export.eventExported")),window.open(t+n,"_blank")}(t);break;case"email":S(t,n);break;case"twitter":m=t,v=n,y=window.open("","_blank","width=550, height=420"),k(m,v).then(function(e){y&&y.location.assign("https://twitter.com/intent/tweet?via=TeamupCalendar&url="+encodeURIComponent(e)+"&text="+encodeURIComponent(m.title))});break;case"facebook":f=t,p=n,h=window.open("","_blank","width=550, height=273"),k(f,p).then(function(e){h&&h.location.assign("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e))});break;case"linkedin":u=t,c=n,d=window.open("","_blank","width=550, height=500"),k(u,c).then(function(e){d&&d.location.assign("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e))});break;case"xing":o=t,s=n,l=window.open("","_blank","width=550, height=600"),k(o,s).then(function(e){l&&l.location.assign("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(e))});break;case"page":r=t,a=n,i=_.a.getBaseUrl()+"/"+a.appKey+"/events/"+r.id+"/pointer",window.open(i,"_blank")}var r,a,i,o,s,l,u,c,d,f,p,h,m,v,y,g,b,w}},{key:"getAvailableServices",value:function(t){return c.filter(function(e){return t.getState().effectivelyEnabledEventSharingServices[e.name]})}},{key:"exportToTeamup",value:function(e,t){var n=Object(l.b)(e,["title","all_day","rrule","location","who","notes"]);n.custom=JSON.stringify(e.custom),n.start_dt=e.start_dt.format("YYYY-MM-DD HH:mm:ss"),n.end_dt=e.end_dt.format("YYYY-MM-DD HH:mm:ss");var r=s.a.stringify(n,{skipNulls:!0}),a="anonymous"===t.type?"".concat(_.a.getBaseUrl(),"/").concat(t.token,"/events/new?").concat(r):"".concat(_.a.getBaseUrl(),"/c/").concat(t.token,"/events/new?").concat(r);window.open(a,"_blank")}}],(n=null)&&u(t.prototype,n),r&&u(t,r),e}();t.a=d},function(e,t,n){n(196),n(7),n(8),n(9);var r=n(128);e.exports=r.Map},function(e,t,n){n(395),n(7),n(8),n(9);var r=n(128);e.exports=r.Set},function(e,t,n){var r=n(19),a=n(396).values;r({target:"Object",stat:!0},{values:function(e){return a(e)}})},function(e,t,n){var r,p;(p=function(){"use strict";function r(e){var t=-e.getTimezoneOffset();return null!==t?t:0}function t(){var e=r(new Date(f.BASELINE_YEAR,0,2)),t=r(new Date(f.BASELINE_YEAR,5,2)),n=e-t;return n<0?e+",1":0<n?t+",1,s":e+",0"}function a(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),n=new Date(e,12,31,23,59,59).getTime(),r=t,a=new Date(r).getTimezoneOffset(),i=null,o=null;r<n-864e5;){var s=new Date(r),l=s.getTimezoneOffset();l!==a&&(l<a&&(i=s),a<l&&(o=s),a=l),r+=864e5}return!(!i||!o)&&{s:u(i).getTime(),e:u(o).getTime()}}function n(e){var t=function(){for(var e=[],t=0;t<p.olson.dst_rules.years.length;t++){var n=a(p.olson.dst_rules.years[t]);e.push(n)}return e}();return function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(t)?function(r,a){for(var e=function(e){for(var t=0,n=0;n<r.length;n++)if(e.rules[n]&&r[n]){if(!(r[n].s>=e.rules[n].s&&r[n].e<=e.rules[n].e)){t="N/A";break}if(t=0,t+=Math.abs(r[n].s-e.rules[n].s),t+=Math.abs(e.rules[n].e-r[n].e),f.MAX_SCORE<t){t="N/A";break}}return t=function(e,t,n,r){if("N/A"!==n)return n;if("Asia/Beirut"===t){if("Africa/Cairo"===r.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===r.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===r.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===r.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===r.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===r.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return n}(r,a,t,e)},t={},n=p.olson.dst_rules.zones,i=n.length,o=f.AMBIGUITIES[a],s=0;s<i;s++){var l=n[s],u=e(n[s]);"N/A"!==u&&(t[l.name]=u)}for(var c in t)if(t.hasOwnProperty(c))for(var d=0;d<o.length;d++)if(o[d]===c)return c;return a}(t,e):e}var f={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},u=function e(t,n,r){void 0===n&&(n=f.DAY,r=f.HOUR);for(var a=new Date(t.getTime()-n).getTime(),i=t.getTime()+n,o=new Date(a).getTimezoneOffset(),s=a,l=null;s<i-r;){var u=new Date(s);if(u.getTimezoneOffset()!==o){l=u;break}s+=r}return n===f.DAY?e(l,f.HOUR,f.MINUTE):n===f.HOUR?e(l,f.MINUTE,f.SECOND):l};return{determine:function(){var e=function(){var e,t;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(-1<t.indexOf("/")||"UTC"===t)&&0!=t.indexOf("Etc")?t:void 0}();return e||(e=p.olson.timezones[t()],void 0!==f.AMBIGUITIES[e]&&(e=n(e))),{name:function(){return e},stdTimezoneOffset:function(){return-t().split(",")[0]},timezoneOffset:function(){return-r(new Date)}}}}}()).olson=p.olson||{},p.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},p.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},void 0!==e.exports?e.exports=p:null!==n(408)&&null!=n(409)?void 0===(r=function(){return p}.apply(t,[]))||(e.exports=r):window.jstz=p},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(e,t,n){"use strict";var s=n(411);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,i){if(i!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n(12),n(13),n(14),n(138),n(10),n(5),n(15),n(16),n(7),n(406),n(249),n(8),n(9);var r=n(0),i=n.n(r),o=n(1),s=n(34),l=n(2),a=n(254),u=n(135),c=n(4);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(){function e(){return f(this,e),m(this,v(e).apply(this,arguments))}return y(e,i.a.Component),h(e,[{key:"render",value:function(){return i.a.createElement("div",{style:{padding:"5px 10px",fontSize:"13px",margin:"0"}},this.props.user.fullname)}}]),e}(),w=function(){function t(e){var n;return f(this,t),(n=m(this,v(t).call(this,e))).menuRef=null,n.showMenu=function(e){e.preventDefault(),e.stopPropagation();var t=n.menuRef.getBoundingClientRect();if(n.state.expanded)return Object(s.e)({id:"userMenu"}),void n.setState({expanded:!n.state.expanded});Object(s.e)({id:"userMenu"}),Object(s.f)({position:{x:t.right,y:t.bottom},target:n.menuRef,id:"userMenu",data:{}}),n.setState({expanded:!n.state.expanded})},n.handleOuterClick=function(e){n.setState({expanded:!1})},n.state={expanded:!1},n}return y(t,i.a.Component),h(t,[{key:"render",value:function(){var t=this;if(null===this.props.user)return i.a.createElement("div",{className:"toolbar-menu"},i.a.createElement("div",{className:"toolbar-button user-login-btn",onClick:this.showMenu,ref:function(e){t.menuRef=e}},i.a.createElement("i",{className:"sprite-icon-login"})),i.a.createElement(s.a,{className:"settings-menu",id:"userMenu"},i.a.createElement(s.c,{onClick:function(){window.location.href=l.a.getLoginUrl()}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/login"},i.a.createElement(o.a,{message:"header.user.login"}))),i.a.createElement(s.c,{onClick:function(){window.location.href=l.a.getBaseUrl()+"/register"}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/register"},i.a.createElement(o.a,{message:"header.user.register"})))));var e=null,n=this.props.user.avatarType,r="",a=Object.values(this.props.user.roles);this.props.user.calendarPasswordRequired&&(e="?token="+l.a.getAppKey()),"initial"===n&&(r="user-avatar-initial");return i.a.createElement("div",{className:"toolbar-menu"},i.a.createElement("div",{className:"toolbar-button"+("gravatar"===n?" sprite-calendar-img-avatar-header":""),onClick:this.showMenu,ref:function(e){t.menuRef=e}},i.a.createElement(u.a,{className:"note",id:"user-avatar-tooltip",component:"div",collect:function(){return{component:i.a.createElement(b,{user:t.props.user})}}},i.a.createElement("img",{src:this.props.user.avatar,className:r,alt:""}))),i.a.createElement(s.a,{className:"settings-menu",id:"userMenu"},i.a.createElement(s.c,{onClick:function(){window.open(l.a.getBaseUrl()+"/user/dashboard",window.self!==window.top?"_blank":"_self")}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/user/dashboard"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-calendar"})),i.a.createElement(o.a,{message:"header.user.dashboard"}))),i.a.createElement(s.c,{onClick:function(){window.open(l.a.getBaseUrl()+"/user/profile/edit",window.self!==window.top?"_blank":"_self")}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/user/profile/edit"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-profile"})),i.a.createElement(o.a,{message:"header.user.profile"}))),i.a.createElement(s.c,{onClick:function(){window.open(l.a.getBaseUrl()+"/user/security/devices",window.self!==window.top?"_blank":"_self")}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/user/security/devices"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-language"})),i.a.createElement(o.a,{message:"header.user.connected_devices"}))),a.includes("ROLE_ADMIN")||a.includes("ROLE_SUPPORT")||a.includes("ROLE_SALES")?[i.a.createElement(s.c,{onClick:function(){window.location.href=l.a.getBaseUrl()+"/admintool96"},key:"admin-menu"},i.a.createElement("a",{href:l.a.getBaseUrl()+"/admintool96"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-settings"})),i.a.createElement(o.a,{message:"header.user.admin"}))),i.a.createElement(s.c,{onClick:function(){window.location.href=l.a.getBaseUrl()+"/support/payments/create-invoice"},key:"create-invoice-menu"},i.a.createElement("a",{href:l.a.getBaseUrl()+"/support/payments/create-invoice"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-daily-agenda"})),i.a.createElement(o.a,{message:"header.user.create_invoice"})))]:null,i.a.createElement(s.c,{onClick:function(){window.open(l.a.getBaseUrl()+"/user/notifications",window.self!==window.top?"_blank":"_self")}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/user/notifications"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-notifications"})),i.a.createElement(o.a,{message:"header.user.email_notifications"}))),this.props.user.isAdmin?i.a.createElement(s.c,{onClick:function(){window.location.href=l.a.getBaseUrl()+"/debug"},key:"debug-menu"},i.a.createElement("a",{href:l.a.getBaseUrl()+"/debug"},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-help"})),i.a.createElement(o.a,{message:"header.user.debug"}))):null,i.a.createElement(s.c,{divider:!0}),i.a.createElement(s.c,{onClick:function(){window.location.href=l.a.getBaseUrl()+"/logout"+(e||"")}},i.a.createElement("a",{href:l.a.getBaseUrl()+"/logout"+(e||"")},i.a.createElement("span",{className:"icon-wrapper"},i.a.createElement("i",{className:"sprite-icon-logout-2"})),i.a.createElement("span",null,c.a.translate("core_js","header.user.logout")+(this.props.user?" "+this.props.user.fullname:""))))))}}]),t}();t.a=Object(a.a)(w)},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(30),n(8),n(49),n(9);var r=n(0),a=n.n(r),i=n(468),o=n(469),s=n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=c(this,d(n).call(this,e))).onHide=function(e){e.preventDefault(),t.setState({visible:!1}),t.props.onHide&&t.props.onHide(t.props.id)},t.state={visible:!0},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,a.a.Component),e=n,r=[{key:"getDerivedStateFromProps",value:function(){return{visible:!0}}}],(t=[{key:"componentDidMount",value:function(){this.scrollTop()}},{key:"componentDidUpdate",value:function(){this.scrollTop()}},{key:"scrollTop",value:function(){var e=document.getElementsByClassName("page__settings__content-right");e&&e[0]&&(e[0].scrollTop=0)}},{key:"renderCloseButton",value:function(){return this.props.dismissable?a.a.createElement("div",null,a.a.createElement("a",{href:"#",onClick:this.onHide},a.a.createElement("i",{className:"sprite-flash-close"}))):null}},{key:"render",value:function(){var e=this.state.visible?a.a.createElement(i.a,{classNames:"flash-message",timeout:{enter:500,exit:300}},a.a.createElement("section",{className:"flash-message__"+this.props.type.replace("alert","error")},a.a.createElement("div",null,a.a.createElement("i",null)),a.a.createElement(s.a,{message:this.props.message,component:"div",params:this.props.params}),this.renderCloseButton())):null;return a.a.createElement(o.a,null,e)}}])&&u(e.prototype,t),r&&u(e,r),n}();p.defaultProps={dismissable:!0,params:{}},t.a=p},function(e,t,n){"use strict";n.d(t,"a",function(){return f});n(12),n(13),n(14),n(50),n(42),n(10),n(36),n(56),n(25),n(5),n(15),n(16),n(7),n(8),n(45),n(9);var r=n(0),a=n.n(r),i=n(27),o=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function r(e){var a,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,n=u(r).call(this,e),(a=!n||"object"!==s(n)&&"function"!=typeof n?c(t):n).input=null,a.dropdown=null,a.options=[],a.filterTimeout=null,a.focusTime=0,a.checkForOuterClick=function(e){for(var t=e.target,n=50;t;){if(t===o.a.findDOMNode(c(a)))return;if(!--n)return;t=t.parentNode}a.handleOuterClick(e)},a.resetState=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.props,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];a.options=e.options;var n=a.getDefaultSelectedItem(e.value);a.setState({selected:n,focused:t,filterValue:null}),a.input&&(a.input.value=a.getValueLabel(e.value))},a.onFocus=function(e){a.resetState(a.props,!0),a.focusTime=(new Date).getTime()},a.onBlur=function(e){if((new Date).getTime()-a.focusTime<300){var t=e.currentTarget;a.state.filterValue===t.value||null===a.state.filterValue&&t.value===a.getValueLabel()||a.filter(t.value,!1),a.handleOuterClick()}},a.onKeyUp=function(e){var t=e.target;9!=e.keyCode?a.state.filterValue===t.value||null===a.state.filterValue&&t.value===a.getValueLabel()||a.filter(t.value):t.select()},a.filter=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];a.filterTimeout&&clearTimeout(a.filterTimeout);var n=a.props.filterOptions(a.props.options,e);if(0!==n.length||!0!==t){a.options=n;var r=a.getDefaultSelectedItem();a.setState({filterValue:e,selected:r})}else a.filterTimeout=window.setTimeout(function(){a.filter(e,!1)},600)},a.onKeyDown=function(e){if(13==e.keyCode&&-1!==a.state.selected&&(e.preventDefault(),e.stopPropagation(),a.selectValueFromInput(),a.input&&a.input.focus()),9!=e.keyCode){if(27==e.keyCode)return a.resetState(),void(a.input&&a.input===document.activeElement&&a.input.blur());38!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),a.setState({selected:a.state.selected<=0?a.options.length-1:a.state.selected-1},a.scrollItemIntoView)),40!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),a.setState({selected:(a.state.selected+1)%a.options.length},a.scrollItemIntoView)),a.state.focused||37===e.keyCode||39===e.keyCode||a.setState({focused:!0})}else-1!==a.state.selected&&a.selectValueFromInput()},a.selectValue=function(e){a.props.onChange&&a.props.onChange(e),a.setState({focused:!1})},a.selectValueFromInput=function(){0<a.options.length?a.selectValue(a.options[a.state.selected].value):(a.input&&(a.input.value=a.getValueLabel()),a.setState({focused:!1}))},a.handleOuterClick=function(){a.input&&a.input.value!==a.getValueLabel()&&a.selectValueFromInput(),a.setState({focused:!1})},a.handleOptionClick=function(e,t){a.selectValue(t.value),a.input&&a.input.focus()},a.setDropdownRef=function(e){(a.dropdown=e)&&a.scrollItemIntoView()},a.scrollItemIntoView=function(){if(a.dropdown&&-1!==a.state.selected){var e=a.dropdown;e.scrollIntoViewIfNeeded?e.childNodes[a.state.selected].scrollIntoViewIfNeeded():e.childNodes[a.state.selected].scrollIntoView(!1)}},a.getDefaultSelectedItem=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.props.value,r=0;return a.options.forEach(function(e,t){e.value===n&&(r=t)}),r},a.getValueLabel=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.props.value,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.props.options,r="";return e.forEach(function(e,t){e.value===n&&(r=e.label)}),r},a.state={focused:!1,filterValue:null,selected:-1},a}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,a.a.Component),e=r,(t=[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.checkForOuterClick,!0)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.checkForOuterClick,!0)}},{key:"UNSAFE_componentWillMount",value:function(){this.resetState()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.value!==this.props.value&&(this.resetState(e),this.input&&(this.input.value=this.getValueLabel(e.value,e.options)))}},{key:"renderDropdown",value:function(){var n=this;return 0==this.options.length?a.a.createElement("div",{className:"select-dropdown no-result"},a.a.createElement("span",null,this.props.noResultText)):a.a.createElement("div",{className:"select-dropdown",ref:this.setDropdownRef},this.options.map(function(t,e){return a.a.createElement("div",{className:"select-option"+(t.value==n.props.value?" active":"")+(e==n.state.selected?" selected":""),"data-value":t.value,key:t.value+";"+t.label,onClick:function(e){n.handleOptionClick(e,t)}},t.label)}))}},{key:"render",value:function(){var t=this,e="select-widget-input"+(this.props.inputClassName?" "+this.props.inputClassName:"")+(this.state.focused?" is-open":"");return a.a.createElement("div",{className:"select-widget "+this.props.className},a.a.createElement("input",{type:"text",name:this.props.name,className:e,ref:function(e){t.input=e},defaultValue:this.getValueLabel(this.props.value),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){t.setState({focused:!0})},required:this.props.required,placeholder:this.props.placeholder,autoComplete:this.props.autoComplete,tabIndex:this.props.tabIndex?this.props.tabIndex:0}),this.state.focused&&this.renderDropdown())}}])&&l(e.prototype,t),n&&l(e,n),r}();f.defaultProps={className:"",inputClassName:""}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});n(12),n(13),n(14),n(50),n(42),n(62),n(10),n(36),n(56),n(25),n(5),n(15),n(16),n(7),n(30),n(55),n(8),n(139),n(382),n(45),n(9);var r=n(0),a=n.n(r),i=n(27),o=n.n(i),s=n(4),l=n(477),u=n(277),c=n(39);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=p(this,h(t).call(this,e))).ref=null,r.clear=function(){r.ref.setValue([])},r.onChange=function(e){var t;r.props.onChange&&(t=function(){r.props.onChange&&r.props.onChange(r.getValue())}),r.props.multi?r.setState({values:e},t):(r.setState({value:e[e.length-1]},t),r.ref&&r.ref.closeMenu()),r.updateSelectHeight()},r.updateSelectHeight=function(){if(r.ref){var t=o.a.findDOMNode(r.ref);t&&setTimeout(function(){var e=t.querySelectorAll(".Select-control")[0].clientHeight;t.style.height=(e+1).toString()+"px"})}},r.filterOptions=function(e,t){var n=r.getUsableOptions();if(e){var i=e.split("");n=n.filter(function(e){for(var t,n,r=0,a=i.length;r<a;r++){if(-1===(n=e.normalized.indexOf(i[r],t)))return!1;t=n+1}return!0}),r.updateSelectHeight(),t(null,{options:n}),r.props.onKeyUp&&r.props.onKeyUp()}else t(null,{options:n})},r.renderOptionText=function(e){return e.emoji?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(u.b)(Object(c.b)(e.emoji))+" "+Object(c.b)(e.label)}}):e.avatar?a.a.createElement("div",{className:"member-picker__avatar"},a.a.createElement("span",{className:"member-picker__avatar__img "+(e.avatar.startsWith("data:image/")?"sprite-calendar-img-avatar-initial":"sprite-settings-img-avatar")},a.a.createElement("img",{src:e.avatar})),a.a.createElement("span",{className:"member-picker__avatar__label"},Object(c.b)(e.label+(e.email?", "+e.email:"")))):e.label},r.state=r.extractValuesFromIds(r.props.defaultValue),r}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a.a.Component),e=t,(n=[{key:"getValue",value:function(){return(this.props.multi&&this.state.values?this.state.values:this.state.value?[this.state.value]:[]).map(function(e){return e.value})}},{key:"extractValuesFromIds",value:function(e){var r=this.getAllOptions(),a=[];if(e.forEach(function(e){for(var t=0,n=r.length;t<n;t++)if(r[t].value==e){a.push(r[t]);break}}),this.props.multi){var t=a.filter(function(e){return!e.clearableValue});return{values:a,resetValue:t}}return{value:a[0],resetValue:null}}},{key:"getAllOptions",value:function(){var n=this,r=[];return this.props.resources.forEach(function(e){var t={value:e.id,label:e.name,title:e.name,emoji:e.emoji,avatar:e.avatar,normalized:e.name?e.name.toLowerCase():"",className:"cal-bg-"+e.color,clearableValue:!!n.props.showAll||!e.readonly,readonly:e.readonly,visible:e.visible};e.email&&(t.email=e.email),r.push(t)}),r}},{key:"getUsableOptions",value:function(){var t=this,n=[];return this.props.multi&&this.state.values?this.state.values.forEach(function(e){n.push(e.value)}):this.state.value&&n.push(this.state.value.value),this.getAllOptions().filter(function(e){return(t.props.showAll||!e.readonly)&&-1===n.indexOf(e.value)})}},{key:"render",value:function(){var t=this;return setTimeout(function(){t.updateSelectHeight()},10),a.a.createElement(l.a,{disabled:!this.props.editable,loadOptions:this.filterOptions,options:this.getUsableOptions(),filterOptions:function(e){return e},className:"calendarpicker"+(this.props.required?" required":"")+(this.props.className?" "+this.props.className:""),onChange:this.onChange,onInputChange:function(e){return t.updateSelectHeight(),e},onBlurResetsInput:!1,autoBlur:!1,autosize:!0,clearable:this.props.clearable,required:this.props.required,multi:!0,cache:!1,resetValue:this.state.resetValue,optionRenderer:this.renderOptionText,valueRenderer:this.renderOptionText,placeholder:s.a.translate(this.props.placeholderSection||"core_js",this.props.placeholderMessage||"calendar_picker.placeholder",this.props.placeholderParams||{}),value:this.props.multi?this.state.values:this.state.value,noResultsText:this.props.searchPromptText,ref:function(e){t.ref=e?e.select:null},tabIndex:this.props.tabIndex?this.props.tabIndex:0})}}])&&f(e.prototype,n),r&&f(e,r),t}();v.defaultProps={clearable:!0,showAll:!1,required:!1,className:""}},function(e,t,n){var r=n(93),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,n){"use strict";var m=n(103),v=n(52),y=n(252),g=n(251),b=n(51),w=n(266),_=n(222);e.exports=function(e,t,n){var r,a,i,o,s,l=v(e),u="function"==typeof this?this:Array,c=arguments.length,d=1<c?t:void 0,f=void 0!==d,p=0,h=_(l);if(f&&(d=m(d,2<c?n:void 0,2)),null==h||u==Array&&g(h))for(a=new u(r=b(l.length));p<r;p++)w(a,p,f?d(l[p],p):l[p]);else for(s=(o=h.call(l)).next,a=new u;!(i=s.call(o)).done;p++)w(a,p,f?y(o,d,[i.value,p],!0):i.value);return a.length=p,a}},function(e,t,n){var r=n(21),a=n(246).trim,i=n(210),o=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==o(i+"08")||22!==o(i+"0x16");e.exports=l?function(e,t){var n=a(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){var r=n(84),a=n(388),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(295);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var o=n(47),s=/"/g;e.exports=function(e,t,n,r){var a=String(o(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),i+">"+a+"</"+t+">"}},function(e,t,n){var r=n(20);e.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length})}},function(e,t,n){"use strict";e.exports=n(475)},function(e,t,n){var r,a;window,e.exports=(r=n(0),a=n(27),function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=a},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var a=s.apply(null,n);a&&e.push(a)}else if("object"==r)for(var i in n)o.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(7),a=r.default,i=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=i},function(e,t,n){"use strict";var s=n(6);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,i){if(i!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),v=n.n(r),a=n(0),i=n.n(a),o=n(2),l=n.n(o),s=n(3),y=n.n(s);function u(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function c(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function d(e){return"number"==typeof e&&!isNaN(e)}function f(e){return parseInt(e,10)}function p(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var h=["Moz","Webkit","O","ms"];function g(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<h.length;n++)if(g(e,h[n])in t)return h[n];return""}();function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _="";function E(t,e){return _=_||u(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return c(t[e])}),!!c(t[_])&&t[_](e)}function S(e,t,n){var r=e;do{if(E(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function k(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function O(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function C(e,t,n){var r=e.x,a=e.y,i="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var o="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(o,", ").concat(s,")")+i}return i}function D(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function T(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&u(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&u(e.changedTouches,function(e){return t===e.identifier})}(e,t):null;if("number"==typeof t&&!r)return null;var a=j(n);return function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}(r||e,n.props.offsetParent||a.offsetParent||a.ownerDocument.body,n.props.scale)}function x(e,t,n){var r=e.state,a=!d(r.lastX),i=j(e);return a?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function P(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function j(e){var t=l.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},V=F.mouse,U=function(){function i(){var e,f,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=(e=A(i)).call.apply(e,[this].concat(r)),f=!t||"object"!==M(t)&&"function"!=typeof t?L(this):t,I(L(f),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),I(L(f),"handleDragStart",function(e){if(f.props.onMouseDown(e),!f.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=l.a.findDOMNode(L(f));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=t.ownerDocument;if(!(f.props.disabled||!(e.target instanceof n.defaultView.Node)||f.props.handle&&!S(e.target,f.props.handle,t)||f.props.cancel&&S(e.target,f.props.cancel,t))){var r=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);f.setState({touchIdentifier:r});var a=T(e,r,L(f));if(null!=a){var i=a.x,o=a.y,s=x(L(f),i,o);f.props.onStart,!1!==f.props.onStart(e,s)&&(f.props.enableUserSelectHack&&function(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}(n),f.setState({dragging:!0,lastX:i,lastY:o}),k(n,V.move,f.handleDrag),k(n,V.stop,f.handleDragStop))}}}),I(L(f),"handleDrag",function(e){"touchmove"===e.type&&e.preventDefault();var t=T(e,f.state.touchIdentifier,L(f));if(null!=t){var n,r,a,i=t.x,o=t.y;if(Array.isArray(f.props.grid)){var s=i-f.state.lastX,l=o-f.state.lastY,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((n=f.props.grid,r=s,a=l,[Math.round(r/n[0])*n[0],Math.round(a/n[1])*n[1]]),2);if(s=u[0],l=u[1],!s&&!l)return;i=f.state.lastX+s,o=f.state.lastY+l}var c=x(L(f),i,o);if(!1!==f.props.onDrag(e,c))f.setState({lastX:i,lastY:o});else try{f.handleDragStop(new MouseEvent("mouseup"))}catch(e){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.handleDragStop(d)}}}),I(L(f),"handleDragStop",function(e){if(f.state.dragging){var t=T(e,f.state.touchIdentifier,L(f));if(null!=t){var n=t.x,r=t.y,a=x(L(f),n,r),i=l.a.findDOMNode(L(f));i&&f.props.enableUserSelectHack&&D(i.ownerDocument),f.setState({dragging:!1,lastX:NaN,lastY:NaN}),f.props.onStop(e,a),i&&(O(i.ownerDocument,V.move,f.handleDrag),O(i.ownerDocument,V.stop,f.handleDragStop))}}}),I(L(f),"onMouseDown",function(e){return V=F.mouse,f.handleDragStart(e)}),I(L(f),"onMouseUp",function(e){return V=F.mouse,f.handleDragStop(e)}),I(L(f),"onTouchStart",function(e){return V=F.touch,f.handleDragStart(e)}),I(L(f),"onTouchEnd",function(e){return V=F.touch,f.handleDragStop(e)}),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,v.a.Component),N(i.prototype,[{key:"componentWillUnmount",value:function(){var e=l.a.findDOMNode(this);if(e){var t=e.ownerDocument;O(t,F.mouse.move,this.handleDrag),O(t,F.touch.move,this.handleDrag),O(t,F.mouse.stop,this.handleDragStop),O(t,F.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&D(t)}}},{key:"render",value:function(){return v.a.cloneElement(v.a.Children.only(this.props.children),{style:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach(function(e){w(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({touchAction:"none"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),i}();function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(n,!0).forEach(function(e){J(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}I(U,"displayName","DraggableCore"),I(U,"propTypes",{allowAnyClick:i.a.bool,disabled:i.a.bool,enableUserSelectHack:i.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.a.arrayOf(i.a.number),handle:i.a.string,cancel:i.a.string,onStart:i.a.func,onDrag:i.a.func,onStop:i.a.func,onMouseDown:i.a.func,scale:i.a.number,className:p,style:p,transform:p}),I(U,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),n.d(t,"default",function(){return Q}),n.d(t,"DraggableCore",function(){return U});var Q=function(){function n(e){var u,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=z(n).call(this,e),u=!t||"object"!==Y(t)&&"function"!=typeof t?G(this):t,J(G(u),"onDragStart",function(e,t){if(!1===u.props.onStart(e,P(G(u),t)))return!1;u.setState({dragging:!0,dragged:!0})}),J(G(u),"onDrag",function(e,t){if(!u.state.dragging)return!1;var n=P(G(u),t),r={x:n.x,y:n.y};if(u.props.bounds){var a=r.x,i=r.y;r.x+=u.state.slackX,r.y+=u.state.slackY;var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var a=j(e);if("string"==typeof r){var i,o=a.ownerDocument,s=o.defaultView;if(!((i="parent"===r?a.parentNode:o.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=s.getComputedStyle(a),u=s.getComputedStyle(i);r={left:-a.offsetLeft+f(u.paddingLeft)+f(l.marginLeft),top:-a.offsetTop+f(u.paddingTop)+f(l.marginTop),right:function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=f(n.paddingLeft),t-=f(n.paddingRight)}(i)-function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=f(n.borderLeftWidth),t+=f(n.borderRightWidth)}(a)-a.offsetLeft+f(u.paddingRight)-f(l.marginRight),bottom:function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=f(n.paddingTop),t-=f(n.paddingBottom)}(i)-function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=f(n.borderTopWidth),t+=f(n.borderBottomWidth)}(a)-a.offsetTop+f(u.paddingBottom)-f(l.marginBottom)}}return d(r.right)&&(t=Math.min(t,r.right)),d(r.bottom)&&(n=Math.min(n,r.bottom)),d(r.left)&&(t=Math.max(t,r.left)),d(r.top)&&(n=Math.max(n,r.top)),[t,n]}(G(u),r.x,r.y),2),s=o[0],l=o[1];r.x=s,r.y=l,r.slackX=u.state.slackX+(a-r.x),r.slackY=u.state.slackY+(i-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-u.state.x,n.deltaY=r.y-u.state.y}if(!1===u.props.onDrag(e,n))return!1;u.setState(r)}),J(G(u),"onDragStop",function(e,t){if(!u.state.dragging)return!1;if(!1===u.props.onStop(e,P(G(u),t)))return!1;var n={dragging:!1,slackX:0,slackY:0};if(Boolean(u.props.position)){var r=u.props.position,a=r.x,i=r.y;n.x=a,n.y=i}u.setState(n)}),u.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:W({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(n,v.a.Component),q(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:W({},n)}}}]),q(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&l.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,i=t.defaultClassNameDragging,o=t.defaultClassNameDragged,s=t.position,l=t.positionOffset,u=(t.scale,function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),c={},d=null,f=!Boolean(s)||this.state.dragging,p=s||r,h={x:function(e){return"both"===e.props.axis||"x"===e.props.axis}(this)&&f?this.state.x:p.x,y:function(e){return"both"===e.props.axis||"y"===e.props.axis}(this)&&f?this.state.y:p.y};this.state.isElementSVG?d=function(e,t){return C(e,t,"")}(h,l):c=function(e,t){var n=C(e,t,"px");return w({},g("transform",b),n)}(h,l);var m=y()(n.props.className||"",a,(J(e={},i,this.state.dragging),J(e,o,this.state.dragged),e));return v.a.createElement(U,H({},u,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),v.a.cloneElement(v.a.Children.only(n),{className:m,style:W({},n.props.style,{},c),transform:d}))}}]),n}();J(Q,"displayName","Draggable"),J(Q,"propTypes",W({},U.propTypes,{axis:i.a.oneOf(["both","x","y","none"]),bounds:i.a.oneOfType([i.a.shape({left:i.a.number,right:i.a.number,top:i.a.number,bottom:i.a.number}),i.a.string,i.a.oneOf([!1])]),defaultClassName:i.a.string,defaultClassNameDragging:i.a.string,defaultClassNameDragged:i.a.string,defaultPosition:i.a.shape({x:i.a.number,y:i.a.number}),positionOffset:i.a.shape({x:i.a.oneOfType([i.a.number,i.a.string]),y:i.a.oneOfType([i.a.number,i.a.string])}),position:i.a.shape({x:i.a.number,y:i.a.number}),className:p,style:p,transform:p})),J(Q,"defaultProps",W({},U.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))},function(n,e,t){"use strict";(function(e){var t="__global_unique_id__";n.exports=function(){return e[t]=(e[t]||0)+1}}).call(this,t(159))},function(e,t,n){"use strict";var r=n(424),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function f(e){return r.isMemo(e)?i:o[e.$$typeof]||a}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var p=Object.defineProperty,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(g){var a=y(n);a&&a!==g&&e(t,a,r)}var i=h(n);m&&(i=i.concat(m(n)));for(var o=f(t),s=f(n),l=0;l<i.length;++l){var u=i[l];if(!(d[u]||r&&r[u]||s&&s[u]||o&&o[u])){var c=v(n,u);try{p(t,u,c)}catch(e){}}}}return t}},,,,function(e,t,n){var r=n(309),a=n(443),i=n(445);e.exports=function(e,t){return i(a(e,t,r),e+"")}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(11),o=n(2),s=n(94);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=c(this,d(t).call(this,e))).exitImpersonation=function(e){var t=(n.props.redirectUrl||window.location.href)+"?"+n.props.switchUserParameter+"=_exit";s.a.isImpersonated().then(function(e){e.is_impersonated?Object(i.a)("GET",t).then(function(e){window.location.reload()}).catch(function(e){"account_no_permission"===e.response.error.id&&window.location.reload()}):window.location.reload()})},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a.a.Component),e=t,(n=[{key:"render",value:function(){var e=o.a.getLoggedInUser();return e?a.a.createElement("div",{id:"react-impersonate-msg-ct",className:"app-msg-wrapper"},a.a.createElement("div",{id:"react-app-msg",className:"visible red-msg"},a.a.createElement("span",null,"View calendar as ",e.fullname,". "),a.a.createElement("a",{onClick:this.exitImpersonation},"Exit impersonation"))):null}}])&&u(e.prototype,n),r&&u(e,r),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return S});n(12),n(13),n(14),n(42),n(62),n(10),n(72),n(473),n(301),n(56),n(25),n(35),n(5),n(15),n(16),n(7),n(80),n(30),n(55),n(8),n(49),n(139),n(276),n(45),n(9);var r=n(0),a=n.n(r),i=n(1),s=n(4),o=n(383),l=n(41),u=n(44),c=n(315),d=n.n(c),f=n(11),p=n(2),h=n(389),m=n.n(h),v=n(18),y=n(39);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=w(this,_(t).call(this,e))).initializeTinyMCE=function(e){e.on("change",function(){tinymce.triggerSave()}),e.on("blur",function(){tinymce.triggerSave()}),e.on("click",function(e){e.target&&e.target.href&&o.isUrl(e.target.href)&&window.open(e.target.href,"_blank")}),e.on("init",function(e){var t=o.props.id,n=document.getElementById(t),r=document.getElementById(t+"_ifr");r&&n&&n.hasAttribute("tabIndex")&&r.setAttribute("tabIndex",n.getAttribute("tabIndex"))}),e.on("change",function(){e.save(),o.props.onChange&&o.props.onChange(e.getContent())}),"about"!==o.props.editorType&&(e.ui.registry.addButton("dropbox",{tooltip:s.a.translate("calendar","event.editor.wysiwyg.tooltipDropboxBtn"),icon:"event-tinymce-dropbox",subtype:"teamup-btn",onAction:function(){(window.Dropbox?Promise.resolve(!0):new Promise(function(e,t){var n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.async=!0,n.onload=e,n.onerror=t,n.src="https://www.dropbox.com/static/api/2/dropins.js",n.setAttribute("id","dropboxjs"),n.setAttribute("data-app-key","omzm8ln1bgn2142"),r.parentNode.insertBefore(n,r)})).then(function(){void 0===window.Dropbox&&o.alert("Dropbox has failed to load or is not yet initialized. Please try again in a few moments."),window.Dropbox.choose({success:o.insertDropboxFile,linkType:"preview",multiselect:!1})})}}),window.CALENDAR_SETTINGS&&window.CALENDAR_SETTINGS.filestack&&window.CALENDAR_SETTINGS.filestack.key&&e.ui.registry.addButton("upload",{tooltip:s.a.translate("calendar","event.editor.wysiwyg.tooltipFilestackBtn"),icon:"event-tinymce-upload",subtype:"teamup-btn",onAction:o.startImageUpload})),o.props.onInit&&o.props.onInit(e),o.forceUpdate()},o.insertDropboxFile=function(e){o.tinyMceApi.focus();var t=e[0].name,n=t.lastIndexOf("."),r="",a="File Name";if(0===n?a=t.slice(1):0<n?(a=t.slice(0,n),r=t.slice(n)):0<t.length&&(a=t),".png"===(r=r.toLowerCase())||".jpg"===r||".jpeg"===r||".gif"===r){var i=e[0].link.replace("//www.","//dl.");o.tinyMceApi.selection.setContent('<img src="'+i+'" />')}else o.tinyMceApi.selection.setContent('<a href="'+e[0].link+'" target="_blank" />'+a+"</a>")},o.makeFilepickerRequest=function(t,n){Object(f.a)("GET",o.getBaseUrl()+"/upload/create-signature/attachments").then(function(e){t.then(function(){window.filepicker.setKey(window.CALENDAR_SETTINGS.filestack.key),window.filepicker.pickAndStore({mimetypes:["image/*","text/*","application/*"],policy:e.policy,signature:e.signature,language:window.APP_LANGUAGE,services:["COMPUTER","URL","WEBCAM","DROPBOX","IMAGE_SEARCH","FTP","FLICKR","GOOGLE_DRIVE","IMGUR","INSTAGRAM","SKYDRIVE","BOX"],multiple:!0},{location:"s3",container:window.CALENDAR_SETTINGS.filestack.uploadBucket,region:window.CALENDAR_SETTINGS.filestack.uploadRegion,path:window.CALENDAR_SETTINGS.appId+"/"},function(e){var t=[];e.forEach(function(e){e.key=o.encodeS3Key(e.key),-1<e.mimetype.indexOf("image/")&&!0,t.push(e)}),o.setState({filestackFiles:t})},function(e){console.log(e.toString())})},n)},n)},o.makeFiletackRequest=function(e,n){Object(f.a)("GET",o.getBaseUrl()+"/upload/create-signature/attachments").then(function(t){e.then(function(){var e={fromSources:["local_file_system","dropbox","googledrive","onedrive","facebook","instagram","box","imagesearch"],maxFiles:10,maxSize:20971520,storeTo:{location:"s3",container:window.CALENDAR_SETTINGS.filestack.uploadBucket,region:window.CALENDAR_SETTINGS.filestack.uploadRegion,path:window.CALENDAR_SETTINGS.appId+"/"},customText:{"File {displayName} is too big. The accepted file size is less than {roundFileSize}":s.a.translate("calendar","event.editor.wysiwyg.uploadLimit",{max_size:"20"})},onFileSelected:function(e){return Object.assign(Object.assign({},e),{name:Object(y.a)(e.filename)})},onUploadDone:function(e){o.setState({filestackFiles:e.filesUploaded}),0<e.filesFailed.length&&console.error&&console.error("Failed to upload",e.filesFailed)},onFileUploadFailed:function(e,t){var n;console.error&&console.error("Failed to upload",e,t),n=20971520<e.size?s.a.translate("calendar","event.editor.wysiwyg.uploadLimit",{max_size:"20"}):t.status,o.setState({filestackUploadError:n},function(){v.a.flashStatus(n,"error")})}};window.filestack.init(window.CALENDAR_SETTINGS.filestack.key,{security:{policy:t.policy,signature:t.signature}}).picker(e).open()},n)},n)},o.startImageUpload=function(){var e,t=m()().browser.name,u="IE"==t?"//api.filepicker.io/v2/filepicker.js":"//static.filestackapi.com/filestack-js/3.x.x/filestack.min.js";if(!0!==window.CALENDAR_SETTINGS.licenseFeatures.file_upload||window.CALENDAR_SETTINGS.licenseFeatures.file_storage<=0)o.alert("calendar:event.editor.wysiwyg.requiredPremiumTitle","calendar:event.editor.wysiwyg.requiredPremiumText");else{e="IE"!==t&&!window.filestack||"IE"==t&&!window.filepicker?new Promise(function(s,l){!function(e){var t=e.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===e.location.protocol?"https:":"http:")+u,t.onload=s,t.onerror=l;var n=e.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);for(var r={_queue:[]},a="pick,pickMultiple,pickAndStore,read,write,writeUrl,export,convert,store,storeUrl,remove,stat,setKey,constructWidget,makeDropPane".split(","),i=function(r,a){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.push([r,t])}},o=0;o<a.length;o++)r[a[o]]=i(a[o],r._queue);window.filestack=r}(document)}):Promise.resolve(!0);var n=function(){o.alert("calendar:event.editor.wysiwyg.connectionNotAvailable")};"IE"==t?o.makeFilepickerRequest(e,n):o.makeFiletackRequest(e,n)}},o.handleLangUpdate=function(){o.forceUpdate()},o.commitChanges=function(){o.props.commitChanges(o.tinyMceApi.getContent())},o.cancelChanges=function(){o.props.cancelChanges()},o.state={},o}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a.a.Component),e=t,(n=[{key:"alert",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:void 0;this.setState({showAlert:!0,alertTitle:e,alertMessage:n})}},{key:"focus",value:function(){this.tinyMceApi&&(this.tinyMceApi.execCommand("mceAutoResize"),this.tinyMceApi.focus())}},{key:"insertUploadedImages",value:function(r,e){var a=this;this.setState({filestackFiles:null}),0<e.length?Object(f.a)("POST",this.getBaseUrl()+"/upload/save-document",e).then(function(e){var t,n;e.files.forEach(function(e){t=window.CALENDAR_SETTINGS.filestack.s3_base_url+e.key,n=e.originalFile&&e.originalFile.name?e.originalFile.name:decodeURIComponent(e.filename),"img"==r?-1<e.mimetype.indexOf("image/")?a.tinyMceApi.execCommand("mceInsertContent",!1,'<img src="'+t+'" alt="'+n+'" style="float: left;" /> &nbsp; '):a.tinyMceApi.execCommand("mceInsertContent",!1,'<a href="'+t+'">'+n+"</a> &nbsp; "):a.tinyMceApi.execCommand("mceInsertContent",!1,'<a href="'+t+'">'+n+"</a> ")})},function(e){a.alert(e.response.error.title||"Connection failed",e.response.error.message)}):console.log("Upload failed",this.state.filestackUploadError)}},{key:"isUrl",value:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}},{key:"getBaseUrl",value:function(){return p.a.getAppKey()?p.a.getBaseUrl()+"/"+p.a.getAppKey():p.a.getBaseUrl()+"/events/pointer/"+window.EVENT_POINTER}},{key:"encodeS3Key",value:function(e){var t=e.split("/"),n=encodeURIComponent(t[t.length-1]);return t[t.length-1]=n,t.join("/")}},{key:"componentDidMount",value:function(){var n=this;this.componentIsMounted=!0,function(e){if(window.tinymce)return e();if(!window.tinyMceSrc)throw new Error("window.tinyMceSrc must be defined in the template, or tinyMCE should be part of the build.");d()(window.tinyMceSrc,e)}(function(){if(n.componentIsMounted){var e={language:p.a.getLanguage(),content_css:p.a.getResourcesUrl()+"/tinymce.css",autoresize_min_height:100,autoresize_bottom_margin:0,browser_spellcheck:!0,convert_urls:!1,entity_encoding:"raw",image_advtab:!0,menubar:!1,toolbar:!1,relative_urls:!1,statusbar:!1,auto_focus:n.props.autoFocus,toolbar_items_size:"small",image_dimensions:!1,tabfocus_elements:":prev,:next",min_height:100,paste_preprocess:function(e,t){var n=/<img[^>]+src="data:image\/([^">]+)/g.exec(t.content);n&&n.input&&(t.content=t.content.replace(n.input,"<strong>Sorry, pasting of images is not supported. Please use the file upload feature to insert images.</strong>"))},setup:n.initializeTinyMCE,valid_elements:"strong/b,em/i,strike,del,#p,-ol,-ul,-li,br,-h1,-h2,-h3",branding:!1,formats:{strikethrough:{inline:"del"}},icons:"teamup_icons"},t="autolink autoresize lists tabfocus paste link teamuplinknewtab";"about"==n.props.editorType?(e.plugins=t,e.contextmenu="image teamuplinknewtab",e.toolbar="bold italic | link unlink | bullist numlist",e.valid_elements+=",a[href|target|rel]",e.default_link_target="_blank"):("comment"==n.props.editorType?(e.plugins=t+" image code",e.contextmenu="image teamuplinknewtab",e.toolbar="undo redo | bold italic strikethrough | bullist numlist | link unlink | image  dropbox  upload | code"):(e.plugins=t+" image code",e.contextmenu="image teamuplinknewtab",e.toolbar="undo redo | bold italic strikethrough | bullist numlist | formatselect | link unlink | image  dropbox  upload | code | alignleft aligncenter alignright"),e.block_formats=s.a.translate("calendar","event.editor.wysiwyg.blockFormats"),e.valid_elements+=",a[href|target:_blank|rel|title],img[src|title|alt|width|height|style],p[style],li[style],h1[style],h2[style],h3[style]",e.target_list=!1),n.tinyMceApi=new tinymce.Editor(n.props.id,e,tinymce.EditorManager),n.tinyMceApi.render()}}),u.a.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){if(this.tinyMceApi)try{this.tinyMceApi.remove()}catch(e){console.log("Handled error from tinyMCE, probably can be ignored"),console.error(e)}this.componentIsMounted=!1,u.a.unlisten(this.handleLangUpdate)}},{key:"renderFilestackSelector",value:function(){var e=this;if(this.state.filestackFiles){var t="link";if(this.state.filestackFiles.forEach(function(e){e.mimetype&&-1<e.mimetype.indexOf("image/")&&(t="img")}),"link"!=t)return a.a.createElement(l.a,{title:"calendar:event.editor.wysiwyg.uploadWinTitle",message:"calendar:event.editor.wysiwyg.uploadWinText",yesText:"calendar:event.editor.wysiwyg.uploadWinBtnImg",noText:"calendar:event.editor.wysiwyg.uploadWinBtnLink",onYes:function(){e.insertUploadedImages("img",e.state.filestackFiles)},onNo:function(){e.insertUploadedImages("link",e.state.filestackFiles)},onEscape:function(){e.insertUploadedImages("img",e.state.filestackFiles)}});this.insertUploadedImages("link",this.state.filestackFiles)}return null}},{key:"renderAlert",value:function(){var e=this;return this.state.showAlert?a.a.createElement(o.a,{title:this.state.alertTitle,message:this.state.alertMessage,onOk:function(){e.setState({showAlert:!1})}}):null}},{key:"render",value:function(){var e="wysiwyg",t=this.props.defaultValue,n=this.props.tabIndex?this.props.tabIndex:0;return""==t&&(e+=" is-placeholder"),a.a.createElement("div",{className:e,style:window.tinymce?{}:{display:"none"}},this.renderFilestackSelector(),this.renderAlert(),a.a.createElement("textarea",{defaultValue:this.props.defaultValue,id:this.props.id,tabIndex:n}),this.props.commitChanges?a.a.createElement("button",{className:"btn__settings-add",type:"button",onClick:this.commitChanges},a.a.createElement(i.a,{section:"core_js",message:"save"})):null,this.props.cancelChanges?a.a.createElement("button",{className:"btn__settings-edit",type:"button",onClick:this.cancelChanges},a.a.createElement(i.a,{section:"core_js",message:"cancel"})):null)}}])&&b(e.prototype,n),r&&b(e,r),t}();S.defaultProps={placeholder:"",autoFocus:!0}},,,function(e,t,n){function r(u){return function(e,t,n,r){c(t);var a=d(e),i=f(a),o=p(a.length),s=u?o-1:0,l=u?-1:1;if(n<2)for(;;){if(s in i){r=i[s],s+=l;break}if(s+=l,u?s<0:o<=s)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=s:s<o;s+=l)s in i&&(r=t(r,i[s],s,a));return r}}var c=n(76),d=n(52),f=n(102),p=n(51);e.exports={left:r(!1),right:r(!0)}},function(e,t,n){var v=n(281),y=n(438),g=n(442),b=n(313),w=n(242),_=n(282),E=Math.min;e.exports=function(e,t,n){for(var r=n?g:y,a=e[0].length,i=e.length,o=i,s=Array(i),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=b(c,w(t))),l=E(c.length,l),s[o]=!n&&(t||120<=a&&120<=c.length)?new v(o&&c):void 0}c=e[0];var d=-1,f=s[0];e:for(;++d<a&&u.length<l;){var p=c[d],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?_(f,h):r(u,h,n))){for(o=i;--o;){var m=s[o];if(!(m?_(m,h):r(e[o],h,n)))continue e}f&&f.push(h),u.push(p)}}return u}},function(e,t,n){var r=n(439);e.exports=function(e,t){return!!(null==e?0:e.length)&&-1<r(e,t,0)}},function(e,t,n){var r=n(420),a=n(440),i=n(441);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,a,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var l=n(444),u=Math.max;e.exports=function(i,o,s){return o=u(void 0===o?i.length-1:o,0),function(){for(var e=arguments,t=-1,n=u(e.length-o,0),r=Array(n);++t<n;)r[t]=e[o+t];t=-1;for(var a=Array(o+1);++t<o;)a[t]=e[t];return a[o]=s(r),l(i,this,a)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(446),a=n(448)(r);e.exports=a},function(e,t,n){var r=n(447),a=n(416),i=n(309),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var i=Date.now;e.exports=function(n){var r=0,a=0;return function(){var e=i(),t=16-(e-a);if(a=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}},function(e,t,n){var r=n(450);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){var r=n(224),a=n(112);e.exports=function(e){return a(e)&&r(e)}},function(e,t,n){var g=n(53),b=n(539),w=n(471),_=Math.max,E=Math.min;e.exports=function(r,a,e){var i,o,s,l,u,c,d=0,f=!1,p=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function h(e){var t=i,n=o;return i=o=void 0,d=e,l=r.apply(n,t)}function m(e){var t=e-c;return void 0===c||a<=t||t<0||p&&s<=e-d}function v(){var e,t,n=b();if(m(n))return y(n);u=setTimeout(v,(t=a-((e=n)-c),p?E(t,s-(e-d)):t))}function y(e){return u=void 0,t&&i?h(e):(i=o=void 0,l)}function n(){var e,t=b(),n=m(t);if(i=arguments,o=this,c=t,n){if(void 0===u)return d=e=c,u=setTimeout(v,a),f?h(e):l;if(p)return clearTimeout(u),u=setTimeout(v,a),h(c)}return void 0===u&&(u=setTimeout(v,a)),l}return a=w(a)||0,g(e)&&(f=!!e.leading,s=(p="maxWait"in e)?_(w(e.maxWait)||0,a):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==u&&clearTimeout(u),i=c=o=u=void(d=0)},n.flush=function(){return void 0===u?l:y(b())},n}},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(36),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(1),o=n(254);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(){function e(){return l(this,e),d(this,f(e).apply(this,arguments))}return p(e,a.a.Component),c(e,[{key:"renderIcon",value:function(){return this.props.icon&&""!==this.props.icon?a.a.createElement("i",{className:this.props.icon}):""}},{key:"render",value:function(){return a.a.createElement("li",{onClick:this.props.onClick},this.renderIcon(),a.a.createElement(i.a,{message:this.props.label}))}}]),e}(),v=function(){function t(e){var n;return l(this,t),(n=d(this,f(t).call(this,e))).buttonRef=null,n.toggleMenu=function(){n.setState({openMenu:!n.state.openMenu})},n.handleOuterClick=function(e){n.setState({openMenu:!1})},n.handleItemClick=function(e,t){n.setState({openMenu:!1},function(){t&&t()})},n.handleKeyDown=function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),n.setState({openMenu:!n.state.openMenu}))},n.state={openMenu:!1},n}return p(t,a.a.Component),c(t,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.buttonRef&&this.buttonRef.focus()}},{key:"render",value:function(){var n=this,e=this.state.openMenu?" show-menu":"",t=this.props.items;return a.a.createElement("div",{className:"dropdown "+(""==this.props.className?"":" "+this.props.className)},a.a.createElement("ul",{className:"dropdown-container"},a.a.createElement("li",{onClick:this.toggleMenu,onKeyDown:this.handleKeyDown,className:"dropdown-button button "+e,tabIndex:this.props.tabIndex?this.props.tabIndex:0,ref:function(e){n.buttonRef=e}},this.props.icon&&a.a.createElement("i",{className:this.props.icon}),a.a.createElement(i.a,{message:this.props.text}),a.a.createElement("ul",{className:"dropdown-menu dropdown-select"},t.map(function(t,e){return a.a.createElement(m,{onClick:function(e){n.handleItemClick(e,t.handler)},label:t.label,key:"item_"+e,icon:t.icon})})))))}}]),t}();v.defaultProps={autoFocus:!1},t.a=Object(o.a)(v)},,function(e,t,n){var r=n(548)();e.exports=r},function(e,t,n){var r=n(53);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}}},function(e,t,n){var a=n(458),i=n(399);e.exports=function(e,t){for(var n=0,r=(t=a(t,e)).length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}},function(e,t,n){var r=n(84),a=n(419),i=n(494),o=n(484);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},function(e,t,n){var a=n(460),i=n(223),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];o.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||a(e,t,n)}},function(e,t,n){var r=n(416);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(299),a=n(506),i=n(224);e.exports=function(e){return i(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(292),a=n(463),i=n(273),o=n(298),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=s},function(e,t,n){var r=n(300)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var l;l={},(e.exports=l).simpleFilter=function(t,e){return e.filter(function(e){return l.test(t,e)})},l.test=function(e,t){return null!==l.match(e,t)},l.match=function(e,t,n){n=n||{};var r,a=0,i=[],o=t.length,s=0,l=0,u=n.pre||"",c=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<o;f++)r=t[f],d[f]===e[a]?(r=u+r+c,a+=1,l+=1+l):l=0,s+=l,i[i.length]=r;return a===e.length?(s=d===e?1/0:s,{rendered:i.join(""),score:s}):null},l.filter=function(o,e,s){return e&&0!==e.length?"string"!=typeof o?e:(s=s||{},e.reduce(function(e,t,n,r){var a=t;s.extract&&(a=s.extract(t));var i=l.match(o,a,s);return null!=i&&(e[e.length]={string:i.rendered,score:i.score,index:n,original:t}),e},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})):[]}},function(e,t,n){"use strict";n(36),n(25),n(30),n(58);var r=n(0),a=n.n(r),i=n(158),o=n(43),s=n(1),l=n(402),u=n(17);function c(t){var n=u.a.getUrl(t.to,t.params);return a.a.createElement("li",{"data-route":t.to},a.a.createElement(i.b,{path:n,children:function(e){return a.a.createElement(o.a,{className:e.match?"settings__nav-active":"",onClick:t.onClick,to:n},a.a.createElement(l.a,{routes:t.routes,route:t.to}),a.a.createElement(s.a,{message:t.message}))}}))}t.a=function(t){return a.a.createElement("nav",{className:"settings__nav"},a.a.createElement("ul",null,t.routes.map(function(e){return a.a.createElement(c,{key:e.name,routes:t.routes,to:e.name,params:e.params,message:e.message||"routing."+e.name,onClick:t.closeSidebar})})))}},function(e,t,n){"use strict";n(12),n(13),n(14),n(62),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(468),o=n(469),s=n(1),l=n(41),u=n(255),c=n(2),d=n(391),f=(n(25),n(11)),p=n(4),h=n(26),m=n(46),v=n(318),y=n(78);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,_(t).call(this,e))).handleClose=function(){n.props.onClose()},n.handleChange=function(e){var t=n.state;"remember_me"===e.target.name?t.remember_me=e.currentTarget.checked:t.password=e.target.value,n.setState(t)},n.handleLogin=function(){return Object(f.a)("PUT",c.a.getBaseUrl()+"/"+c.a.getAppKey()+"/login",{password:n.state.password,remember_me:n.state.remember_me}).then(function(e){n.setState({error:null}),n.handleClose()}).catch(function(e){n.setState({error:e.response.error})})},n.state={password:"",remember_me:!1,error:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,a.a.Component),e=t,(n=[{key:"render",value:function(){var e=this.state.error,t=null;return window.CALENDAR_SETTINGS.email&&(t="mailto:"+window.CALENDAR_SETTINGS.email,t+="?title="+encodeURIComponent(p.a.trans("calendar:login_modal.mail_subject",{title:c.a.getAppTitle()})),t+="&subject="+encodeURIComponent(p.a.trans("calendar:login_modal.mail_body",{title:c.a.getAppTitle(),link:c.a.getBaseUrl()+"/"+c.a.getAppKey()}))),a.a.createElement(v.a,{className:"modal__window-login-calendar"},a.a.createElement("section",null,a.a.createElement("div",{className:"menu"},a.a.createElement("a",{className:"button ghost close-icon",onClick:this.handleClose},a.a.createElement("i",{className:"sprite-event-close"})))),a.a.createElement("section",{className:"login__content"},a.a.createElement("i",{className:"sprite-create-calendar"}),a.a.createElement("div",null,a.a.createElement(s.a,{message:"login_modal.session_expired",section:"calendar"}),a.a.createElement("div",{className:"input-wrapper"},a.a.createElement("div",{className:"visual-input"+(!e||"password"!==e.field&&""!==e.field?"":" has-error")},a.a.createElement("div",{className:"value"},a.a.createElement(h.a,{type:"password",name:"password",defaultValue:this.state.password,onChange:this.handleChange,autoComplete:"off",autoFocus:!0})),e&&("password"===e.field||""===e.field)&&a.a.createElement(y.a,{text:e.message,iconClassName:"sprite-icon-alert",type:"warning"})),a.a.createElement("div",{className:"visual-input"},a.a.createElement(m.a,{type:"small",name:"remember_me",id:"remember_me",text:"FOSUserBundle:security.login.remember_me",defaultChecked:this.state.remember_me,onChange:this.handleChange}))),a.a.createElement("div",{className:"visual-input buttons"},a.a.createElement("button",{className:"btn btn__settings-ok",onClick:this.handleLogin},p.a.trans("core_js:open",{}))),t&&a.a.createElement("span",{className:"login__help"},a.a.createElement("i",{className:"sprite-help-circle"}),a.a.createElement(s.a,{message:"login_modal.no_password_contact_link",params:{link:t},section:"calendar"})))))}}])&&b(e.prototype,n),r&&b(e,r),t}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=C(this,D(n).call(this,e))).updateStoreState=function(e){t.setState(t.computeState(e))},t.discard=function(){t.setState({visible:!1})},t.handleAction=function(){t.state.params.action_handler(t.state.params)},t.state=t.computeState(u.a.getState()),t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,a.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){u.a.listen(this.updateStoreState)}},{key:"componentWillUnmount",value:function(){u.a.unlisten(this.updateStoreState)}},{key:"computeState",value:function(e){if(null===e.status)return{params:void 0,message:void 0,type:null,visible:!1};var t={params:e.status.params,message:e.status.message,type:e.status.type,visible:!0};return e.status.id&&(t.id=e.status.id),t}},{key:"renderCloseButton",value:function(){return a.a.createElement("i",{onClick:this.discard,className:"sprite-icon-close close-btn"})}},{key:"renderExtra",value:function(){return this.state.params.action_handler?a.a.createElement(s.a,{component:"a",message:this.state.params.action_message,onClick:this.handleAction}):""}},{key:"render",value:function(){var e,t=null,n="";if("alert"==this.state.type&&"auth_required"===this.state.id&&(null===(e=this.props.calendarStateStore)||void 0===e?void 0:e.authentication.passwordRequired))return this.state.visible?a.a.createElement(S,{onClose:this.discard}):null;if("alert"==this.state.type&&d.a.isHandled(this.state.id||"")&&0!==c.a.getAppKey().indexOf("ks"))return this.state.visible?a.a.createElement(d.a,{errorId:this.state.id,onClose:this.discard}):null;if(this.state.visible){if("alert"==this.state.type)return a.a.createElement(l.a,{title:this.state.params.title,message:this.state.message,yesText:"core_js:ok",yesClassName:"button primary",onYes:this.discard,onClose:this.discard,onEnter:this.discard});n="visible "+this.state.type,t=a.a.createElement(i.a,{classNames:"flash-message",timeout:{enter:500,exit:300}},a.a.createElement("div",null,a.a.createElement(s.a,{message:this.state.message||"",params:this.state.params,component:"span"})," ",this.renderExtra(),this.renderCloseButton()))}return a.a.createElement("div",{id:"react-app-msg",className:n},a.a.createElement(o.a,null,t))}}])&&O(e.prototype,t),r&&O(e,r),n}();t.a=x},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(211);var r=n(4),a=r.a.partial("calendar"),i=r.a.partial("settings"),o=function(e){return[{id:"day",label:e?i("calendar_views.timeline_date_range.day"):a("table_view.dateRange.day"),majorGrid:{resolution:"days",labelFormat:"DD.MM.YYYY"},minorGrid:{resolution:"hours",labelFormat:"hh:mm",breakpoints:[{cellWidth:38,labelFormat:"h",labelFormat24:"HH"},{cellWidth:50,labelFormat:"ha",labelFormat24:"HH:mm"}]},range:1,minCellWidth:200,cellWidth:{grid:"major-drag",minZoom:15,zoomLevel:5,zoomStep:1.3},eventHeight:24,eventGutter:3,fitWindow:!0,alignWith:"day",step:1,allowHideWeekend:!1},{id:"multi-day",label:e?i("calendar_views.timeline_date_range.multiDay"):a("table_view.dateRange.multiDay"),majorGrid:{resolution:"days",labelFormat:"DD.MM"},minorGrid:{resolution:"hours",labelFormat:"h a",breakpoints:[{cellWidth:38,labelFormat:"h",labelFormat24:"HH"},{cellWidth:50,labelFormat:"ha",labelFormat24:"HH:mm"}]},range:5,minCellWidth:200,cellWidth:{grid:"major-drag",minZoom:15,zoomLevel:3,zoomStep:1.4},eventHeight:24,eventGutter:3,alignWith:"day",step:5,allowHideWeekend:!1},{id:"week",label:e?i("calendar_views.timeline_date_range.week"):a("table_view.dateRange.week"),majorGrid:{resolution:"days",labelFormat:"DD.MM.YYYY"},minorGrid:{resolution:"hours",labelFormat:"h",breakpoints:[{cellWidth:38,labelFormat:"h",labelFormat24:"HH"},{cellWidth:50,labelFormat:"ha",labelFormat24:"HH:mm"}]},cellWidth:{grid:"major-drag",minZoom:15,zoomLevel:3,zoomStep:1.3},range:7,eventHeight:24,eventGutter:3,alignWith:"week",step:1,allowHideWeekend:!0},{id:"multi-week",label:e?i("calendar_views.timeline_date_range.multiWeek"):a("table_view.dateRange.multiWeek"),majorGrid:{resolution:"weeks",labelFormat:"DD.MM.YYYY",breakpoints:[{cellWidth:120,labelFormat:function(e){if(e){var t=e.clone().startOf("week").format("MMM D"),n=e.clone().startOf("week").isSame(e.clone().endOf("week"),"month")?e.clone().endOf("week").format("D"):e.clone().endOf("week").format("MMM D");return"".concat(t," - ").concat(n)}},fontSize:14},{cellWidth:170,labelFormat:function(e){if(e){var t=e.clone().startOf("week").format("MMM D"),n=e.clone().startOf("week").isSame(e.clone().endOf("week"),"month")?e.clone().endOf("week").format("D"):e.clone().endOf("week").format("MMM D"),r=e.clone().endOf("week").format("YY");return"".concat(t," - ").concat(n,", ").concat(r)}},fontSize:15},{cellWidth:1e4,labelFormat:function(e){if(e){var t=e.clone().startOf("week").format("MMM D"),n=e.clone().startOf("week").isSame(e.clone().endOf("week"),"month")?e.clone().endOf("week").format("D"):e.clone().endOf("week").format("MMM D"),r=e.clone().endOf("week").format("YYYY"),a=e.week();return"<span>".concat(t," - ").concat(n,", ").concat(r,'</span> <span style="font-size: 12px; margin-left: 6px;">W').concat(a,"</span>")}},fontSize:16}]},minorGrid:{resolution:"days",labelFormat:"DD.MM.YYYY",breakpoints:[{cellWidth:30,labelFormat:"D",labelFormat24:"D"},{cellWidth:45,labelFormat:function(e){var t=e.format("ddd").substr(0,1);return"".concat(t," ").concat(e.format("D"))},labelFormat24:function(e){var t=e.format("ddd").substr(0,1);return"".concat(t," ").concat(e.format("D"))}},{cellWidth:80,labelFormat:function(e){var t=e.format("ddd");return"".concat(t," ").concat(e.format("D"))},labelFormat24:function(e){var t=e.format("ddd");return"".concat(t," ").concat(e.format("D"))}}]},cellWidth:{grid:"major-drag",minZoom:15,zoomLevel:3,zoomStep:1.3},range:28,eventHeight:24,eventGutter:3,alignWith:"week",step:4,allowHideWeekend:!0}]}},function(e,t,n){"use strict";var a=n(60),o=n(101),s=n(82);n(6);function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var r=n(0),l=n.n(r),u=n(27),c=n.n(u),d=!1,f=n(207),p="unmounted",h="exited",m="entering",v="entered",y="exiting",g=function(i){function e(e,t){var n;n=i.call(this,e,t)||this;var r,a=t&&!t.isMounting?e.enter:e.appear;return n.appearStatus=null,e.in?a?(r=h,n.appearStatus=m):r=v:r=e.unmountOnExit||e.mountOnEnter?p:h,n.state={status:r},n.nextCallback=null,n}Object(s.a)(e,i),e.getDerivedStateFromProps=function(e,t){return e.in&&t.status===p?{status:h}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==v&&(t=m):n!==m&&n!==v||(t=y)}this.updateStatus(!1,t)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},t.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:p})},t.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[c.a.findDOMNode(this),r],i=a[0],o=a[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||d?this.safeSetState({status:v},function(){t.props.onEntered(i)}):(this.props.onEnter(i,o),this.safeSetState({status:m},function(){t.props.onEntering(i,o),t.onTransitionEnd(l,function(){t.safeSetState({status:v},function(){t.props.onEntered(i,o)})})}))},t.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:c.a.findDOMNode(this);t&&!d?(this.props.onExit(r),this.safeSetState({status:y},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:h},function(){e.props.onExited(r)})})})):this.safeSetState({status:h},function(){e.props.onExited(r)})},t.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},t.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},t.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],o=a[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},t.render=function(){var e=this.state.status;if(e===p)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(o.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.a.createElement(f.a.Provider,{value:null},"function"==typeof n?n(e,r):l.a.cloneElement(l.a.Children.only(n),r))},e}(l.a.Component);function b(){}g.contextType=f.a,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},g.UNMOUNTED=p,g.EXITED=h,g.ENTERING=m,g.ENTERED=v,g.EXITING=y;function w(i,e){return i&&e&&e.split(" ").forEach(function(e){return n=e,void((t=i).classList?t.classList.add(n):(a=n,((r=t).classList?a&&r.classList.contains(a):-1!==(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+a+" "))||("string"==typeof t.className?t.className=t.className+" "+n:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+n))));var t,n,r,a})}function _(r,e){return r&&e&&e.split(" ").forEach(function(e){return n=e,void((t=r).classList?t.classList.remove(n):"string"==typeof t.className?t.className=i(t.className,n):t.setAttribute("class",i(t.className&&t.className.baseVal||"",n)));var t,n})}var E=g,S=function(r){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=r.call.apply(r,[this].concat(t))||this).appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(e,t){var n=i.resolveArguments(e,t),r=n[0],a=n[1];i.removeClasses(r,"exit"),i.addClass(r,a?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(e,t)},i.onEntering=function(e,t){var n=i.resolveArguments(e,t),r=n[0],a=n[1]?"appear":"enter";i.addClass(r,a,"active"),i.props.onEntering&&i.props.onEntering(e,t)},i.onEntered=function(e,t){var n=i.resolveArguments(e,t),r=n[0],a=n[1]?"appear":"enter";i.removeClasses(r,a),i.addClass(r,a,"done"),i.props.onEntered&&i.props.onEntered(e,t)},i.onExit=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"appear"),i.removeClasses(t,"enter"),i.addClass(t,"exit","base"),i.props.onExit&&i.props.onExit(e)},i.onExiting=function(e){var t=i.resolveArguments(e)[0];i.addClass(t,"exit","active"),i.props.onExiting&&i.props.onExiting(e)},i.onExited=function(e){var t=i.resolveArguments(e)[0];i.removeClasses(t,"exit"),i.addClass(t,"exit","done"),i.props.onExited&&i.props.onExited(e)},i.resolveArguments=function(e,t){return i.props.nodeRef?[i.props.nodeRef.current,e]:[e,t]},i.getClassNames=function(e){var t=i.props.classNames,n="string"==typeof t,r=n?(n&&t?t+"-":"")+e:t[e];return{baseClassName:r,activeClassName:n?r+"-active":t[e+"Active"],doneClassName:n?r+"-done":t[e+"Done"]}},i}Object(s.a)(e,r);var t=e.prototype;return t.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(r+=" "+a),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,w(e,r))},t.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,a=n.active,i=n.done;this.appliedClasses[t]={},r&&_(e,r),a&&_(e,a),i&&_(e,i)},t.render=function(){var e=this.props,t=(e.classNames,Object(o.a)(e,["classNames"]));return l.a.createElement(E,Object(a.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(l.a.Component);S.defaultProps={classNames:""},S.propTypes={};t.a=S},function(e,t,n){"use strict";var o=n(101),r=n(60);var i=n(82),d=(n(6),n(0)),s=n.n(d),l=n(207);function f(e,n){var r=Object.create(null);return e&&d.Children.map(e,function(e){return e}).forEach(function(e){var t;r[e.key]=(t=e,n&&Object(d.isValidElement)(t)?n(t):t)}),r}function p(e,t,n){return null!=n[t]?n[t]:e.props[t]}function u(o,s,l){var u=f(o.children),c=function(t,n){function e(e){return e in n?n[e]:t[e]}t=t||{},n=n||{};var r,a=Object.create(null),i=[];for(var o in t)o in n?i.length&&(a[o]=i,i=[]):i.push(o);var s={};for(var l in n){if(a[l])for(r=0;r<a[l].length;r++){var u=a[l][r];s[a[l][r]]=e(u)}s[l]=e(l)}for(r=0;r<i.length;r++)s[i[r]]=e(i[r]);return s}(s,u);return Object.keys(c).forEach(function(e){var t=c[e];if(Object(d.isValidElement)(t)){var n=e in s,r=e in u,a=s[e],i=Object(d.isValidElement)(a)&&!a.props.in;!r||n&&!i?r||!n||i?r&&n&&Object(d.isValidElement)(a)&&(c[e]=Object(d.cloneElement)(t,{onExited:l.bind(null,t),in:a.props.in,exit:p(t,"exit",o),enter:p(t,"enter",o)})):c[e]=Object(d.cloneElement)(t,{in:!1}):c[e]=Object(d.cloneElement)(t,{onExited:l.bind(null,t),in:!0,exit:p(t,"exit",o),enter:p(t,"enter",o)})}}),c}var c=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},a=function(a){function e(e,t){var n,r=(n=a.call(this,e,t)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},n}Object(i.a)(e,a);var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,i=t.handleExited;return{children:t.firstRender?(r=i,f((n=e).children,function(e){return Object(d.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:p(e,"appear",n),enter:p(e,"enter",n),exit:p(e,"exit",n)})})):u(e,a,i),firstRender:!1}},t.handleExited=function(n,e){var t=f(this.props.children);n.key in t||(n.props.onExited&&n.props.onExited(e),this.mounted&&this.setState(function(e){var t=Object(r.a)({},e.children);return delete t[n.key],{children:t}}))},t.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(o.a)(e,["component","childFactory"]),a=this.state.contextValue,i=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(l.a.Provider,{value:a},i):s.a.createElement(l.a.Provider,{value:a},s.a.createElement(t,r,i))},e}(s.a.Component);a.propTypes={},a.defaultProps={component:"div",childFactory:function(e){return e}};t.a=a},function(e,t,n){var r=n(19),a=n(563);r({global:!0,forced:parseFloat!=a},{parseFloat:a})},function(e,t,n){var r=n(53),a=n(388),i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},function(e,t,n){var r=n(489),a=n(492),i=n(309),o=n(84),s=n(501);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(19),a=n(526);r({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case f:case o:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case y:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===f}t.typeOf=_,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=a,t.ForwardRef=p,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===l||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w)},t.isAsyncMode=function(e){return E(e)||_(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===h}},function(e,t,n){var r=n(19),a=n(396).entries;r({target:"Object",stat:!0},{entries:function(e){return a(e)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return $});function r(e){var t=e.onMouseDown;return w.a.createElement("span",{className:"Select-arrow",onMouseDown:t})}var a=n(529),d=n.n(a),i=n(48),b=n.n(i),o=n(6),s=n.n(o),l=n(0),w=n.n(l),h=n(27);r.propTypes={onMouseDown:s.a.func};function c(e){for(var t=0;t<m.length;t++)e=e.replace(m[t].letters,m[t].base);return e}function f(e){return null!=e&&""!==e}function u(e,s,l,u){return u.ignoreAccents&&(s=c(s)),u.ignoreCase&&(s=s.toLowerCase()),u.trimFilter&&(s=s.replace(/^\s+|\s+$/g,"")),l=l&&l.map(function(e){return e[u.valueKey]}),e.filter(function(e){if(l&&-1<l.indexOf(e[u.valueKey]))return!1;if(u.filterOption)return u.filterOption.call(void 0,e,s);if(!s)return!0;var t=e[u.valueKey],n=e[u.labelKey],r=f(t),a=f(n);if(!r&&!a)return!1;var i=r?String(t):null,o=a?String(n):null;return u.ignoreAccents&&(i&&"label"!==u.matchProp&&(i=c(i)),o&&"value"!==u.matchProp&&(o=c(o))),u.ignoreCase&&(i&&"label"!==u.matchProp&&(i=i.toLowerCase()),o&&"value"!==u.matchProp&&(o=o.toLowerCase())),"start"===u.matchPos?i&&"label"!==u.matchProp&&i.substr(0,s.length)===s||o&&"value"!==u.matchProp&&o.substr(0,s.length)===s:i&&"label"!==u.matchProp&&0<=i.indexOf(s)||o&&"value"!==u.matchProp&&0<=o.indexOf(s)})}function p(e){var i=e.focusedOption,o=e.focusOption,s=e.inputValue,l=e.instancePrefix,u=e.onFocus,c=e.onOptionRef,d=e.onSelect,f=e.optionClassName,t=e.optionComponent,p=e.optionRenderer,n=e.options,h=e.removeValue,m=e.selectValue,v=e.valueArray,y=e.valueKey,g=t;return n.map(function(t,e){var n=v&&v.some(function(e){return e[y]===t[y]}),r=t===i,a=b()(f,{"Select-option":!0,"is-selected":n,"is-focused":r,"is-disabled":t.disabled});return w.a.createElement(g,{className:a,focusOption:o,inputValue:s,instancePrefix:l,isDisabled:t.disabled,isFocused:r,isSelected:n,key:"option-"+e+"-"+t[y],onFocus:u,onSelect:d,option:t,optionIndex:e,ref:function(e){c(e,r)},removeValue:h,selectValue:m},p(t,e,s))})}var m=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];p.propTypes={focusOption:s.a.func,focusedOption:s.a.object,inputValue:s.a.string,instancePrefix:s.a.string,onFocus:s.a.func,onOptionRef:s.a.func,onSelect:s.a.func,optionClassName:s.a.string,optionComponent:s.a.func,optionRenderer:s.a.func,options:s.a.array,removeValue:s.a.func,selectValue:s.a.func,valueArray:s.a.array,valueKey:s.a.string};function v(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"function"==typeof Symbol&&Symbol.asyncIterator&&(_.prototype[Symbol.asyncIterator]=function(){return this}),_.prototype.next=function(e){return this._invoke("next",e)},_.prototype.throw=function(e){return this._invoke("throw",e)},_.prototype.return=function(e){return this._invoke("return",e)};function g(e){this.value=e}function _(a){var i,o;function s(e,t){try{var n=a[e](t),r=n.value;r instanceof g?Promise.resolve(r.value).then(function(e){s("next",e)},function(e){s("throw",e)}):l(n.done?"return":"normal",n.value)}catch(e){l("throw",e)}}function l(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}(i=i.next)?s(i.key,i.arg):o=null}this._invoke=function(r,a){return new Promise(function(e,t){var n={key:r,arg:a,resolve:e,reject:t,next:null};o?o=o.next=n:(i=o=n,s(r,a))})},"function"!=typeof a.return&&(this.return=void 0)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=function(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e};function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function D(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x,P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=(x=w.a.Component,C(M,x),S(M,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,r=e.optionIndex,a=b()(this.props.className,t.className);return t.disabled?w.a.createElement("div",{className:a,onMouseDown:v,onClick:v},this.props.children):w.a.createElement("div",{className:a,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:t.title},this.props.children)}}]),M);function M(e){E(this,M);var t=T(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e));return t.handleMouseDown=t.handleMouseDown.bind(t),t.handleMouseEnter=t.handleMouseEnter.bind(t),t.handleMouseMove=t.handleMouseMove.bind(t),t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.onFocus=t.onFocus.bind(t),t}j.propTypes={children:s.a.node,className:s.a.string,instancePrefix:s.a.string.isRequired,isDisabled:s.a.bool,isFocused:s.a.bool,isSelected:s.a.bool,onFocus:s.a.func,onSelect:s.a.func,onUnfocus:s.a.func,option:s.a.object.isRequired,optionIndex:s.a.number};var N,A=(N=w.a.Component,C(L,N),S(L,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return w.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"")}},{key:"renderLabel",value:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?w.a.createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):w.a.createElement("span",{className:e,role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return w.a.createElement("div",{className:b()("Select-value",this.props.value.disabled?"Select-value-disabled":"",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),L);function L(e){E(this,L);var t=T(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,e));return t.handleMouseDown=t.handleMouseDown.bind(t),t.onRemove=t.onRemove.bind(t),t.handleTouchEndRemove=t.handleTouchEndRemove.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchStart=t.handleTouchStart.bind(t),t}A.propTypes={children:s.a.node,disabled:s.a.bool,id:s.a.string,onClick:s.a.func,onRemove:s.a.func,value:s.a.object.isRequired};function R(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""}function I(e,t){var n=void 0===e?"undefined":y(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var r=t.options,a=t.valueKey;if(r)for(var i=0;i<r.length;i++)if(String(r[i][a])===String(e))return r[i]}function F(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)}
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/
var V,U=s.a.oneOfType([s.a.string,s.a.node]),Y=s.a.oneOfType([s.a.string,s.a.number]),H=1,B=(V=w.a.Component,C(W,V),S(W,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++H)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:F(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:F(t[0],e.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==e.value&&e.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(h.findDOMNode)(this.focused),r=Object(h.findDOMNode)(this.menu),a=r.scrollTop,i=a+r.offsetHeight,o=n.offsetTop,s=o+n.offsetHeight;(o<a||i<s)&&(r.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(h.findDOMNode)(this.focused),u=Object(h.findDOMNode)(this.menu),c=l.getBoundingClientRect(),d=u.getBoundingClientRect();c.bottom>d.bottom?u.scrollTop=l.offsetTop+l.clientHeight-u.offsetHeight:c.top<d.top&&(u.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var f=this.menuContainer.getBoundingClientRect();window.innerHeight<f.bottom+this.props.menuBuffer&&window.scrollBy(0,f.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var p=this.state.isOpen?this.props.onOpen:this.props.onClose;p&&p()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){var t=e?document.addEventListener?"addEventListener":"attachEvent":document.removeEventListener?"removeEventListener":"detachEvent",n=document.addEventListener?"":"on";document[t](n+"touchstart",this.handleTouchOutside),document[t](n+"mousedown",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))if("INPUT"!==e.target.tagName){if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen,focusedOption:null});if(this.state.isFocused){this.focus();var t=this.input,n=!0;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1,focusedOption:null}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen?(e.stopPropagation(),e.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;t=!this._focusAfterClear&&t,this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:!!t}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({inputValue:t,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":y(t))&&(e=""+t)}this.setState({inputValue:e})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":y(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented)))switch(e.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue());break;case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;e.preventDefault(),this.selectFocusedOption();break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:e.preventDefault(),this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)break;if(e.preventDefault(),!this.state.isOpen){this.focusNextOption();break}e.stopPropagation(),this.selectFocusedOption();break;case 38:e.preventDefault(),this.focusPreviousOption();break;case 40:e.preventDefault(),this.focusNextOption();break;case 33:e.preventDefault(),this.focusPageUpOption();break;case 34:e.preventDefault(),this.focusPageDownOption();break;case 35:if(e.shiftKey)break;e.preventDefault(),this.focusEndOption();break;case 36:if(e.shiftKey)break;e.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:void 0,r="object"===(void 0===n?"undefined":y(n))?n:this.props;if(r.multi){if("string"==typeof e&&(e=e.split(r.delimiter)),!Array.isArray(e)){if(null==e)return[];e=[e]}return e.map(function(e){return I(e,r)}).filter(function(e){return e})}var a=I(e,r);return a?[a]:[]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=F(e,this.props.multi);this.setState({required:n})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange&&this.props.onChange(e)}},{key:"selectValue",value:function(t){var n=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var e=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(e),isOpen:!this.props.closeOnSelect},function(){n.getValueArray(n.props.value).some(function(e){return e[n.props.valueKey]===t[n.props.valueKey]})?n.removeValue(t):n.addValue(t)}):this.setState({inputValue:this.handleInputValueChange(e),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){n.setValue(t)})}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(e){return!e.disabled}),r=n.indexOf(e);this.setValue(t.concat(e)),this.props.closeOnSelect&&(n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1]))}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(t){var n=this,e=this.getValueArray(this.props.value);this.setValue(e.filter(function(e){return e[n.props.valueKey]!==t[n.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map(function(e,t){return{option:e,index:t}}).filter(function(e){return!e.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(t.length){for(var r=-1,a=0;a<t.length;a++)if(this._focusedOption===t[a].option){r=a;break}if("next"===e&&-1!==r)r=(r+1)%t.length;else if("previous"===e)0<r?--r:r=t.length-1;else if("start"===e)r=0;else if("end"===e)r=t.length-1;else if("page_up"===e){var i=r-this.props.pageSize;r=i<0?0:i}else if("page_down"===e){var o=r+this.props.pageSize;r=o>t.length-1?t.length-1:o}-1===r&&(r=0),this.setState({focusedIndex:t[r].index,focusedOption:t[r].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return w.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},w.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(n,e){var t,r,a,i,o,s,l,u=this,c=this.props.valueRenderer||this.getOptionLabel,d=this.props.valueComponent;if(!n.length)return t=this.state,r=this.props,a=e,i=t.inputValue,o=t.isPseudoFocused,s=t.isFocused,l=r.onSelectResetsInput,i&&(l||a||o||s)?null:w.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder);var f,p,h,m,v,y,g=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?n.map(function(e,t){return w.a.createElement(d,{disabled:u.props.disabled||!1===e.clearableValue,id:u._instancePrefix+"-value-"+t,instancePrefix:u._instancePrefix,key:"value-"+t+"-"+e[u.props.valueKey],onClick:g,onRemove:u.removeValue,placeholder:u.props.placeholder,value:e,values:n},c(e,t),w.a.createElement("span",{className:"Select-aria-only"},""))}):(f=this.state,p=this.props,h=f.inputValue,m=f.isPseudoFocused,v=f.isFocused,y=p.onSelectResetsInput,h&&(y||!v&&m||v&&!m)?void 0:(e&&(g=null),w.a.createElement(d,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:g,placeholder:this.props.placeholder,value:n[0]},c(n[0]))))}},{key:"renderInput",value:function(e,t){var n,r=this,a=b()("Select-input",this.props.inputProps.className),i=this.state.isOpen,o=b()((O(n={},this._instancePrefix+"-list",i),O(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),s=this.state.inputValue;!s||this.props.onSelectResetsInput||this.state.isFocused||(s="");var l=P({},this.props.inputProps,{"aria-activedescendant":i?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+i,"aria-haspopup":""+i,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":o,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:s});if(this.props.inputRenderer)return this.props.inputRenderer(l);if(!this.props.disabled&&this.props.searchable)return this.props.autosize?w.a.createElement(d.a,P({id:this.props.id},l,{className:a,minWidth:"5"})):w.a.createElement("div",{className:a,key:"input-wrap",style:{display:"inline-block"}},w.a.createElement("input",P({id:this.props.id},l)));var u=D(this.props.inputProps,[]),c=b()(O({},this._instancePrefix+"-list",i));return w.a.createElement("div",P({},u,{"aria-expanded":i,"aria-owns":c,"aria-activedescendant":i?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:a,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return w.a.createElement("span",{"aria-label":t,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:t},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return n?w.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:u;return r(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey}):this.props.noResultsText?w.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var n=this;if(this.props.name){if(this.props.joinValues){var t=e.map(function(e){return R(e[n.props.valueKey])}).join(this.props.delimiter);return w.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(e){return n.value=e},type:"hidden",value:t})}return e.map(function(e,t){return w.a.createElement("input",{disabled:n.props.disabled,key:"hidden."+t,name:n.props.name,ref:"value"+t,type:"hidden",value:R(e[n.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var r=this.props.valueKey,a=this.state.focusedOption||e;if(a&&!a.disabled){var i=-1;if(t.some(function(e,t){var n=e[r]===a[r];return n&&(i=t),n}),-1!==i)return i}for(var n=0;n<t.length;n++)if(!t[n].disabled)return n;return null}},{key:"renderOuter",value:function(e,t,n){var r=this,a=this.renderMenu(e,t,n);return a?w.a.createElement("div",{ref:function(e){return r.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},w.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(e){return r.menu=e},role:"listbox",style:this.props.menuStyle,tabIndex:-1},a)):null}},{key:"render",value:function(){var t=this,e=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?e:null),r=this.state.isOpen;this.props.multi&&!n.length&&e.length&&!this.state.inputValue&&(r=!1);var a=this.getFocusableOptionIndex(e[0]),i=null;i=this._focusedOption=null!==a?n[a]:null;var o=b()("Select",this.props.className,{"has-value":e.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),s=null;return this.props.multi&&!this.props.disabled&&e.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(s=w.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",e[e.length-1][this.props.labelKey]))),w.a.createElement("div",{ref:function(e){return t.wrapper=e},className:o,style:this.props.wrapperStyle},this.renderHiddenField(e),w.a.createElement("div",{ref:function(e){return t.control=e},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},w.a.createElement("div",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(e,r),this.renderInput(e,a)),s,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,e,i):null)}}]),W);function W(e){E(this,W);var t=T(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,e));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(e){return t[e]=t[e].bind(t)}),t.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},t}B.propTypes={"aria-describedby":s.a.string,"aria-label":s.a.string,"aria-labelledby":s.a.string,arrowRenderer:s.a.func,autoBlur:s.a.bool,autoFocus:s.a.bool,autofocus:s.a.bool,autosize:s.a.bool,backspaceRemoves:s.a.bool,backspaceToRemoveMessage:s.a.string,className:s.a.string,clearAllText:U,clearRenderer:s.a.func,clearValueText:U,clearable:s.a.bool,closeOnSelect:s.a.bool,deleteRemoves:s.a.bool,delimiter:s.a.string,disabled:s.a.bool,escapeClearsValue:s.a.bool,filterOption:s.a.func,filterOptions:s.a.any,id:s.a.string,ignoreAccents:s.a.bool,ignoreCase:s.a.bool,inputProps:s.a.object,inputRenderer:s.a.func,instanceId:s.a.string,isLoading:s.a.bool,joinValues:s.a.bool,labelKey:s.a.string,matchPos:s.a.string,matchProp:s.a.string,menuBuffer:s.a.number,menuContainerStyle:s.a.object,menuRenderer:s.a.func,menuStyle:s.a.object,multi:s.a.bool,name:s.a.string,noResultsText:U,onBlur:s.a.func,onBlurResetsInput:s.a.bool,onChange:s.a.func,onClose:s.a.func,onCloseResetsInput:s.a.bool,onFocus:s.a.func,onInputChange:s.a.func,onInputKeyDown:s.a.func,onMenuScrollToBottom:s.a.func,onOpen:s.a.func,onSelectResetsInput:s.a.bool,onValueClick:s.a.func,openOnClick:s.a.bool,openOnFocus:s.a.bool,optionClassName:s.a.string,optionComponent:s.a.func,optionRenderer:s.a.func,options:s.a.array,pageSize:s.a.number,placeholder:U,removeSelected:s.a.bool,required:s.a.bool,resetValue:s.a.any,rtl:s.a.bool,scrollMenuIntoView:s.a.bool,searchable:s.a.bool,simpleValue:s.a.bool,style:s.a.object,tabIndex:Y,tabSelectsValue:s.a.bool,trimFilter:s.a.bool,value:s.a.any,valueComponent:s.a.func,valueKey:s.a.string,valueRenderer:s.a.func,wrapperStyle:s.a.object},B.defaultProps={arrowRenderer:r,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:function(){return w.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:u,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:p,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:j,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:A,valueKey:"value"};var z,G={autoload:s.a.bool.isRequired,cache:s.a.any,children:s.a.func.isRequired,ignoreAccents:s.a.bool,ignoreCase:s.a.bool,loadOptions:s.a.func.isRequired,loadingPlaceholder:s.a.oneOfType([s.a.string,s.a.node]),multi:s.a.bool,noResultsText:s.a.oneOfType([s.a.string,s.a.node]),onChange:s.a.func,onInputChange:s.a.func,options:s.a.array.isRequired,placeholder:s.a.oneOfType([s.a.string,s.a.node]),searchPromptText:s.a.oneOfType([s.a.string,s.a.node]),value:s.a.any},K={},q={autoload:!0,cache:K,children:function(e){return w.a.createElement(B,e)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},$=(z=l.Component,C(J,z),S(J,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(r){var a=this,e=this.props.loadOptions,i=this._cache;if(i&&Object.prototype.hasOwnProperty.call(i,r))return this._callback=null,void this.setState({isLoading:!1,options:i[r]});function o(e,t){var n=t&&t.options||[];i&&(i[r]=n),o===a._callback&&(a._callback=null,a.setState({isLoading:!1,options:n}))}this._callback=o;var t=e(r,o);t&&t.then(function(e){return o(0,e)},function(e){return o()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,n=t.ignoreAccents,r=t.ignoreCase,a=t.onInputChange,i=e;if(a){var o=a(i);null!=o&&"object"!==(void 0===o?"undefined":y(o))&&(i=""+o)}var s=i;return n&&(s=c(s)),r&&(s=s.toLowerCase()),this.setState({inputValue:i}),this.loadOptions(s),i}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,n=e.noResultsText,r=e.searchPromptText,a=this.state,i=a.inputValue;return a.isLoading?t:i&&n?n:r}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.loadingPlaceholder,a=e.placeholder,i=this.state,o=i.isLoading,s=i.options,l={noResultsText:this.noResultsText(),placeholder:o?r:a,options:o&&r?[]:s,ref:function(e){return t.select=e}};return n(P({},this.props,l,{isLoading:o,onInputChange:this.onInputChange}))}}]),J);function J(e,t){E(this,J);var n=T(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,e,t));return n._cache=e.cache===K?{}:e.cache,n.state={inputValue:"",isLoading:!1,options:e.options},n.onInputChange=n.onInputChange.bind(n),n}$.propTypes=G,$.defaultProps=q;var Q,Z=(Q=w.a.Component,C(X,Q),S(X,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,n=e.newOptionCreator,r=e.onNewOptionClick,a=e.options,i=void 0===a?[]:a;if(t({label:this.inputValue})){var o=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:o,options:i})&&(r?r(o):(i.unshift(o),this.select.selectValue(o)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,n=e.isValidNewOption,r=e.promptTextCreator,a=e.showNewOptionAtTop,i=(arguments.length<=2?void 0:arguments[2])||[],o=t.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,l=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:l,options:i.concat(o)})){var u=r(this.inputValue);this._createPlaceholderOption=s({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),a?o.unshift(this._createPlaceholderOption):o.push(this._createPlaceholderOption)}}return o}},{key:"isOptionUnique",value:function(e){var t=e.option,n=e.options,r=this.props.isOptionUnique;return n=n||this.props.options,r({labelKey:this.labelKey,option:t,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){var t=this.props.menuRenderer;return t(P({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.shouldKeyDownEventCreateNewOption,r=t.onInputKeyDown,a=this.select.getFocusedOption();a&&a===this._createPlaceholderOption&&n(e)?(this.createNewOption(),e.preventDefault()):r&&r(e)}},{key:"onOptionSelect",value:function(e){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.ref,r=D(e,["ref"]),a=this.props.children;return(a=a||ie)(P({},r,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(e){(t.select=e)&&(t.labelKey=e.props.labelKey,t.valueKey=e.props.valueKey),n&&n(e)}}))}}]),X);function X(e,t){E(this,X);var n=T(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,e,t));return n.filterOptions=n.filterOptions.bind(n),n.menuRenderer=n.menuRenderer.bind(n),n.onInputKeyDown=n.onInputKeyDown.bind(n),n.onInputChange=n.onInputChange.bind(n),n.onOptionSelect=n.onOptionSelect.bind(n),n}function ee(e){var t=e.option,n=e.options,r=e.labelKey,a=e.valueKey;return!n||!n.length||0===n.filter(function(e){return e[r]===t[r]||e[a]===t[a]}).length}function te(e){return!!e.label}function ne(e){var t=e.label,n=e.labelKey,r={};return r[e.valueKey]=t,r[n]=t,r.className="Select-create-option-placeholder",r}function re(e){return'Create option "'+e+'"'}function ae(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}}var ie=function(e){return w.a.createElement(B,e)};Z.isOptionUnique=ee,Z.isValidNewOption=te,Z.newOptionCreator=ne,Z.promptTextCreator=re,Z.shouldKeyDownEventCreateNewOption=ae,Z.defaultProps={filterOptions:u,isOptionUnique:ee,isValidNewOption:te,menuRenderer:p,newOptionCreator:ne,promptTextCreator:re,shouldKeyDownEventCreateNewOption:ae,showNewOptionAtTop:!0},Z.propTypes={children:s.a.func,filterOptions:s.a.any,isOptionUnique:s.a.func,isValidNewOption:s.a.func,menuRenderer:s.a.any,newOptionCreator:s.a.func,onInputChange:s.a.func,onInputKeyDown:s.a.func,onNewOptionClick:s.a.func,options:s.a.array,promptTextCreator:s.a.func,ref:s.a.func,shouldKeyDownEventCreateNewOption:s.a.func,showNewOptionAtTop:s.a.bool};var oe,se=(oe=w.a.Component,C(le,oe),S(le,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var i=this;return w.a.createElement($,this.props,function(e){var t=e.ref,n=D(e,["ref"]),a=t;return w.a.createElement(Z,n,function(e){var t=e.ref,n=D(e,["ref"]),r=t;return i.props.children(P({},n,{ref:function(e){r(e),a(e),i.select=e}}))})})}}]),le);function le(){return E(this,le),T(this,(le.__proto__||Object.getPrototypeOf(le)).apply(this,arguments))}se.propTypes={children:s.a.func.isRequired},se.defaultProps={children:function(e){return w.a.createElement(B,e)}},B.Async=$,B.AsyncCreatable=se,B.Creatable=Z,B.Value=A,B.Option=j},function(e,t,n){"use strict";n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(41),o=n(1),s=n(2),l=n(18),u=n(11),c=n(4);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=p(this,h(n).call(this,e))).openModal=function(e){t.setState({show:!0})},t.addKeyToDashboard=function(){return Object(u.a)("POST",s.a.getBaseUrl()+"/user/dashboard/calendars",{calendars:[{type:"anonymous",token:s.a.getAppKey()}]}).then(function(e){t.setState({show:!1,isKeyAddedToDashboard:!0}),l.a.flashStatus(c.a.translate("core_js","settings_menu.addToDashboard.success_msg"),"saved")}).catch(function(e){t.setState({show:!1}),e.response&&e.response.error&&l.a.flashStatus(e.response.error.message,"error")})},t.state={show:!1,isKeyAddedToDashboard:e.isKeyAddedToDashboard||!1},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,a.a.Component),e=n,(t=[{key:"renderAddKeyToDashboardPrompt",value:function(){var e=this;if(this.state.show)return a.a.createElement(i.a,{yesText:"core_js:yes",onYes:this.addKeyToDashboard,noText:"core_js:no",onNo:function(){e.setState({show:!1})},title:"settings_menu.addToDashboard.title"},a.a.createElement(o.a,{message:"settings_menu.addToDashboard.text",params:{dashboard_url:"user/dashboard"},component:"p"}))}},{key:"render",value:function(){return this.state.isKeyAddedToDashboard?null:a.a.createElement("div",null,this.renderAddKeyToDashboardPrompt(),a.a.createElement("a",{id:"add-to-dashboard-btn",onClick:this.openModal},a.a.createElement("i",{className:"sprite-icon-add"})))}}])&&f(e.prototype,t),r&&f(e,r),n}();t.a=v},function(e,t,n){"use strict";n.d(t,"a",function(){return d});n(12),n(13),n(14),n(42),n(10),n(25),n(5),n(15),n(16),n(7),n(30),n(8),n(58),n(45),n(9);var r=n(0),a=n.n(r),i=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(){function n(e){var r,t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=l(this,u(n).call(this,e))).handleOnUpdate=function(){r.props.onChange&&r.props.onChange(r.getValue())},r.onChange=function(e,t){var n={};n[t]=e.target.value,r.setState(n,r.handleOnUpdate)},r.onCountKeyPress=function(e){var t=e.keyCode||e.which,n=String.fromCharCode(t);/\+|-|\./.test(n)&&e.preventDefault()},(t=e.defaultValue.match(/P(\d+)W/))?r.state={count:+t[1],unit:"weeks"}:(t=e.defaultValue.match(/P(\d+)D/))?r.state={count:+t[1],unit:"days"}:(t=e.defaultValue.match(/PT(\d+)H/))?r.state={count:+t[1],unit:"hours"}:(t=e.defaultValue.match(/PT(\d+)M/))?r.state={count:+t[1],unit:"minutes"}:r.state={count:0,unit:"days"},r}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,a.a.Component),e=n,(t=[{key:"getValue",value:function(){return"weeks"===this.state.unit?"P"+this.state.count+"W":"days"===this.state.unit?"P"+this.state.count+"D":"hours"===this.state.unit?"PT"+this.state.count+"H":"minutes"===this.state.unit?"PT"+this.state.count+"M":void 0}},{key:"render",value:function(){var t=this,n=[];return this.props.intervalOptions?this.props.intervalOptions.forEach(function(e){n.push(a.a.createElement(i.a,{message:e.label,section:"core_js",component:"option",value:e.value,key:e.value}))}):(n.push(a.a.createElement(i.a,{message:"interval.days",section:"core_js",component:"option",value:"days",key:"days"})),n.push(a.a.createElement(i.a,{message:"interval.hours",section:"core_js",component:"option",value:"hours",key:"hours"}))),a.a.createElement("span",{className:"fields__interval"},a.a.createElement("input",{type:"number",className:this.props.className||"settings__input",min:"0",step:"1",value:this.state.count,onChange:function(e){return t.onChange(e,"count")},pattern:"[0-9]*",inputMode:"numeric",onKeyPress:this.onCountKeyPress.bind(this)}),a.a.createElement("select",{className:this.props.className||"settings__input",value:this.state.unit,onChange:function(e){return t.onChange(e,"unit")}},n),a.a.createElement("input",{name:this.props.name,type:"hidden",value:this.getValue()}))}}])&&s(e.prototype,t),r&&s(e,r),n}();d.defaultProps={intervalOptions:null}},,function(e,t,n){"use strict";n(12),n(13),n(14),n(50),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),s=n.n(r),a=n(11),l=n(1),u=n(2),c=n(41);n(211),n(314),n(138),n(36),n(308),n(56),n(25),n(55),n(249);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=d(this,f(n).call(this,e))).handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,s.a.Component),e=n,(t=[{key:"render",value:function(){var e=this.props.calendar;return s.a.createElement("div",{onClick:this.handleClick,className:"calendar-card-picker-box "+(e.logo_url?"calendar-card-picker-box--wide":""),title:e.title},s.a.createElement("div",{className:"calendar-card-picker-box__text"},s.a.createElement("h4",null,e.title),s.a.createElement("span",null,"anonymous"===e.type?e.view:" ")),e.logo_url?s.a.createElement("div",{className:"section-logo"},s.a.createElement("img",{src:e.logo_url})):null)}}])&&o(e.prototype,t),r&&o(e,r),n}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=g(this,b(t).call(this,e))).getOrganizationIndependentCalendars=function(){var e=r.props,t=e.calendars,n=e.organizations.reduce(function(e,t){return[].concat(v(e),[t.url_name])},[]);return t.filter(function(e){return!e.org_url_name||!n.includes(e.org_url_name)})},r.getCalendarsForOrganization=function(t){return r.props.calendars.filter(function(e){return e.org_url_name&&e.org_url_name===t})},r}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,s.a.Component),e=t,(n=[{key:"render",value:function(){var n=this,e=this.props,t=e.organizations,r=e.onSelect,a=this.getOrganizationIndependentCalendars();return s.a.createElement("div",{className:"calendar-card-picker-box__scroll-overflow"},s.a.createElement("div",{className:"calendar-card-picker-box__group"},a.map(function(e){return s.a.createElement(h,{key:e.token,calendar:e,onClick:function(){return r(e)}})})),t.length?s.a.createElement("div",{className:"calendar-card-picker-box__spacer"}):null,t.map(function(e){var t=n.getCalendarsForOrganization(e.url_name);return t.length?s.a.createElement("div",{key:e.url_name,className:"visual-input"},s.a.createElement("label",null,e.name),s.a.createElement("div",{className:"calendar-card-picker-box__group"},t.map(function(e){return s.a.createElement(h,{key:e.token,calendar:e,onClick:function(){return r(e)}})}))):null}))}}])&&y(e.prototype,n),r&&y(e,r),t}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=k(this,O(n).call(this,e))).filterTargetCalendars=function(e){return e.filter(function(e){return e.token!==u.a.getAppKey()})},t.handleTargetCalendarSelection=function(e){t.props.onConfirm(e)},t.state={isUnauthenticated:!1,isFetchError:!1,isFetchInFlight:!0,availableTargetCalendars:[],availableOrganizations:[]},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,s.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){var t=this;this.setState({isFetchInFlight:!0},function(){Object(a.a)("GET","/user/dashboard/calendars",null,{onlyWriteable:!0}).then(function(e){t.setState({availableTargetCalendars:t.filterTargetCalendars(e.calendars),availableOrganizations:e.organizations,isFetchInFlight:!1})}).catch(function(e){t.setState({isUnauthenticated:e.response&&e.response.error&&e.response.error.id&&("login_required"===e.response.error.id||"two_factor_authentication_code_required"===e.response.error.id),isFetchError:!0,isFetchInFlight:!1})})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.availableTargetCalendars,r=t.availableOrganizations,a=t.isFetchError,i=t.isFetchInFlight,o=t.isUnauthenticated;return i?s.a.createElement(c.a,{className:"eventcopy-options",title:"calendar:event.copy_to_cal.title",onClose:function(){e.props.onCancel()}}):s.a.createElement(c.a,{className:"eventcopy-options",title:"calendar:event.copy_to_cal.title",onClose:function(){e.props.onCancel()},noText:"core_js:cancel",noClassName:"button",onNo:function(){e.props.onCancel()}},0<n.length&&!a&&s.a.createElement(_,{calendars:n,organizations:r,onSelect:this.handleTargetCalendarSelection}),!n.length&&!a&&s.a.createElement("div",{className:"content"},s.a.createElement("i",{className:"sprite-illustration-flag"}),s.a.createElement(l.a,{message:"calendar:event.copy_to_cal.error.no_targets_available",component:"p",params:{dashboard_url:u.a.getBaseUrl()+"/user"}})),o&&s.a.createElement("div",{className:"content"},s.a.createElement("i",{className:"sprite-illustration-flag"}),s.a.createElement(l.a,{message:"calendar:event.copy_to_cal.error.login_required",component:"p",params:{login_url:u.a.getLoginUrl()}})),a&&!o&&s.a.createElement("div",{className:"content"},s.a.createElement("i",{className:"sprite-illustration-flag"}),s.a.createElement(l.a,{message:"calendar:event.copy_to_cal.error.unknown",component:"p"})))}}])&&S(e.prototype,t),r&&S(e,r),n}();t.a=D},,function(e,t,n){"use strict";var r=n(19),a=n(96).some;r({target:"Array",proto:!0,forced:n(115)("some")},{some:function(e,t){return a(this,e,1<arguments.length?t:void 0)}})},function(e,t,n){var r=n(497);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var y=n(272),g=n(486),b=n(459),w=n(504),_=n(505),E=n(508),S=n(509),k=n(510),O=n(511),C=n(296),D=n(512),T=n(262),x=n(513),P=n(514),j=n(519),M=n(84),N=n(240),A=n(521),L=n(53),R=n(523),I=n(239),F=1,V=2,U=4,Y="[object Arguments]",H="[object Function]",B="[object GeneratorFunction]",W="[object Object]",z={};z[Y]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z[W]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Error]"]=z[H]=z["[object WeakMap]"]=!1,e.exports=function n(r,a,i,e,t,o){var s,l=a&F,u=a&V,c=a&U;if(i&&(s=t?i(r,e,t,o):i(r)),void 0!==s)return s;if(!L(r))return r;var d=M(r);if(d){if(s=x(r),!l)return S(r,s)}else{var f=T(r),p=f==H||f==B;if(N(r))return E(r,l);if(f==W||f==Y||p&&!t){if(s=u||p?{}:j(r),!l)return u?O(r,_(s,r)):k(r,w(s,r))}else{if(!z[f])return t?r:{};s=P(r,f,l)}}var h=(o=o||new y).get(r);if(h)return h;o.set(r,s),R(r)?r.forEach(function(e){s.add(n(e,a,i,e,r,o))}):A(r)&&r.forEach(function(e,t){s.set(t,n(e,a,i,t,r,o))});var m=c?u?D:C:u?keysIn:I,v=d?void 0:m(r);return g(v||r,function(e,t){v&&(e=r[t=e]),b(s,t,n(e,a,i,t,r,o))}),s}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(471);e.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},,function(e,t,n){var r=n(490),a=n(491),i=n(456);e.exports=function(t){var n=a(t);return 1==n.length&&n[0][2]?i(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}},function(e,t,n){var p=n(272),h=n(268);e.exports=function(e,t,n,r){var a=n.length,i=a,o=!r;if(null==e)return!i;for(e=Object(e);a--;){var s=n[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var l=(s=n[a])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new p;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?h(c,u,3,r,d):f))return!1}}return!0}},function(e,t,n){var i=n(455),o=n(239);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}},function(e,t,n){var a=n(268),i=n(493),o=n(498),s=n(419),l=n(455),u=n(456),c=n(399);e.exports=function(n,r){return s(n)&&l(r)?u(c(n),r):function(e){var t=i(e,n);return void 0===t&&t===r?o(e,n):a(r,t,3)}}},function(e,t,n){var a=n(457);e.exports=function(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}},function(e,t,n){var r=n(495),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var a=[];return 46===e.charCodeAt(0)&&a.push(""),e.replace(i,function(e,t,n,r){a.push(n?r.replace(o,"$1"):t||e)}),a});e.exports=a},function(e,t,n){var r=n(496);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(238),s="Expected a function";function l(a,i){if("function"!=typeof a||null!=i&&"function"!=typeof i)throw new TypeError(s);var o=function(){var e=arguments,t=i?i.apply(this,e):e[0],n=o.cache;if(n.has(t))return n.get(t);var r=a.apply(this,e);return o.cache=n.set(t,r)||n,r};return o.cache=new(l.Cache||r),o}l.Cache=r,e.exports=l},function(e,t,n){var r=n(155),a=n(313),i=n(84),o=n(388),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(499),a=n(500);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var s=n(458),l=n(293),u=n(84),c=n(283),d=n(241),f=n(399);e.exports=function(e,t,n){for(var r=-1,a=(t=s(t,e)).length,i=!1;++r<a;){var o=f(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&d(a)&&c(o,a)&&(u(e)||l(e))}},function(e,t,n){var r=n(502),a=n(503),i=n(419),o=n(399);e.exports=function(e){return i(e)?r(o(e)):a(e)}},function(e,t){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(e,t,n){var r=n(457);e.exports=function(t){return function(e){return r(e,t)}}},function(e,t,n){var r=n(400),a=n(239);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(400),a=n(461);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var a=n(53),i=n(275),o=n(507),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!a(e))return o(e);var t=i(e),n=[];for(var r in e)("constructor"!=r||!t&&s.call(e,r))&&n.push(r);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,o,s){(function(e){var t=s(67),n=o&&!o.nodeType&&o,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===n?t.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}).call(this,s(162)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(400),a=n(273);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(400),a=n(462);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(297),a=n(462),i=n(461);e.exports=function(e){return r(e,i,a)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,n){var a=n(421),i=n(515),o=n(516),s=n(517),l=n(518);e.exports=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return a(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return o(e);case"[object Set]":return new r;case"[object Symbol]":return s(e)}}},function(e,t,n){var r=n(421);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(155),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(421);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(520),a=n(463),i=n(275);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}},function(e,t,n){function r(e){if(!a(e))return{};if(i)return i(e);o.prototype=e;var t=new o;return o.prototype=void 0,t}var a=n(53),i=Object.create;function o(){}e.exports=r},function(e,t,n){var r=n(522),a=n(242),i=n(274),o=i&&i.isMap,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(262),a=n(112);e.exports=function(e){return a(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(524),a=n(242),i=n(274),o=i&&i.isSet,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(262),a=n(112);e.exports=function(e){return a(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(20),a=n(23),i=n(74),o=a("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),n=e.searchParams,r="";return e.pathname="c%20d",n.forEach(function(e,t){n.delete("b"),r+=t+e}),i&&!e.toJSON||!n.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==n.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!n[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},function(e,t,n){"use strict";var i=n(54),o=n(86),s=n(51),r=n(115),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,a=r("lastIndexOf");e.exports=c||a?function(e,t){if(c)return u.apply(this,arguments)||0;var n=i(this),r=s(n.length),a=r-1;for(1<arguments.length&&(a=l(a,o(t))),a<0&&(a=r+a);0<=a;a--)if(a in n&&n[a]===e)return a||0;return-1}:u},,function(e,t,n){"use strict";n(12),n(13),n(14),n(42),n(62),n(10),n(36),n(56),n(5),n(15),n(16),n(7),n(55),n(8),n(45),n(9);var r=n(0),a=n.n(r),o=n(4),s=n(77),i=n(254),l=n(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=d(this,f(i).call(this,e))).ref=null,t.handleOuterClick=function(e){t.handleClose()},t.handleNewsClicked=function(){t.setSeenDate(),window.ga&&window.ga("send","event","calendar","news_ticker_click")},t.handleOpen=function(e){e.preventDefault(),t.setSeenDate(),t.setState({isOpen:!t.state.isOpen}),window.ga&&window.ga("send","event","calendar","news_ticker")},t.handleClose=function(){t.state.isOpen&&t.setState({isOpen:!1})};var n=s.a.read("news_seen_date")||0;0===n&&(n=t.setSeenDate());var r=[],a=(new Date).getTime()-7776e6;return e.news.forEach(function(e){e.date>n&&e.date>a&&r.push(e.id)}),t.state={actualNews:r,isOpen:!1,showHasNews:0<r.length},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,a.a.Component),e=i,(t=[{key:"setSeenDate",value:function(){var e=(new Date).getTime();return s.a.write("news_seen_date",e.toString()),this.setState({showHasNews:!1}),e}},{key:"render",value:function(){var n=this,e=this.props.news.map(function(e){var t=-1!==n.state.actualNews.indexOf(e.id);return a.a.createElement("li",{className:"news-item"+(t?" is-new":""),key:e.id},a.a.createElement("div",{className:"news-item-wrapper"},a.a.createElement("div",{className:t?"icon sprite-icon-news-on":"icon sprite-icon-news-off"}),a.a.createElement("div",{className:"text"},a.a.createElement("a",{href:e.href,target:"_blank",onClick:n.handleNewsClicked},e.text)),t&&a.a.createElement("span",{className:"new-label"},"NEW!")))});return a.a.createElement("div",{className:"news-ticker-content",ref:function(e){n.ref=e}},a.a.createElement("a",{onClick:this.handleOpen,href:"http://blog.teamup.com/category/news/",className:"news_button"+(this.state.showHasNews?" sprite-icon-info-on":" sprite-icon-info-off"),title:o.a.translate("core_js","header.news_button")}),a.a.createElement("ul",{className:"news"+(this.state.isOpen?" visible":"")},e,a.a.createElement("li",{className:"social"},a.a.createElement("a",{href:"https://blog.teamup.com",target:"_blank"},a.a.createElement("i",{className:"icon-offset-normal sprite-icon-popup-teamup"}),"More news"),a.a.createElement("a",{href:"https://blog.teamup.com/tag/quick-tips/",target:"_blank"},a.a.createElement("i",{className:"icon-offset-normal sprite-icon-share-idea-gray"}),"Quick tips"),a.a.createElement("a",{href:"https://twitter.com/teamupthanks",target:"_blank"},a.a.createElement("i",{className:"icon-offset-normal sprite-icon-popup-twitter"}),"Thanks")),a.a.createElement(l.a,{component:"li",className:"close-button",message:"news_ticker.close",onClick:this.handleClose})))}}])&&c(e.prototype,t),n&&c(e,n),i}();t.a=Object(i.a)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0),s=u(o),l=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform}function d(){return h?"_"+Math.random().toString(36).substr(2,12):void 0}var f={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},p=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(v,o.Component),r(v,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||d()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(c(e,this.sizer),this.placeHolderSizer&&c(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return h&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!=e?e:t}),t=i({},this.props.style);t.display||(t.display="inline-block");var n,r=i({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return n=a,p.forEach(function(e){return delete n[e]}),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=r,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",i({},a,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:f},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:f},this.props.placeholder):null)}}]),v);function v(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.inputRef=function(e){t.input=e,"function"==typeof t.props.inputRef&&t.props.inputRef(e)},t.placeHolderSizerRef=function(e){t.placeHolderSizer=e},t.sizerRef=function(e){t.sizer=e},t.state={inputWidth:e.minWidth,inputId:e.id||d()},t}m.propTypes={className:l.default.string,defaultValue:l.default.any,extraWidth:l.default.oneOfType([l.default.number,l.default.string]),id:l.default.string,injectStyles:l.default.bool,inputClassName:l.default.string,inputRef:l.default.func,inputStyle:l.default.object,minWidth:l.default.oneOfType([l.default.number,l.default.string]),onAutosize:l.default.func,onChange:l.default.func,placeholder:l.default.string,placeholderIsMinWidth:l.default.bool,style:l.default.object,value:l.default.any},m.defaultProps={minWidth:1,injectStyles:!0},t.default=m},function(e,t,n){"use strict";n.d(t,"a",function(){return b});n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(1),o=n(70),s=n(412),l=n(478),u=n(41),c=n(18),d=n(2),f=n(432),p=n(385);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=v(this,y(t).apply(this,arguments))).discardAlert=function(){c.a.clear()},e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a.Component),e=t,(n=[{key:"renderCloseButton",value:function(){return this.props.closeButton||null}},{key:"renderStatus",value:function(){if(this.props.showStatus){var t=this.props.status;if(!t||"alert"===t.type)return this.props.defaultStatus;var e=this.props.statusTypeMap[t.type];return a.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),t&&t.onClick&&t.onClick()},className:e.buttonClass},a.a.createElement("i",{className:e.buttonIcon})," ",t.message)}}},{key:"render",value:function(){var e=this.props.sidebarCollapsed?"":" settings__navicon-open";this.props.showStatus||(e+=" modal__navicon");var t=this.props.status,n=d.a.getLoggedInUser();return a.a.createElement("div",{className:"page__settings"},a.a.createElement("section",{className:"page__settings__header"},a.a.createElement("div",{className:"page__settings__header-wrapper"},this.renderCloseButton(),a.a.createElement("section",{className:"page__settings__header-left"},this.renderStatus()),a.a.createElement("section",{className:"page__settings__header-right"},a.a.createElement(i.a,{message:this.props.title,component:"h1",className:"page__settings-title"}),this.props.showStatus&&n&&[a.a.createElement("div",{id:"add-to-dashboard",key:"add-to-dashboard"},a.a.createElement(o.a,{section:"core_js"},a.a.createElement(l.a,{isKeyAddedToDashboard:n.isKeyAddedToDashboard})))],this.props.showStatus&&a.a.createElement("div",{id:"user-avatar",key:"user-avatar",className:n?"user-avatar-"+n.avatarType:""},a.a.createElement(o.a,{section:"core_js"},a.a.createElement(s.a,{user:n}))),a.a.createElement("a",{href:"#",onClick:this.props.toggleSidebar,className:"settings__navicon"+e},a.a.createElement("i",{className:"sprite-navicon"})),n&&n.isUserImpersonated&&a.a.createElement(f.a,{switchUserParameter:window.switchUserParameter})))),t&&"alert"===t.type&&a.a.createElement(u.a,{title:t.params.title,message:t.message,yesText:"core_js:ok",yesClassName:"button primary",onYes:this.discardAlert,onClose:this.discardAlert,onEnter:this.discardAlert}),a.a.createElement(p.a,{id:"user-avatar-tooltip",className:"user-avatar-tooltip"}),this.props.children)}}])&&m(e.prototype,n),r&&m(e,r),t}();b.defaultProps={showStatus:!1,defaultStatus:null}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});n(12),n(13),n(14),n(10),n(5),n(15),n(16),n(7),n(8),n(9);var r=n(0),a=n.n(r),i=n(1),o=n(4);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,c(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a.a.Component),e=t,(n=[{key:"renderIframe",value:function(){return a.a.createElement("iframe",{src:"https://app.companycam.com/embed/projects/"+this.props.projectId,frameBorder:"0",width:"100%",height:"300px"})}},{key:"render",value:function(){return!0===this.props.eventPageLayout?a.a.createElement("div",{className:"event__contentbox-primary"},a.a.createElement("div",{className:"event__contentbox-info"},a.a.createElement("label",null,a.a.createElement("i",{className:"sprite-event-companycam"}),o.a.translate("calendar","event.editor.companyCamText"))),this.renderIframe()):a.a.createElement("div",{className:"visual-input company-cam"},a.a.createElement("i",{className:"sprite-event-companycam visual-input-icon"}),a.a.createElement("label",null,this.props.label||a.a.createElement(i.a,{message:"calendar:event.editor.companyCamText"})),a.a.createElement("div",{className:"value"},this.renderIframe()))}}])&&l(e.prototype,n),r&&l(e,r),t}();f.defaultProps={eventPageLayout:!1}},function(e,t,n){"use strict";n(12),n(13),n(14),n(248),n(10),n(72),n(36),n(269),n(25),n(5),n(15),n(16),n(7),n(80),n(8),n(9);var r=n(0),i=n.n(r),a=n(27),o=n.n(a),s=(n(88),n(26)),l=n(1),u=n(4),c=n(39),d=n(41),f=n(11),p=n(2);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"storeSignup",value:function(e,t,n){var r,a="POST";r=t?p.a.getBaseUrl()+"/"+p.a.getAppKey()+"/events/"+t+"/signups":p.a.getBaseUrl()+"/events/pointer/"+n+"/signups";var i={name:e.name,email:e.email};return 0<e.id&&(a="PUT",i.id=e.id,r+="/"+e.id),Object(f.a)(a,r,i)}},{key:"deleteSignup",value:function(e,t){return Object(f.a)("DELETE",p.a.getBaseUrl()+"/"+p.a.getAppKey()+"/events/"+t+"/signups/"+e.id)}}])&&h(t.prototype,n),r&&h(t,r),e}()),v=n(18),y=n(3),g=n.n(y),b=n(77);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(){function o(e){var n,t,r;if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=E(this,S(o).call(this,e))).handleChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.handleSave=function(){var e;""!=(e={id:0,name:n.state.name.trim(),email:n.state.email.trim(),email_hash:"0",creation_dt:g()().format("YYYY-MM-DD HH:mm"),update_dt:null}).name||""!=e.email?""===e.email||Object(c.f)(e.email)?(n.props.signup&&n.props.signup.id&&(e.id=n.props.signup.id),n.props.eventId&&!n.props.newlyEnabled||n.props.eventPointer?m.storeSignup(e,n.props.eventId,n.props.eventPointer).then(function(e){v.a.flashStatus(e.message,"success"),n.props.onSuccess(e.data)}).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:t.error.message})}):n.props.onSuccess(e)):n.setState({error:u.a.translate("calendar","event.comments.form.please_enter_valid_email")}):n.setState({error:u.a.translate("calendar","event.signup.form.not_empty")})},n.props.signup)t=n.props.signup.name,r=n.props.signup.email;else{var a=p.a.getLoggedInUser(),i=JSON.parse(b.a.read(p.a.getAppKey()+"-signups"))||null;t=a?a.fullname:i&&i.name?i.name:"",r=a?a.email:i&&i.email?i.email:""}return n.state={name:t,email:r,error:null},n}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,i.a.Component),e=o,(t=[{key:"render",value:function(){var e=this;return i.a.createElement(d.a,{className:"eventsignup-form",title:"calendar:event.signup.form.title",yesText:"core_js:save",yesClassName:"button secondary",onYes:this.handleSave,onClose:function(){e.props.onCancel()},onEnter:this.handleSave},i.a.createElement("div",{className:"visual-input"},i.a.createElement(l.a,{message:"calendar:event.signup.form.name",component:"label"}),i.a.createElement("div",{className:"value"},i.a.createElement(s.a,{type:"text",className:"event-signup__input",name:"name",defaultValue:this.state.name,onChange:this.handleChange,autoComplete:"off",autoFocus:!0}))),i.a.createElement("div",{className:"visual-input"},i.a.createElement(l.a,{message:"calendar:event.signup.form.email",component:"label"}),i.a.createElement("div",{className:"value"},i.a.createElement(s.a,{type:"email",className:"event-signup__input",name:"email",defaultValue:this.state.email,onChange:this.handleChange}))),this.state.error&&i.a.createElement("p",{className:"error-msg"},i.a.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}])&&_(e.prototype,t),n&&_(e,n),o}(),C=n(66);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=x(this,P(t).call(this,e))).handleRemove=function(){var e=n.props.signup;n.props.eventId&&!n.props.newlyEnabled?m.deleteSignup(e,n.props.eventId).then(function(){n.props.onSuccess(e)}).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:t.error.message})}):n.props.onSuccess(e)},n.state={error:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,C["a"].makeFormValues()),e=t,(n=[{key:"render",value:function(){var e=this;return i.a.createElement(d.a,{title:"calendar:event.signup.remove_title",yesText:"core_js:remove",yesClassName:"button warning",noText:"core_js:cancel",onYes:this.handleRemove,onNo:function(){return e.props.onCancel()},onClose:function(){return e.props.onCancel()}},i.a.createElement(l.a,{component:"p",message:"calendar:event.signup.confirm_remove",params:{name:this.props.signup.name||this.props.signup.email}}),this.state.error&&i.a.createElement("p",{className:"error-msg"},i.a.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}])&&T(e.prototype,n),r&&T(e,r),t}(),N=n(24),A=n(380);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function V(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=function(){function e(){var t;return R(this,e),(t=V(this,U(e).apply(this,arguments))).ref=null,t.handleKeyDown=function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),t.ref&&t.ref.click())},t}return Y(e,i.a.Component),F(e,[{key:"render",value:function(){var t=this,e=N.a.get("box_layout.multi_day_month_start_moment"),n=N.a.get("time_moment"),r=this.props.tabIndex?this.props.tabIndex:0;return this.props.deadline?i.a.createElement("div",null,i.a.createElement("button",{id:this.props.id,className:this.props.className,onClick:function(e){t.props.handler(e)},onKeyDown:this.handleKeyDown,tabIndex:r,ref:function(e){t.ref=e}},i.a.createElement("i",{className:this.props.icon}),this.props.label),i.a.createElement("span",{className:"soft-button deadline-text"},i.a.createElement("i",{className:"sprite-event-time"}),u.a.translate("calendar","event.signup.deadline")," ",this.props.deadline.format(e)+" "+this.props.deadline.format(n))):i.a.createElement("button",{id:this.props.id,className:this.props.className,onClick:function(e){t.props.handler(e)},onKeyDown:this.handleKeyDown,tabIndex:r,ref:function(e){t.ref=e}},i.a.createElement("i",{className:this.props.icon}),this.props.label)}}]),e}(),W=function(){function e(){return R(this,e),V(this,U(e).apply(this,arguments))}return Y(e,i.a.Component),F(e,[{key:"renderName",value:function(){var t=this,e=this.props.signup;if(this.props.editable){var n=[];return""!==e.name&&n.push(e.name),""!==e.email&&n.push(e.email),i.a.createElement("a",{onClick:function(e){t.props.editHandler(e,t.props.signup)},className:"name"},n.join(", "))}return i.a.createElement("span",{key:this.props.signup.id,className:"name"},e.name||e.email)}},{key:"render",value:function(){var t=this,e=g.a.parseZone(this.props.signup.creation_dt),n="https://www.gravatar.com/avatar/"+this.props.signup.email_hash+"?s=20&d=blank";return i.a.createElement("div",{className:"flex-row"},i.a.createElement("div",{className:"raw-item icon"},i.a.createElement("img",{src:n,alt:""})),i.a.createElement("div",{className:"flex-item"},this.renderName(),"",i.a.createElement(A.a,{className:"creation-dt",date:e}),this.props.editable?i.a.createElement("span",null,","):null,this.props.editable?i.a.createElement("a",{className:"soft-button",onClick:function(e){t.props.removeHandler(e,t.props.signup)}},u.a.translate("core_js","remove")):null))}}]),e}(),z=-1,G=function(){function t(e){var r;return R(this,t),(r=V(this,U(t).call(this,e))).loadPromise=null,r.handleAdd=function(e){e.preventDefault(),r.props.allowSignup?r.props.limit&&(r.props.signups&&r.props.signups.length>=r.props.limit||r.props.signedUpCount&&r.props.signedUpCount>=r.props.limit)?r.setState({showErrorPrompt:u.a.translate("calendar","event.signup.limit_hit")}):r.state.showEditForm||r.setState({showEditForm:!0,editingSignup:null}):r.setState({showErrorPrompt:u.a.translate("calendar","event.signup.expired")})},r.handleEdit=function(e,t){e.preventDefault(),!r.state.showEditForm&&r.props.editable&&r.setState({showEditForm:!0,editingSignup:t})},r.handleRemove=function(e,t){e.preventDefault(),!r.state.showRemovePrompt&&r.props.editable&&r.setState({showRemovePrompt:!0,deletingComment:t})},r.onRemove=function(t){var e=r.state.signups,n=e.findIndex(function(e){return e&&e.id==t.id});-1!==n&&e.splice(n,1),r.setState({signups:e,deletingComment:null,showRemovePrompt:!1}),r.props.updateHandler(e,-1)},r.handleExport=function(e){e.preventDefault(),r.props.eventId&&!r.props.newlyEnabled&&(window.location=p.a.getBaseUrl()+"/"+p.a.getAppKey()+"/events/"+r.props.eventId+"/export-signups")},r.state={signups:r.props.signups,showEditForm:!1,editingSignup:null,showErrorPrompt:!1,showRemovePrompt:!1,deletingComment:null,error:null},r}return Y(t,i.a.Component),F(t,[{key:"componentDidUpdate",value:function(){this.props.enabled&&this.renderSignupButtons()}},{key:"componentWillUnmount",value:function(){this.loadPromise&&(this.loadPromise.cancel(),this.loadPromise=null)}},{key:"renderSignupButtons",value:function(){function e(){var t=a[n];o.a.render(i.a.createElement(B,{id:t.id,className:t.className,label:t.label,icon:t.icon,handler:function(e){t.onClick&&t.onClick(e),r.handleAdd(e)},deadline:"event-signup-btn"===t.id?r.props.deadline:null,tabIndex:t.tabIndex||0}),document.getElementById(t.id))}var n,r=this,a=this.props.signupButtons;for(n=0;n<a.length;n++)e()}},{key:"renderEditForm",value:function(){var t=this;if(this.state.showEditForm){var n=this.state.editingSignup?0:1;return i.a.createElement(O,{eventId:this.props.eventId,eventPointer:this.props.eventPointer,newlyEnabled:this.props.newlyEnabled||!1,signup:this.state.editingSignup,onSuccess:function(e){t.onUpdate(e,n)},onCancel:function(){t.setState({showEditForm:!1})}})}return null}},{key:"onUpdate",value:function(t,e){var n;if(this.props.displaySignups){var r=(n=this.state.signups).findIndex(function(e){return e.id==t.id});-1==r?(n.unshift(t),t.id||(t.id=z--),b.a.write(p.a.getAppKey()+"-signups",JSON.stringify({name:t.name,email:t.email}))):n[r]=t}else n=[];this.setState({signups:n,showEditForm:!1,editingSignup:null,showErrorPrompt:!1}),this.props.updateHandler(n,e)}},{key:"flushBufferedWrites",value:function(t){var e=this.state.signups.map(function(e){m.storeSignup(e,t,void 0).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),v.a.alert("",t.error.message,{},t.error.id)})});return Promise.all(e)}},{key:"renderErrorPrompt",value:function(){var e=this;return!1!==this.state.showErrorPrompt?i.a.createElement(d.a,{title:"calendar:event.options.signup",message:this.state.showErrorPrompt,yesText:"core_js:ok",yesClassName:"button primary",onYes:function(){e.setState({showErrorPrompt:!1})},onClose:function(){e.setState({showErrorPrompt:!1})},onEnter:function(){e.setState({showErrorPrompt:!1})}}):null}},{key:"renderRemovePrompt",value:function(){var e=this;return this.props.editable&&this.state.showRemovePrompt&&this.state.deletingComment?i.a.createElement(M,{eventId:this.props.eventId,newlyEnabled:this.props.newlyEnabled||!1,signup:this.state.deletingComment,onSuccess:this.onRemove,onCancel:function(){e.setState({showRemovePrompt:!1})}}):null}},{key:"renderDeadline",value:function(){if(this.props.deadline){var e=N.a.get("box_layout.multi_day_month_start_moment"),t=N.a.get("time_moment"),n=this.props.deadline;return i.a.createElement("span",{className:"soft-button"},"("+u.a.translate("calendar","event.signup.list.deadline")+": "+n.format(e)+" "+n.format(t)+")")}}},{key:"render",value:function(){var t=this;if(!this.props.displaySignups)return i.a.createElement("div",{className:this.props.containerClass},this.renderEditForm(),this.renderErrorPrompt());var e=this.props.signups&&0<this.props.signups.length?this.props.signups:[];return i.a.createElement("div",{className:this.props.containerClass},this.props.iconClass&&i.a.createElement("i",{className:this.props.iconClass}),this.props.limit?i.a.createElement(l.a,{component:"label",message:"calendar:event.signup.list.count_out_of",params:{count:e.length,limit:this.props.limit}}):i.a.createElement(l.a,{component:"label",message:"calendar:event.signup.list.count",params:{count:e.length}}),this.props.editable&&!this.props.newlyEnabled&&0<e.length&&i.a.createElement("a",{onClick:this.handleExport,className:"soft-button"},u.a.translate("calendar","event.signup.list.export")),this.props.allowSignup&&i.a.createElement("a",{onClick:this.handleAdd,className:"soft-button"},u.a.translate("calendar","event.signup.form.button")),this.renderDeadline(),this.renderEditForm(),this.renderErrorPrompt(),this.renderRemovePrompt(),i.a.createElement("div",{className:"flex-container"},e.map(function(e){return i.a.createElement(W,{editable:t.props.editable,signup:e,key:"signup"+e.id,editHandler:t.handleEdit,removeHandler:t.handleRemove})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.signups!==t.signups?{signups:e.signups}:null}}]),t}();G.defaultProps={signups:[],editable:!1,enabled:!1,allowSignup:!1,displaySignups:!1,iconClass:"sprite-event-signup",signupButtons:[]};t.a=G},function(e,t,n){"use strict";n(12),n(13),n(14),n(248),n(10),n(36),n(269),n(25),n(5),n(15),n(16),n(7),n(80),n(8),n(9);var r=n(0),l=n.n(r),u=(n(88),n(26)),c=n(1),d=n(4),f=n(433),a=n(66),i=n(18),o=n(39),s=n(11),p=n(2);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"storeComment",value:function(e,t,n){var r,a="POST";r=t?p.a.getBaseUrl()+"/"+p.a.getAppKey()+"/events/"+t+"/comments":p.a.getBaseUrl()+"/events/pointer/"+n+"/comments";var i={name:e.name,email:e.email,message:e.message};return 0<e.id&&(i.id=e.id,a="PUT",r+="/"+e.id),Object(s.a)(a,r,i)}},{key:"deleteComment",value:function(e,t){return Object(s.a)("DELETE",p.a.getBaseUrl()+"/"+p.a.getAppKey()+"/events/"+t+"/comments/"+e.id)}}])&&h(t.prototype,n),r&&h(t,r),e}()),v=n(3),y=n.n(v),g=n(77);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=_(this,E(t).call(this,e))).commentBox=null,r.message=r.props.comment?r.props.comment.message:"",r.handleSubmit=function(e){e.preventDefault();var t=r.getFormValues();if(""!=t.name.trim()||""!=t.email.trim())if(""===t.email.trim()||Object(o.f)(t.email.trim()))if(!r.message||r.message&&""==r.message.trim())r.setState({error:{message:d.a.translate("calendar","event.comments.form.message_empty"),field:"message"}});else{t.message=r.message.trim();var n={id:0,name:t.name.trim(),email:t.email.trim(),email_hash:"0",message:t.message,creation_dt:y()().format("YYYY-MM-DD HH:mm"),update_dt:null,updater:""};r.props.comment&&r.props.comment.id&&(n.id=r.props.comment.id),r.props.newlyEnabled?r.props.onSuccess(n):m.storeComment(n,r.props.eventId,r.props.eventPointer).then(function(e){i.a.flashStatus(e.message,"success"),r.props.onSuccess(e.data)}).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),r.setState({error:{message:t.error.message,field:null}})})}else r.setState({error:{field:"email",message:d.a.translate("calendar","event.comments.form.please_enter_valid_email")}});else r.setState({error:{message:d.a.translate("calendar","event.comments.form.name_empty"),field:""==t.name.trim()?"name":"email"}})},r.state={error:{message:null,field:null}},r}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,a["a"].makeFormValues()),e=t,(n=[{key:"render",value:function(){var e,t,n=this,r=this.props.comment||null,a=this.state.error,i="";if(r)e=r.name,t=r.email,i=r.message;else{var o=p.a.getLoggedInUser(),s=JSON.parse(g.a.read(p.a.getAppKey()+"-comments"))||null;e=o?o.fullname:s&&s.name?s.name:"",t=o?o.email:s&&s.email?s.email:""}return l.a.createElement("div",{className:"event__comments-form"},l.a.createElement("form",{className:"form",ref:"comments-form",onSubmit:this.handleSubmit},l.a.createElement("div",{className:"name-row"},l.a.createElement("div",{className:"visual-input"+("name"==a.field?" has-error":"")},l.a.createElement(u.a,{type:"text",className:"event-signup__input",name:"name",ref:"name",placeholder:d.a.translate("calendar","event.comments.form.name_placeholder"),defaultValue:e,autoComplete:"off",autoFocus:""==e.trim()})),l.a.createElement("div",{className:"visual-input"+("email"==a.field?" has-error":"")},l.a.createElement(u.a,{type:"email",className:"event-signup__input",name:"email",ref:"email",placeholder:d.a.translate("calendar","event.comments.form.email_placeholder"),defaultValue:t,autoComplete:"off"}))),l.a.createElement("div",{className:"message-row"},l.a.createElement(f.a,{id:"event__comments-message-area",ref:function(e){n.commentBox=e},defaultValue:i,editorType:"comment",onChange:function(e){n.message=e},autoFocus:""!==e.trim()})),l.a.createElement("div",{className:"buttons-row"},l.a.createElement(c.a,{component:"button",type:"submit",className:"button primary",message:"core_js:save"}),l.a.createElement("button",{type:"button",onClick:function(){n.props.onCancel()},className:"button ghost"},l.a.createElement("i",{className:"sprite-event-close"})),a.message&&l.a.createElement("p",{className:"error-message"},l.a.createElement("i",{className:"sprite-icon-alert"}),a.message))))}}])&&w(e.prototype,n),r&&w(e,r),t}(),O=n(41);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,x(t).call(this,e))).handleRemove=function(){n.props.newlyEnabled?n.props.onSuccess(n.props.comment):m.deleteComment(n.props.comment,n.props.eventId).then(function(){n.props.onSuccess(n.props.comment)}).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:t.error.message})})},n.state={error:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,l.a.Component),e=t,(n=[{key:"render",value:function(){var e=this;return l.a.createElement(O.a,{title:"calendar:event.signup.remove_title",yesText:"core_js:remove",yesClassName:"button warning",noText:"core_js:cancel",onYes:this.handleRemove,onNo:function(){e.props.onCancel()},onClose:function(){e.props.onCancel()}},l.a.createElement(c.a,{component:"p",message:"calendar:event.signup.confirm_remove",params:{name:this.props.comment.name||this.props.comment.email}}),this.state.error&&l.a.createElement("p",{className:"error-msg"},l.a.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}])&&D(e.prototype,n),r&&D(e,r),t}(),M=n(380);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function I(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(){function e(){return A(this,e),I(this,F(e).apply(this,arguments))}return V(e,l.a.Component),R(e,[{key:"renderButtons",value:function(){var t=this;return l.a.createElement("span",null,"- ",l.a.createElement("a",{onClick:function(e){t.props.editHandler(e,t.props.comment)},className:"soft-button"},d.a.translate("core_js","edit")),"- ",l.a.createElement("a",{onClick:function(e){t.props.removeHandler(e,t.props.comment)},className:"soft-button"},d.a.translate("core_js","delete")))}},{key:"renderCreationDate",value:function(){var e=this.props.comment,t=null;return e.update_dt&&""!=e.updater&&(t=l.a.createElement(M.a,{date:y.a.parseZone(e.update_dt),template:d.a.translate("calendar","event.comments.updated_by",{update_dt:"%time_ago%",updater_name:e.updater})})),l.a.createElement("p",null,l.a.createElement(M.a,{date:y.a.parseZone(e.creation_dt)}),t)}},{key:"render",value:function(){var t=this,e=this.props.comment,n=!(!this.props.editable||null===this.props.editingComment)&&this.props.editingComment;return!1!==n&&n.id==e.id?l.a.createElement(k,{eventId:this.props.eventId,eventPointer:this.props.eventPointer,newlyEnabled:this.props.newlyEnabled||!1,comment:n,onSuccess:function(e){t.props.successHandler(e)},onCancel:this.props.cancelHandler}):l.a.createElement("div",{className:"flex-comment"},l.a.createElement("div",{className:"flex-row"},l.a.createElement("div",{className:"raw-item icon"},l.a.createElement("img",{src:"https://www.gravatar.com/avatar/"+e.email_hash+"?s=30&d=blank",alt:""})),l.a.createElement("div",{className:"flex-item name"},l.a.createElement("span",{title:e.name||e.email},e.name||e.email))),l.a.createElement("div",{className:"flex-row wysiwyg visual-input"},l.a.createElement("div",{className:"preview readonly",dangerouslySetInnerHTML:{__html:e.message}})),l.a.createElement("div",{className:"flex-row creation-dt"},this.renderCreationDate(),this.props.editable&&this.renderButtons()))}}]),e}(),H=-1,B=function(){function t(e){var r;return A(this,t),(r=I(this,F(t).call(this,e))).handleEdit=function(e,t){e.preventDefault(),r.props.editable&&(r.props.eventId||r.props.newlyEnabled)&&r.setState({showAddCommentForm:!1,editingComment:t})},r.handleRemove=function(e,t){e.preventDefault(),!r.state.showRemovePrompt&&r.props.editable&&(r.props.eventId||r.props.newlyEnabled)&&r.setState({showRemovePrompt:!0,deletingComment:t})},r.onUpdate=function(t){var e=[];if(r.props.displayComments){var n=(e=r.state.comments).findIndex(function(e){return e&&e.id==t.id});-1==n?(e.unshift(t),t.id||(t.id=H--),g.a.write(p.a.getAppKey()+"-comments",JSON.stringify({name:t.name,email:t.email}))):e[n]=t}r.setState({comments:e,editingComment:null,showAddCommentForm:!1}),r.props.updateHandler(e)},r.onRemove=function(t){if("boolean"!=typeof r.state.comments){var e=r.state.comments,n=e.findIndex(function(e){return e&&e.id==t.id});-1!==n&&e.splice(n,1),r.setState({comments:e,deletingComment:null,showRemovePrompt:!1}),r.props.updateHandler(e)}},r.state={comments:r.props.comments,showAddCommentForm:!1,editingComment:null,showRemovePrompt:!1,deletingComment:null,error:null},r}return V(t,l.a.Component),R(t,[{key:"handleAdd",value:function(e){e.preventDefault(),this.setState({showAddCommentForm:!this.state.showAddCommentForm,editingComment:null})}},{key:"renderCommentForm",value:function(){var e=this;return this.state.showAddCommentForm?l.a.createElement(k,{eventId:this.props.eventId,eventPointer:this.props.eventPointer,newlyEnabled:this.props.newlyEnabled||!1,comment:this.state.editingComment,onSuccess:this.onUpdate,onCancel:function(){e.setState({showAddCommentForm:!1})}}):null}},{key:"flushBufferedWrites",value:function(t){var e=this.state.comments.map(function(e){m.storeComment(e,t,void 0).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),i.a.alert("",t.error.message,{},t.error.id)})});return Promise.all(e)}},{key:"renderRemovePrompt",value:function(){var e=this;return this.state.showRemovePrompt&&this.state.deletingComment?l.a.createElement(j,{eventId:this.props.eventId,newlyEnabled:this.props.newlyEnabled||!1,comment:this.state.deletingComment,onSuccess:function(){e.onRemove(e.state.deletingComment)},onCancel:function(){e.setState({showRemovePrompt:!1})}}):null}},{key:"render",value:function(){var t=this;if(!this.props.displayComments)return null;var e=this.props.comments&&0<this.props.comments.length?this.props.comments:[],n=this.props.enabled&&(this.props.editable||!this.props.editable&&"all_users"===this.props.visibility),r=this.state.showAddCommentForm?"core_js:cancel":"calendar:event.comments.add";return l.a.createElement("div",{className:this.props.containerClass},this.props.iconClass&&l.a.createElement("i",{className:this.props.iconClass}),l.a.createElement(c.a,{component:"label",message:"calendar:event.comments.list.count",params:{count:e.length}}),n&&l.a.createElement(c.a,{message:r,component:"a",onClick:function(e){t.handleAdd(e)},className:"soft-button"}),this.renderCommentForm(),this.renderRemovePrompt(),l.a.createElement("div",{className:"flex-container"},e.map(function(e){return l.a.createElement(Y,{editable:t.props.editable,editingComment:t.state.editingComment,eventId:t.props.eventId,eventPointer:t.props.eventPointer,newlyEnabled:t.props.newlyEnabled||!1,comment:e,editHandler:t.handleEdit,removeHandler:t.handleRemove,successHandler:function(e){t.onUpdate(e)},cancelHandler:function(){t.setState({editingComment:null})},timezone:t.props.timezone,key:e.id})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.comments!==t.comments?{comments:e.comments}:null}}]),t}();B.defaultProps={comments:[],editable:!1,eventId:void 0,eventPointer:void 0,enabled:!1,iconClass:"sprite-icon-event-comments"};t.a=B},,function(e,t,n){var r=n(540),a=n(543)(r);e.exports=a},function(e,t,n){var a=n(223),i=n(224),o=n(283),s=n(53);e.exports=function(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n)&&a(n[t],e)}},,function(e,t,n){var r=n(312),a=n(567),i=n(472),o=n(84);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},function(e,t,n){var r=n(67);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(541),a=n(239);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(542)();e.exports=r},function(e,t){e.exports=function(l){return function(e,t,n){for(var r=-1,a=Object(e),i=n(e),o=i.length;o--;){var s=i[l?o:++r];if(!1===t(a[s],s,a))break}return e}}},function(e,t,n){var s=n(224);e.exports=function(i,o){return function(e,t){if(null==e)return e;if(!s(e))return i(e,t);for(var n=e.length,r=o?n:-1,a=Object(e);(o?r--:++r<n)&&!1!==t(a[r],r,a););return e}}},function(e,t,n){"use strict";n(8);function w(e,t){var n,r,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return R;if(!(n=J(t.slice(1,-1))))return R;e.host=n}else if(re(e)){if(t=v(t),z.test(t))return R;if(null===(n=$(t)))return R;e.host=n}else{if(G.test(t))return R;for(n="",r=D(t),a=0;a<r.length;a++)n+=te(r[a],Q);e.host=n}}function c(e){var t,n,r,a;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=N(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",r=function(e){for(var t=null,n=1,r=null,a=0,i=0;i<8;i++)0!==e[i]?(n<a&&(t=r,n=a),r=null,a=0):(null===r&&(r=i),++a);return n<a&&(t=r,n=a),t}(e),n=0;n<8;n++)a&&0===e[n]||(a=a&&!1,r===n?(t+=n?":":"::",a=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}function _(e){return""!=e.username||""!=e.password}function a(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function E(e,t){var n;return 2==e.length&&F.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)}function S(e){var t;return 1<e.length&&E(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)}function k(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&E(t[0],!0)||t.pop()}function d(e,t,n,r){var a,i,o,s,l,u,c=n||ae,d=0,f="",p=!1,h=!1,m=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(K,"")),t=t.replace(q,""),a=D(t);d<=a.length;){switch(i=a[d],c){case ae:if(!i||!F.test(i)){if(n)return L;c=oe;continue}f+=i.toLowerCase(),c=ie;break;case ie:if(i&&(V.test(i)||"+"==i||"-"==i||"."==i))f+=i.toLowerCase();else{if(":"!=i){if(n)return L;f="",c=oe,d=0;continue}if(n&&(re(e)!=C(ne,f)||"file"==f&&(_(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(re(e)&&ne[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=ye:re(e)&&r&&r.scheme==e.scheme?c=se:re(e)?c=de:"/"==a[d+1]?(c=le,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Ee)}break;case oe:if(!r||r.cannotBeABaseURL&&"#"!=i)return L;if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=ke;break}c="file"==r.scheme?ye:ue;continue;case se:if("/"!=i||"/"!=a[d+1]){c=ue;continue}c=fe,d++;break;case le:if("/"==i){c=pe;break}c=_e;continue;case ue:if(e.scheme=r.scheme,i==O)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==i||"\\"==i&&re(e))c=ce;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Se;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=_e;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=ke}break;case ce:if(!re(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=_e;continue}c=pe}else c=fe;break;case de:if(c=fe,"/"!=i||"/"!=f.charAt(d+1))continue;d++;break;case fe:if("/"==i||"\\"==i)break;c=pe;continue;case pe:if("@"==i){p&&(f="%40"+f),p=!0,o=D(f);for(var v=0;v<o.length;v++){var y=o[v];if(":"!=y||m){var g=te(y,ee);m?e.password+=g:e.username+=g}else m=!0}f=""}else if(i==O||"/"==i||"?"==i||"#"==i||"\\"==i&&re(e)){if(p&&""==f)return"Invalid authority";d-=D(f).length+1,f="",c=he}else f+=i;break;case he:case me:if(n&&"file"==e.scheme){c=be;continue}if(":"!=i||h){if(i==O||"/"==i||"?"==i||"#"==i||"\\"==i&&re(e)){if(re(e)&&""==f)return R;if(n&&""==f&&(_(e)||null!==e.port))return;if(s=w(e,f))return s;if(f="",c=we,n)return;continue}"["==i?h=!0:"]"==i&&(h=!1),f+=i}else{if(""==f)return R;if(s=w(e,f))return s;if(f="",c=ve,n==me)return}break;case ve:if(!U.test(i)){if(i==O||"/"==i||"?"==i||"#"==i||"\\"==i&&re(e)||n){if(""!=f){var b=parseInt(f,10);if(65535<b)return I;e.port=re(e)&&b===ne[e.scheme]?null:b,f=""}if(n)return;c=we;continue}return I}f+=i;break;case ye:if(e.scheme="file","/"==i||"\\"==i)c=ge;else{if(!r||"file"!=r.scheme){c=_e;continue}if(i==O)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==i)e.host=r.host,e.path=r.path.slice(),e.query="",c=Se;else{if("#"!=i){S(a.slice(d).join(""))||(e.host=r.host,e.path=r.path.slice(),k(e)),c=_e;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=ke}}break;case ge:if("/"==i||"\\"==i){c=be;break}r&&"file"==r.scheme&&!S(a.slice(d).join(""))&&(E(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=_e;continue;case be:if(i==O||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&E(f))c=_e;else if(""==f){if(e.host="",n)return;c=we}else{if(s=w(e,f))return s;if("localhost"==e.host&&(e.host=""),n)return;f="",c=we}continue}f+=i;break;case we:if(re(e)){if(c=_e,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=O&&(c=_e,"/"!=i))continue}else e.fragment="",c=ke;else e.query="",c=Se;break;case _e:if(i==O||"/"==i||"\\"==i&&re(e)||!n&&("?"==i||"#"==i)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(k(e),"/"==i||"\\"==i&&re(e)||e.path.push("")):"."===(l=f)||"%2e"===l.toLowerCase()?"/"==i||"\\"==i&&re(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&E(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(i==O||"?"==i||"#"==i))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",c=Se):"#"==i&&(e.fragment="",c=ke)}else f+=te(i,X);break;case Ee:"?"==i?(e.query="",c=Se):"#"==i?(e.fragment="",c=ke):i!=O&&(e.path[0]+=te(i,Q));break;case Se:n||"#"!=i?i!=O&&("'"==i&&re(e)?e.query+="%27":e.query+="#"==i?"%23":te(i,Q)):(e.fragment="",c=ke);break;case ke:i!=O&&(e.fragment+=te(i,Z))}d++}}function r(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}var O,i=n(19),f=n(33),o=n(525),s=n(21),l=n(270),u=n(38),p=n(132),C=n(31),h=n(288),D=n(417),m=n(193).codeAt,v=n(545),y=n(92),g=n(546),b=n(73),T=s.URL,x=g.URLSearchParams,P=g.getState,j=b.set,M=b.getterFor("URL"),N=Math.floor,A=Math.pow,L="Invalid scheme",R="Invalid host",I="Invalid port",F=/[A-Za-z]/,V=/[\d+\-.A-Za-z]/,U=/\d/,Y=/^(0x|0X)/,H=/^[0-7]+$/,B=/^\d+$/,W=/^[\dA-Fa-f]+$/,z=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,G=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,K=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,q=/[\u0009\u000A\u000D]/g,$=function(e){var t,n,r,a,i,o,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),4<(t=l.length))return e;for(n=[],r=0;r<t;r++){if(""==(a=l[r]))return e;if(i=10,1<a.length&&"0"==a.charAt(0)&&(i=Y.test(a)?16:8,a=a.slice(8==i?1:2)),""===a)o=0;else{if(!(10==i?B:8==i?H:W).test(a))return e;o=parseInt(a,i)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=A(256,5-t))return null}else if(255<o)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*A(256,3-r);return s},J=function(e){function t(){return e.charAt(f)}var n,r,a,i,o,s,l,u=[0,0,0,0,0,0,0,0],c=0,d=null,f=0;if(":"==t()){if(":"!=e.charAt(1))return;f+=2,d=++c}for(;t();){if(8==c)return;if(":"!=t()){for(n=r=0;r<4&&W.test(t());)n=16*n+parseInt(t(),16),f++,r++;if("."==t()){if(0==r)return;if(f-=r,6<c)return;for(a=0;t();){if(i=null,0<a){if(!("."==t()&&a<4))return;f++}if(!U.test(t()))return;for(;U.test(t());){if(o=parseInt(t(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(255<i)return;f++}u[c]=256*u[c]+i,2!=++a&&4!=a||c++}if(4!=a)return;break}if(":"==t()){if(f++,!t())return}else if(t())return;u[c++]=n}else{if(null!==d)return;f++,d=++c}}if(null!==d)for(s=c-d,c=7;0!=c&&0<s;)l=u[c],u[c--]=u[d+s-1],u[d+--s]=l;else if(8!=c)return;return u},Q={},Z=h({},Q,{" ":1,'"':1,"<":1,">":1,"`":1}),X=h({},Z,{"#":1,"?":1,"{":1,"}":1}),ee=h({},X,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),te=function(e,t){var n=m(e,0);return 32<n&&n<127&&!C(t,e)?e:encodeURIComponent(e)},ne={ftp:21,file:null,http:80,https:443,ws:80,wss:443},re=function(e){return C(ne,e.scheme)},ae={},ie={},oe={},se={},le={},ue={},ce={},de={},fe={},pe={},he={},me={},ve={},ye={},ge={},be={},we={},_e={},Ee={},Se={},ke={},Oe=function(e,t){var n,r,a=p(this,Oe,"URL"),i=1<arguments.length?t:void 0,o=String(e),s=j(a,{type:"URL"});if(void 0!==i)if(i instanceof Oe)n=M(i);else if(r=d(n={},String(i)))throw TypeError(r);if(r=d(s,o,null,n))throw TypeError(r);var l=s.searchParams=new x,u=P(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},f||(a.href=De.call(a),a.origin=Te.call(a),a.protocol=xe.call(a),a.username=Pe.call(a),a.password=je.call(a),a.host=Me.call(a),a.hostname=Ne.call(a),a.port=Ae.call(a),a.pathname=Le.call(a),a.search=Re.call(a),a.searchParams=Ie.call(a),a.hash=Fe.call(a))},Ce=Oe.prototype,De=function(){var e=M(this),t=e.scheme,n=e.username,r=e.password,a=e.host,i=e.port,o=e.path,s=e.query,l=e.fragment,u=t+":";return null!==a?(u+="//",_(e)&&(u+=n+(r?":"+r:"")+"@"),u+=c(a),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Te=function(){var e=M(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&re(e)?t+"://"+c(e.host)+(null!==n?":"+n:""):"null"},xe=function(){return M(this).scheme+":"},Pe=function(){return M(this).username},je=function(){return M(this).password},Me=function(){var e=M(this),t=e.host,n=e.port;return null===t?"":null===n?c(t):c(t)+":"+n},Ne=function(){var e=M(this).host;return null===e?"":c(e)},Ae=function(){var e=M(this).port;return null===e?"":String(e)},Le=function(){var e=M(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Re=function(){var e=M(this).query;return e?"?"+e:""},Ie=function(){return M(this).searchParams},Fe=function(){var e=M(this).fragment;return e?"#"+e:""};if(f&&l(Ce,{href:r(De,function(e){var t=M(this),n=String(e),r=d(t,n);if(r)throw TypeError(r);P(t.searchParams).updateSearchParams(t.query)}),origin:r(Te),protocol:r(xe,function(e){var t=M(this);d(t,String(e)+":",ae)}),username:r(Pe,function(e){var t=M(this),n=D(String(e));if(!a(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=te(n[r],ee)}}),password:r(je,function(e){var t=M(this),n=D(String(e));if(!a(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=te(n[r],ee)}}),host:r(Me,function(e){var t=M(this);t.cannotBeABaseURL||d(t,String(e),he)}),hostname:r(Ne,function(e){var t=M(this);t.cannotBeABaseURL||d(t,String(e),me)}),port:r(Ae,function(e){var t=M(this);a(t)||(""==(e=String(e))?t.port=null:d(t,e,ve))}),pathname:r(Le,function(e){var t=M(this);t.cannotBeABaseURL||(t.path=[],d(t,e+"",we))}),search:r(Re,function(e){var t=M(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",d(t,e,Se)),P(t.searchParams).updateSearchParams(t.query)}),searchParams:r(Ie),hash:r(Fe,function(e){var t=M(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",d(t,e,ke)):t.fragment=null})}),u(Ce,"toJSON",function(){return De.call(this)},{enumerable:!0}),u(Ce,"toString",function(){return De.call(this)},{enumerable:!0}),T){var Ve=T.createObjectURL,Ue=T.revokeObjectURL;Ve&&u(Oe,"createObjectURL",function(e){return Ve.apply(T,arguments)}),Ue&&u(Oe,"revokeObjectURL",function(e){return Ue.apply(T,arguments)})}y(Oe,"URL"),i({global:!0,forced:!o,sham:!f},{URL:Oe})},function(e,t,n){"use strict";function y(e){return e+22+75*(e<26)}function g(e,t,n){var r=0;for(e=n?_(e/700):e>>1,e+=_(e/t);455<e;r+=36)e=_(e/35);return _(r+36*e/(e+38))}function i(e){var t,n,r=[],a=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(55296<=a&&a<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),n--)}else t.push(a)}return t}(e)).length,i=128,o=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(E(n));var l=r.length,u=l;for(l&&r.push("-");u<a;){var c=b;for(t=0;t<e.length;t++)i<=(n=e[t])&&n<c&&(c=n);var d=u+1;if(c-i>_((b-o)/d))throw RangeError(w);for(o+=(c-i)*d,i=c,t=0;t<e.length;t++){if((n=e[t])<i&&++o>b)throw RangeError(w);if(n==i){for(var f=o,p=36;;p+=36){var h=p<=s?1:s+26<=p?26:p-s;if(f<h)break;var m=f-h,v=36-h;r.push(E(y(h+m%v))),f=_(m/v)}r.push(E(y(f))),s=g(o,d,u==l),o=0,++u}}++o,++i}return r.join("")}var b=2147483647,o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,w="Overflow: input needs wider integers to process",_=Math.floor,E=String.fromCharCode;e.exports=function(e){var t,n,r=[],a=e.toLowerCase().replace(s,".").split(".");for(t=0;t<a.length;t++)n=a[t],r.push(o.test(n)?"xn--"+i(n):n);return r.join(".")}},function(e,t,n){"use strict";n(10);function a(t){try{return decodeURIComponent(t)}catch(e){return t}}function o(e){var t,n=e.replace(I," "),r=4;try{return decodeURIComponent(n)}catch(e){for(;r;)n=n.replace((t=r--,F[t-1]||(F[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),a);return n}}function r(e){return U[e]}function i(e){return encodeURIComponent(e).replace(V,r)}function f(e,t){if(t)for(var n,r,a=t.split("&"),i=0;i<a.length;)(n=a[i++]).length&&(r=n.split("="),e.push({key:o(r.shift()),value:o(r.join("="))}))}function p(e){this.entries.length=0,f(this.entries,e)}function u(e,t){if(e<t)throw TypeError("Not enough arguments")}var s=n(19),l=n(61),c=n(525),d=n(38),h=n(201),m=n(92),v=n(271),y=n(73),g=n(132),b=n(31),w=n(103),_=n(188),E=n(29),S=n(28),k=n(90),O=n(89),C=n(547),D=n(222),T=n(23),x=l("fetch"),P=l("Headers"),j=T("iterator"),M="URLSearchParams",N=M+"Iterator",A=y.set,L=y.getterFor(M),R=y.getterFor(N),I=/\+/g,F=Array(4),V=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Y=v(function(e,t){A(this,{type:N,iterator:C(L(e).entries),kind:t})},"Iterator",function(){var e=R(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),H=function(e){g(this,H,M);var t,n,r,a,i,o,s,l,u,c=0<arguments.length?e:void 0,d=[];if(A(this,{type:M,entries:d,updateURL:function(){},updateSearchParams:p}),void 0!==c)if(S(c))if("function"==typeof(t=D(c)))for(r=(n=t.call(c)).next;!(a=r.call(n)).done;){if((s=(o=(i=C(E(a.value))).next).call(i)).done||(l=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:s.value+"",value:l.value+""})}else for(u in c)b(c,u)&&d.push({key:u,value:c[u]+""});else f(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},B=H.prototype;h(B,{append:function(e,t){u(arguments.length,2);var n=L(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){u(arguments.length,1);for(var t=L(this),n=t.entries,r=e+"",a=0;a<n.length;)n[a].key===r?n.splice(a,1):a++;t.updateURL()},get:function(e){u(arguments.length,1);for(var t=L(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){u(arguments.length,1);for(var t=L(this).entries,n=e+"",r=[],a=0;a<t.length;a++)t[a].key===n&&r.push(t[a].value);return r},has:function(e){u(arguments.length,1);for(var t=L(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){u(arguments.length,1);for(var n,r=L(this),a=r.entries,i=!1,o=e+"",s=t+"",l=0;l<a.length;l++)(n=a[l]).key===o&&(i?a.splice(l--,1):(i=!0,n.value=s));i||a.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=L(this),a=r.entries,i=a.slice();for(n=a.length=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===n&&a.push(e)}r.updateURL()},forEach:function(e,t){for(var n,r=L(this).entries,a=w(e,1<arguments.length?t:void 0,3),i=0;i<r.length;)a((n=r[i++]).value,n.key,this)},keys:function(){return new Y(this,"keys")},values:function(){return new Y(this,"values")},entries:function(){return new Y(this,"entries")}},{enumerable:!0}),d(B,j,B.entries),d(B,"toString",function(){for(var e,t=L(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(i(e.key)+"="+i(e.value));return n.join("&")},{enumerable:!0}),m(H,M),s({global:!0,forced:!c},{URLSearchParams:H}),c||"function"!=typeof x||"function"!=typeof P||s({global:!0,enumerable:!0,forced:!0},{fetch:function(e,t){var n,r,a,i=[e];return 1<arguments.length&&(S(n=t)&&(r=n.body,_(r)===M&&((a=n.headers?new P(n.headers):new P).has("content-type")||a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=k(n,{body:O(0,String(r)),headers:O(0,a)}))),i.push(n)),x.apply(this,i)}}),e.exports={URLSearchParams:H,getState:L}},function(e,t,n){var r=n(29),a=n(222);e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var a=n(549),i=n(536),o=n(487);e.exports=function(r){return function(e,t,n){return n&&"number"!=typeof n&&i(e,t,n)&&(t=n=void 0),e=o(e),void 0===t?(t=e,e=0):t=o(t),n=void 0===n?e<t?1:-1:o(n),a(e,t,n,r)}}},function(e,t){var s=Math.ceil,l=Math.max;e.exports=function(e,t,n,r){for(var a=-1,i=l(s((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}},,function(e,t,n){var r=n(578),a=n(555),i=n(431),o=n(536),s=i(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&o(e,t[0],t[1])?t=[]:2<n&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},,,function(e,t,n){"use strict";var r=n(19),a=n(96).every;r({target:"Array",proto:!0,forced:n(115)("every")},{every:function(e,t){return a(this,e,1<arguments.length?t:void 0)}})},function(e,t,n){var i=n(313),o=n(472),s=n(568),l=n(569),u=n(242),c=n(570),d=n(309);e.exports=function(e,r,n){var a=-1;r=i(r.length?r:[d],u(o));var t=s(e,function(t,e,n){return{criteria:i(r,function(e){return e(t)}),index:++a,value:t}});return l(t,function(e,t){return c(e,t,n)})}},function(e,t,n){var a=n(268);e.exports=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?a(e,t,void 0,n):!!r}},function(e,t,n){var a=n(555),i=n(84);e.exports=function(e,t,n,r){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=r?void 0:n)||(n=null==n?[]:[n]),a(e,t,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceVisible=t.forceCheck=t.lazyload=void 0;var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(0),o=f(i),s=f(n(6)),l=n(572),u=f(n(573)),c=f(n(574)),d=f(n(575));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=0,S=0,k=0,O=0,v="data-lazyload-listened",y=[],g=[],b=!1;try{var w=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,w)}catch(e){}function _(e){var t=e.ref;if(t instanceof HTMLElement){var n=(0,u.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=e.ref,r=void 0,a=void 0,i=void 0,o=void 0;try{var s=t.getBoundingClientRect();r=s.top,a=s.left,i=s.height,o=s.width}catch(e){r=E,a=S,i=O,o=k}var l=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth,c=Math.max(r,0),d=Math.max(a,0),f=Math.min(l,r+i)-c,p=Math.min(u,a+o)-d,h=void 0,m=void 0,v=void 0,y=void 0;try{var g=n.getBoundingClientRect();h=g.top,m=g.left,v=g.height,y=g.width}catch(e){h=E,m=S,v=O,y=k}var b=h-c,w=m-d,_=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return b-_[0]<=f&&0<=b+v+_[1]&&w-_[0]<=p&&0<=w+y+_[1]}(e,n):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var a=t.getBoundingClientRect();n=a.top,r=a.height}catch(e){n=E,r=O}var i=window.innerHeight||document.documentElement.clientHeight,o=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-o[0]<=i&&0<=n+r+o[1]}(e))?e.visible||(e.props.once&&g.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}}function C(){g.forEach(function(e){var t=y.indexOf(e);-1!==t&&y.splice(t,1)}),g=[]}function D(){for(var e=0;e<y.length;++e){var t=y[e];_(t)}C()}var T=!!b&&{capture:!1,passive:!0},x=void 0,P=null,j=(m(M,i.Component),a(M,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"==typeof t&&(e=e.document.querySelector(t));var n=void 0!==this.props.debounce&&"throttle"===x||"debounce"===x&&void 0===this.props.debounce;if(n&&((0,l.off)(e,"scroll",P,T),(0,l.off)(window,"resize",P,T),P=null),P||(void 0!==this.props.debounce?(P=(0,c.default)(D,"number"==typeof this.props.debounce?this.props.debounce:300),x="debounce"):void 0!==this.props.throttle?(P=(0,d.default)(D,"number"==typeof this.props.throttle?this.props.throttle:300),x="throttle"):P=D),this.props.overflow){var r=(0,u.default)(this.ref);if(r&&"function"==typeof r.getAttribute){var a=+r.getAttribute(v)+1;1==a&&r.addEventListener("scroll",P,T),r.setAttribute(v,a)}}else if(0===y.length||n){var i=this.props,o=i.scroll,s=i.resize;o&&(0,l.on)(e,"scroll",P,T),s&&(0,l.on)(window,"resize",P,T)}y.push(this),_(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,u.default)(this.ref);if(e&&"function"==typeof e.getAttribute){var t=e.getAttribute(v)-1;0==t?(e.removeEventListener("scroll",P,T),e.removeAttribute(v)):e.setAttribute(v,t)}}var n=y.indexOf(this);-1!==n&&y.splice(n,1),0===y.length&&"undefined"!=typeof window&&((0,l.off)(window,"resize",P,T),(0,l.off)(window,"scroll",P,T))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.children,r=e.placeholder,a=e.classNamePrefix;return o.default.createElement("div",{className:a+"-wrapper",ref:this.setRef},this.visible?n:r||o.default.createElement("div",{style:{height:t},className:a+"-placeholder"}))}}]),M);function M(e){p(this,M);var t=h(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e));return t.visible=!1,t.setRef=t.setRef.bind(t),t}j.propTypes={classNamePrefix:s.default.string,once:s.default.bool,height:s.default.oneOfType([s.default.number,s.default.string]),offset:s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]),overflow:s.default.bool,resize:s.default.bool,scroll:s.default.bool,children:s.default.node,throttle:s.default.oneOfType([s.default.number,s.default.bool]),debounce:s.default.oneOfType([s.default.number,s.default.bool]),placeholder:s.default.node,scrollContainer:s.default.oneOfType([s.default.string,s.default.object]),unmountIfInvisible:s.default.bool},j.defaultProps={classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.lazyload=function(e){var t=0<arguments.length&&void 0!==e?e:{};return function(n){return m(r,i.Component),a(r,[{key:"render",value:function(){return o.default.createElement(j,t,o.default.createElement(n,this.props))}}]),r;function r(){p(this,r);var e,t=h(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.displayName="LazyLoad"+((e=n).displayName||e.name||"Component"),t}}},t.default=j,t.forceCheck=D,t.forceVisible=function(){for(var e=0;e<y.length;++e){var t=y[e];t.visible=!0,t.forceUpdate()}C()}},,,function(e,t,n){n(19)({target:"Number",stat:!0},{isFinite:n(562)})},function(e,t,n){var r=n(21).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){var r=n(21),a=n(246).trim,i=n(210),o=r.parseFloat,s=1/o(i+"-0")!=-1/0;e.exports=s?function(e){var t=a(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){n(227)("replace")},function(e,t,n){"use strict";function r(t){return function(e){return t(this,arguments.length?e:void 0)}}var a,i=n(21),o=n(201),s=n(206),l=n(231),u=n(566),c=n(28),d=n(73).enforce,f=n(245),p=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,m=e.exports=l("WeakMap",r,u);if(f&&p){a=u.getConstructor(r,"WeakMap",!0),s.REQUIRED=!0;var v=m.prototype,y=v.delete,g=v.has,b=v.get,w=v.set;o(v,{delete:function(e){if(!c(e)||h(e))return y.call(this,e);var t=d(this);return t.frozen||(t.frozen=new a),y.call(this,e)||t.frozen.delete(e)},has:function(e){if(!c(e)||h(e))return g.call(this,e);var t=d(this);return t.frozen||(t.frozen=new a),g.call(this,e)||t.frozen.has(e)},get:function(e){if(!c(e)||h(e))return b.call(this,e);var t=d(this);return t.frozen||(t.frozen=new a),g.call(this,e)?b.call(this,e):t.frozen.get(e)},set:function(e,t){if(c(e)&&!h(e)){var n=d(this);n.frozen||(n.frozen=new a),g.call(this,e)?w.call(this,e,t):n.frozen.set(e,t)}else w.call(this,e,t);return this}})}},function(e,t,n){"use strict";function l(e){return e.frozen||(e.frozen=new b)}function r(e,t){return o(e.entries,function(e){return e[0]===t})}var u=n(201),c=n(206).getWeakData,d=n(29),f=n(28),p=n(132),h=n(151),a=n(96),m=n(31),i=n(73),v=i.set,y=i.getterFor,o=a.find,s=a.findIndex,g=0,b=function(){this.entries=[]};b.prototype={get:function(e){var t=r(this,e);if(t)return t[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(t){var e=s(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,a){function i(e,t,n){var r=s(e),a=c(d(t),!0);return!0===a?l(r).set(t,n):a[r.id]=n,e}var o=e(function(e,t){p(e,o,n),v(e,{type:n,id:g++,frozen:void 0}),null!=t&&h(t,e[a],e,r)}),s=y(n);return u(o.prototype,{delete:function(e){var t=s(this);if(!f(e))return!1;var n=c(e);return!0===n?l(t).delete(e):n&&m(n,t.id)&&delete n[t.id]},has:function(e){var t=s(this);if(!f(e))return!1;var n=c(e);return!0===n?l(t).has(e):n&&m(n,t.id)}}),u(o.prototype,r?{get:function(e){var t=s(this);if(f(e)){var n=c(e);return!0===n?l(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return i(this,e,t)}}:{add:function(e){return i(this,e,!0)}}),o}}},function(e,t,n){var i=n(535);e.exports=function(e,r){var a=[];return i(e,function(e,t,n){r(e,t,n)&&a.push(e)}),a}},function(e,t,n){var o=n(535),s=n(224);e.exports=function(e,r){var a=-1,i=s(e)?Array(e.length):[];return o(e,function(e,t,n){i[++a]=r(e,t,n)}),i}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var u=n(571);e.exports=function(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var l=u(a[r],i[r]);if(l)return s<=r?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}},function(e,t,n){var c=n(388);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,a=e==e,i=c(e),o=void 0!==t,s=null===t,l=t==t,u=c(t);if(!s&&!u&&!i&&t<e||i&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!l)return-1}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(t,e,n,r){r=r||!1,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,function(e){n.call(t,e||window.event)})},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var a=window.getComputedStyle(r),i=a.position,o=a.overflow,s=a["overflow-x"],l=a["overflow-y"];if("static"===i&&t)r=r.parentNode;else{if(n.test(o)&&n.test(s)&&n.test(l))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,n,r){function a(){var e=new Date-l;e<n&&0<=e?i=setTimeout(a,n-e):(i=null,r||(u=t.apply(s,o),i||(o=s=null)))}var i=void 0,o=void 0,s=void 0,l=void 0,u=void 0;return function(){s=this,o=arguments,l=+new Date;var e=r&&!i;return i=i||setTimeout(a,n),e&&(u=t.apply(s,o),o=s=null),u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r,a,i){var o,s;return a=a||250,function(){var e=i||this,t=+new Date,n=arguments;o&&t<o+a?(clearTimeout(s),s=setTimeout(function(){o=t,r.apply(e,n)},a)):(o=t,r.apply(e,n))}}},function(e,t,n){var r=n(19),a=n(20),i=n(54),o=n(91).f,s=n(33),l=a(function(){o(1)});r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},function(e,t,n){var r=n(19),o=n(28),s=n(29),l=n(31),u=n(91),c=n(149);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,a,i=arguments.length<3?t:arguments[2];return s(t)===i?t[n]:(r=u.f(t,n))?l(r,"value")?r.value:void 0===r.get?void 0:r.get.call(i):o(a=c(t))?e(a,n,i):void 0}})},function(e,t,n){var u=n(292),c=n(579);e.exports=function e(t,n,r,a,i){var o=-1,s=t.length;for(r=r||c,i=i||[];++o<s;){var l=t[o];0<n&&r(l)?1<n?e(l,n-1,r,a,i):u(i,l):a||(i[i.length]=l)}return i}},function(e,t,n){var r=n(155),a=n(293),i=n(84),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(12),n(13),n(14),n(42),n(10),n(36),n(394),n(561),n(7),n(470),n(87),n(30),n(8),n(139),n(45),n(9),n(404),n(405);var r=n(81),a=n(0),g=n.n(a),b=n(2),i=n(27),f=n.n(i),u=n(528),o=(n(5),n(15),n(16),n(49),n(88),n(32)),s=n(3),T=n.n(s),l=n(65);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,h(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(e,l["a"]),t=e,(n=[{key:"toggleSidebar",value:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t&&t;this.dispatch({visible:n,userAction:r})}},{key:"setView",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:void 0;this.dispatch({viewId:e,currentDate:n})}},{key:"toggleShowAllEvents",value:function(){this.dispatch()}},{key:"setDateRange",value:function(e,t){this.dispatch({interval:t,amount:e})}},{key:"setCurrentDate",value:function(e){(e=e.clone().startOf("day")).locale(!1),this.dispatch(e)}},{key:"nextDateRange",value:function(){this.dispatch()}},{key:"prevDateRange",value:function(){this.dispatch()}},{key:"setGridResolution",value:function(e){this.dispatch(e)}},{key:"setLanguage",value:function(e){this.dispatch(e)}},{key:"pickTimezone",value:function(){this.dispatch()}},{key:"timezonePickerDone",value:function(){this.dispatch()}},{key:"setTimezone",value:function(e){this.dispatch(e)}},{key:"setViewSetting",value:function(e,t,n,r){var a=!(3<arguments.length&&void 0!==r)||r;this.dispatch({view:e,key:t,value:n,store:a})}},{key:"setPrintPdfOptions",value:function(e){this.dispatch(e)}},{key:"setTimelineView",value:function(e){this.dispatch(e)}},{key:"setTimelineViewConfig",value:function(e){this.dispatch(e)}},{key:"setTableView",value:function(e){this.dispatch(e)}},{key:"setTableViewConfig",value:function(e){this.dispatch(e)}},{key:"setMinorGridLabel",value:function(e){this.dispatch(e)}},{key:"setMajorGridLabel",value:function(e){this.dispatch(e)}},{key:"setMajorGridFontSize",value:function(e){this.dispatch(e)}},{key:"doSearch",value:function(e,t,n,r){var a,i=1<arguments.length&&void 0!==t&&t,o=2<arguments.length&&void 0!==n?n:void 0,s=3<arguments.length&&void 0!==r?r:void 0;e&&((a=/from: ?(.*?)( |$)/i.exec(e))&&a[1]&&(o=T()(a[1]),e=e.replace(a[0],"")),(a=/to: ?(.*?)( |$)/i.exec(e))&&a[1]&&(s=T()(a[1]),e=e.replace(a[0],"")),e=e.trim());this.dispatch({query:e,showDetails:i,start:o,end:s})}},{key:"searchNextPage",value:function(){this.dispatch()}},{key:"searchPrevPage",value:function(){this.dispatch()}},{key:"setSearchShowDetails",value:function(e){this.dispatch(e)}}])&&d(t.prototype,n),r&&d(t,r),e}(),y=o.a.createActions(v);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,S(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(e,g.a.Component),t=e,(n=[{key:"doSearch",value:function(){y.doSearch("")}},{key:"render",value:function(){return g.a.createElement("a",{className:"search-button",onClick:this.doSearch},g.a.createElement("i",{className:"sprite-mini-search search-icon"}))}}])&&_(t.prototype,n),r&&_(t,r),e}(),C=(n(35),n(113)),D=n.n(C),x=(n(50),n(25),n(196),n(83),n(451)),P=n.n(x),j=n(4),M=n(26),N=n(95),A=(n(211),n(72),n(232),n(564),n(120),n(248),n(138),n(62),n(308),n(381),n(269),n(56),n(294),n(194),n(55),n(249),n(58),n(565),n(538)),L=n.n(A),R=n(278),I=n.n(R),F=n(208),V=n.n(F),U=(n(80),n(244)),Y=n.n(U),H=n(11),B=(n(544),n(77)),W=n(284),z=n.n(W),G=n(71),K=n(467),q=n(386);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=[{abbrev:"s",id:"scheduler"},{abbrev:"d",id:"day"},{abbrev:"md",id:"multiday"},{abbrev:"w",id:"week"},{abbrev:"mw",id:"multiweek"},{abbrev:"m",id:"month"},{abbrev:"y",id:"year"},{abbrev:"t",id:"timeline"},{abbrev:"ta",id:"table"},{abbrev:"a",id:"agenda"},{abbrev:"l",id:"list"}],te={day:{amount:1,interval:"day"},week:{amount:1,interval:"week"},"2weeks":{amount:2,interval:"week"},month:{amount:1,interval:"month"},"3months":{amount:3,interval:"month"},"6months":{amount:6,interval:"month"},year:{amount:1,interval:"year"}},ne=function(){function r(){var t,e,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e=this,n=Q(r).call(this),(t=!n||"object"!==$(n)&&"function"!=typeof n?Z(e):n).mergeTableCells=function(n){var e=Object(q.b)(t.getFieldData().definitions,!1);return e.map(function(t){var e=n.filter(function(e){return e.id===t.id});e&&e[0]&&(t.visible=e[0].visible)}),e},t.state=t.getInitialState(),t.initialViewId=t.state.views.current,t.handleSetDateRange({dateRange:t.calculateDateRange(t.state.views),startDate:t.state.tableViewConfig.customStartDate,endDate:t.state.tableViewConfig.customEndDate}),t.bindActions({handleToggleSidebar:y.toggleSidebar,handleSetTimezone:y.setTimezone,handleSetView:y.setView,handleSetTimelineView:y.setTimelineView,handleSetTimelineViewConfig:y.setTimelineViewConfig,handleSetTableView:y.setTableView,handleSetTableViewConfig:y.setTableViewConfig,handleSetGridResolution:y.setGridResolution,handleSetCurrentDate:y.setCurrentDate,handleSetDateRange:y.setDateRange,handlePickTimezone:y.pickTimezone,handleNextDateRange:y.nextDateRange,handlePrevDateRange:y.prevDateRange,handleSetViewSetting:y.setViewSetting,handlePrintPdfOptions:y.setPrintPdfOptions,handleDoSearch:y.doSearch,handleTimezonePickerDone:y.timezonePickerDone,handleSetLanguage:y.setLanguage,handleToggleShowAllEvents:y.toggleShowAllEvents,handleSearchNextPage:y.searchNextPage,handleSearchPrevPage:y.searchPrevPage,handleSetSearchShowDetails:y.setSearchShowDetails,handleSetMinorGridLabel:y.setMinorGridLabel,handleSetMajorGridLabel:y.setMajorGridLabel,handleSetMajorGridFontSize:y.setMajorGridFontSize}),t.exportPublicMethods({getViewAbbrev:t.getViewAbbrev.bind(Z(t)),reloadState:t.reloadState.bind(Z(t)),getViews:t.getViews.bind(Z(t))}),t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(r,G["a"]),e=r,(t=[{key:"getInitialState",value:function(){if(this.localStorageState=JSON.parse(B.a.read(b.a.getAppKey()+"-calendar-state"))||{},void 0===this.localStorageState.timezone){var e=(B.a.read(b.a.getAppKey()+"-calendar")||"").toString().match(/timezone%3Ds%253A([^%]+)/);e&&e[1]&&(this.writeLocalStorage("timezone",e[1]),this.localStorageState.timezone=e[1])}var t=this.getDefaultViewsConfig();return this.localStorageState.timelineViewConfig=this.getDefaultTimelineViewConfigConfig(),this.localStorageState.tableViewConfig=this.getDefaultTableViewConfigConfig(),{sidebar:this.getDefaultSidebarConfig(),timezone:this.getDefaultTimezoneConfig(),views:t,grid:this.getDefaultGridConfig(),timelineViewConfig:this.localStorageState.timelineViewConfig,timelineView:this.getDefaultTimelineViewConfig(),tableView:this.getDefaultTableViewConfig(),tableViewConfig:this.localStorageState.tableViewConfig,datetime:this.getDefaultDatetimeConfig(t),authentication:this.getDefaultAuthentication(),oneToMany:this.getDefaultOneToManyConfig(),printPdfOptions:this.getPrintPdfOptions(),language:this.getDefaultLanguage(),effectivelyEnabledEventSharingServices:this.getEffectivelyEnabledSharingServices(),fields:this.getFieldData(),eventDeleteConfirmationEnabled:b.a.getCalendarDefaults().eventDeleteConfirmationEnabled}}},{key:"reloadState",value:function(){this.state=this.getInitialState()}},{key:"getViewAbbrev",value:function(t){return ee.find(function(e){return e.id===t}).abbrev}},{key:"getViews",value:function(){var n=this;return ee.filter(function(e){return e.id===n.state.views.current||e.id===n.initialViewId||!0===n.state.views[e.id+"ViewEnabled"]}).map(function(e){var t;return t="multiday"===e.id?j.a.translate("calendar","calendar.multiDayText").replace("{0}",n.state.views.multiday.number.toString()):"multiweek"===e.id?j.a.translate("calendar","calendar.multiWeekText").replace("{0}",n.state.views.multiweek.number.toString()):j.a.translate("calendar","calendar."+e.id+"Text"),{id:e.id,name:t}})}},{key:"getDefaultSidebarConfig",value:function(){var e=!0,t=b.a.getCalendarDefaults().sidebarDefaultExpanded;void 0!==this.localStorageState.sidebarVisible&&(t=this.localStorageState.sidebarVisible);var n=b.a.getInitialQueryParams();return"c"===n.sidepanel?t=!1:"v"===n.sidepanel&&(t=!0),void 0!==n.showSidepanel&&(t=1==n.showSidepanel),1==n.disableSidepanel&&(e=t=!1),{expanded:t,enabled:e}}},{key:"getDefaultTimezoneConfig",value:function(){return{value:this.computeDefaultTimezone(b.a.getCalendarDefaults().timezone),visible:b.a.getCalendarDefaults().timezone.visible,pick:!1}}},{key:"getDefaultAuthentication",value:function(){return b.a.getCalendarDefaults().authentication}},{key:"getDefaultTimelineViewConfig",value:function(){var e,t,n=new URLSearchParams(window.location.search),r=n.get("dateRange");t=n&&r?r:this.localStorageState.timelineViewConfig?null===(e=this.localStorageState.timelineViewConfig)||void 0===e?void 0:e.dateRange:b.a.getCalendarDefaults().views.timeline.dateRange;var a=this.localStorageState.timelineViewConfig?this.localStorageState.timelineViewConfig.numberOfDays:b.a.getCalendarDefaults().views.timeline.numberOfDays,i=this.localStorageState.timelineViewConfig?this.localStorageState.timelineViewConfig.numberOfWeeks:b.a.getCalendarDefaults().views.timeline.numberOfWeeks,o=this.localStorageState.timelineViewConfig&&this.localStorageState.timelineViewConfig.zoom[t]?this.localStorageState.timelineViewConfig.zoom[t]:b.a.getCalendarDefaults().views.timeline.zoomLevel,s=n.get("numberOfDays")||a,l=n.get("numberOfWeeks")||i,u=n.get("zoomLevel")||o,c=this.getDefaultGridConfig(),d=2;return 5!==c.resolution&&10!==c.resolution||(d=3),Object(K.a)(!0).map(function(e){return e.cellWidth.zoomLevel=+u,"multi-day"===e.id&&(e.range=+s),"multi-week"===e.id&&(e.range=+l),Object.assign(Object.assign({},e),{majorDragGrid:c.resolution*d,minorDragGrid:c.resolution})}).filter(function(e){return e.id===t})[0]}},{key:"getDefaultTimelineViewConfigConfig",value:function(){var e,t,n=new URLSearchParams(window.location.search),r=this.localStorageState.timelineViewConfig&&this.localStorageState.timelineViewConfig.dateRange?this.localStorageState.timelineViewConfig.dateRange:b.a.getCalendarDefaults().views.timeline.dateRange,a=this.localStorageState.timelineViewConfig&&this.localStorageState.timelineViewConfig.numberOfDays?this.localStorageState.timelineViewConfig.numberOfDays:b.a.getCalendarDefaults().views.timeline.numberOfDays,i=this.localStorageState.timelineViewConfig&&(null===(e=this.localStorageState.timelineViewConfig)||void 0===e?void 0:e.numberOfWeeks)?this.localStorageState.timelineViewConfig.numberOfWeeks:b.a.getCalendarDefaults().views.timeline.numberOfWeeks,o=this.localStorageState.timelineViewConfig&&this.localStorageState.timelineViewConfig.zoom[null===(t=this.localStorageState.timelineViewConfig)||void 0===t?void 0:t.dateRange]?this.localStorageState.timelineViewConfig.zoom:b.a.getCalendarDefaults().views.timeline.zoomLevel,s=n.get("numberOfDays")||a,l=n.get("numberOfWeeks")||i,u=n.get("zoomLevel")||o;return{zoom:"object"===$(u)?u:{day:+u,"multi-day":+u,week:+u,"multi-week":+u},numberOfDays:+s,numberOfWeeks:+l,dateRange:r}}},{key:"getDefaultTableViewConfig",value:function(){var e,t,n,r,a=new URLSearchParams(window.location.search),i=a.get("dateRange");r=a&&i?i:this.localStorageState.tableViewConfig?null===(e=this.localStorageState.tableViewConfig)||void 0===e?void 0:e.dateRange:b.a.getCalendarDefaults().views.timeline.dateRange;var o=this.localStorageState.tableViewConfig?this.localStorageState.tableViewConfig.numberOfDays:b.a.getCalendarDefaults().views.timeline.numberOfDays,s=this.localStorageState.tableViewConfig?this.localStorageState.tableViewConfig.numberOfWeeks:b.a.getCalendarDefaults().views.timeline.numberOfWeeks,l=this.localStorageState.tableViewConfig&&(null===(t=this.localStorageState.tableViewConfig)||void 0===t?void 0:t.customStartDate)?T()(this.localStorageState.tableViewConfig.customStartDate):T()(),u=this.localStorageState.tableViewConfig&&(null===(n=this.localStorageState.tableViewConfig)||void 0===n?void 0:n.customEndDate)?T()(this.localStorageState.tableViewConfig.customEndDate):T()().add("1","day"),c=a.get("numberOfDays")||o,d=a.get("numberOfWeeks")||s,f="string"==typeof a.get("customStartDate")?T()(a.get("customStartDate"),"YYYY-MM-DD"):l,p="string"==typeof a.get("customEndDate")?T()(a.get("customEndDate"),"YYYY-MM-DD"):u;return Object(q.c)(!1).map(function(e){return"multi-day"===e.id?e.range=+c:"multi-week"===e.id?e.range=+d:"custom-range"===e.id&&(e.range=p.diff(f,"days")),e}).filter(function(e){return e.id===r})[0]}},{key:"getDefaultTableViewConfigConfig",value:function(){var e,t,n,r,a,i,o=new URLSearchParams(window.location.search),s=this.localStorageState.tableViewConfig&&this.localStorageState.tableViewConfig.dateRange?this.localStorageState.tableViewConfig.dateRange:b.a.getCalendarDefaults().views.table.dateRange,l=this.localStorageState.tableViewConfig&&this.localStorageState.tableViewConfig.numberOfDays?this.localStorageState.tableViewConfig.numberOfDays:b.a.getCalendarDefaults().views.table.numberOfDays,u=this.localStorageState.tableViewConfig&&(null===(e=this.localStorageState.tableViewConfig)||void 0===e?void 0:e.numberOfWeeks)?this.localStorageState.tableViewConfig.numberOfWeeks:b.a.getCalendarDefaults().views.table.numberOfWeeks,c=this.localStorageState.tableViewConfig&&(null===(t=this.localStorageState.tableViewConfig)||void 0===t?void 0:t.wrapContent)?this.localStorageState.tableViewConfig.wrapContent:b.a.getCalendarDefaults().views.table.wrapContent,d=this.localStorageState.tableViewConfig&&(null===(n=this.localStorageState.tableViewConfig)||void 0===n?void 0:n.showSum)?this.localStorageState.tableViewConfig.showSum:b.a.getCalendarDefaults().views.table.showSum,f=this.localStorageState.tableViewConfig&&0<(null===(r=this.localStorageState.tableViewConfig)||void 0===r?void 0:r.tableCells.length)?this.localStorageState.tableViewConfig.tableCells:""!==b.a.getCalendarDefaults().views.table.cells?this.mergeTableCells(JSON.parse(b.a.getCalendarDefaults().views.table.cells)):[],p=this.localStorageState.tableViewConfig&&(null===(a=this.localStorageState.tableViewConfig)||void 0===a?void 0:a.customStartDate)?T()(this.localStorageState.tableViewConfig.customStartDate):T()(),h=this.localStorageState.tableViewConfig&&(null===(i=this.localStorageState.tableViewConfig)||void 0===i?void 0:i.customEndDate)?T()(this.localStorageState.tableViewConfig.customEndDate):T()().add("1","day"),m=o.get("dateRange")||s,v=o.get("numberOfDays")||l,y=o.get("numberOfWeeks")||u,g=o.get("tableCells")?JSON.parse(o.get("tableCells")):f;return{numberOfDays:+v,numberOfWeeks:+y,dateRange:m,wrapContent:o.get("wrapContent")?"true"==o.get("wrapContent"):c,showSum:o.get("showSum")?"true"==o.get("showSum"):d,tableCells:g,customStartDate:"string"==typeof o.get("customStartDate")?T()(o.get("customStartDate"),"YYYY-MM-DD"):p,customEndDate:"string"==typeof o.get("customEndDate")?T()(o.get("customEndDate"),"YYYY-MM-DD"):h}}},{key:"computeDefaultTimezone",value:function(e){return"STATIC"==e.mode||"DYNAMIC"==e.mode?e.forced?e.forced:void 0!==this.localStorageState.timezone?this.localStorageState.timezone:"STATIC"==e.mode?e.app||"":z.a.determine().name():""}},{key:"getDefaultDatetimeConfig",value:function(e){var t=b.a.getCalendarDefaults().datetime,n=(t.defaultDate?T()(t.defaultDate):T()()).startOf("day"),r=this.calculateDateRange(e),a=this.calculateHideWeekend(e.current,t.hideWeekend),i=this.calculateViewRanges(e.current,n,r,a,!1),o=this.calculateHighlightedDates(i.visibleStartDate,i.visibleEndDate,a);return Object.assign({},t,{currentDate:n,dateRange:r,viewStartDate:i.viewStartDate,visibleStartDate:i.visibleStartDate,viewEndDate:i.viewEndDate,visibleEndDate:i.visibleEndDate,highlightedDates:o,hideWeekend:a,hideWeekendDefault:t.hideWeekend,showCurrentTime:t.showCurrentTime})}},{key:"getDefaultOneToManyConfig",value:function(){var e=b.a.getCalendarDefaults().oneToMany;return{enabled:!!e.enabled,layout:1===parseInt(e.layout,10)?"multiple":"striped"}}},{key:"getDefaultViewsConfig",value:function(){function e(t){t=t.toLowerCase();var e=ee.find(function(e){return t==e.abbrev||t==e.id});return e?e.id:void 0}var n=this,t=b.a.getInitialQueryParams(),r=Object.assign({},b.a.getCalendarDefaults().views,{search:{query:void 0,showDetails:!1,limit:100,offset:0},showAllEvents:!0,current:"month",lastNonSearchViewId:"month",isPdf:t.format&&"pdf"==t.format,formatPdfEco:t.format&&"pdf"==t.format&&t.color&&"eco"==t.color});r.current=r.default,void 0!==this.localStorageState.view&&(r.current=this.localStorageState.view),void 0!==this.localStorageState.showAllEvents&&(r.showAllEvents=this.localStorageState.showAllEvents),ee.forEach(function(t){void 0!==n.localStorageState[t.id+"-settings"]&&Object.keys(r[t.id]).map(function(e){void 0!==n.localStorageState[t.id+"-settings"][e]&&(r[t.id][e]=n.localStorageState[t.id+"-settings"][e])})}),void 0!==this.localStorageState["search-settings"]&&(r.search.showDetails=this.localStorageState["search-settings"].showDetails),"string"==typeof t.query&&setTimeout(function(){y.doSearch(t.query.trim())},0);var a=!1;t.view&&(r.current=t.view,a=!0),r.current=r.current.toLowerCase();var i,o=e(r.current);o?r.current=o:(i=r.current.match(/md(\d+)/))?(r.current="multiday",r.multiday.number=Math.max(2,Math.min(6,parseInt(i[1])))):(i=r.current.match(/mw(\d+)/))?(r.current="multiweek",r.multiweek.number=Math.max(1,Math.min(12,parseInt(i[1])))):(i=r.current.match(/y(\d+)m/))?(r.current="year",r.year.number=Math.max(1,Math.min(12,parseInt(i[1])))):a=!1;if(!a&&!0!==r[r.current+"ViewEnabled"]){var s=r.default.toLowerCase();ee.find(function(e){return e.abbrev===s||e.id===s});r.current=e(r.default.replace(/\d+m?/g,""))}if(!a&&!0!==r[r.current+"ViewEnabled"]){var l=ee.find(function(e){return!0===r[e.id+"ViewEnabled"]});r.current=l?l.id:"month"}if(t.view&&t.viewstate){var u={};try{u=JSON.parse(t.viewstate)}catch(e){}r[r.current]=Object.assign({},r[r.current],u)}return void 0!==t.showAgendaDetails&&(r.agenda.showDetails=1==t.showAgendaDetails,r.list.showDetails=1==t.showAgendaDetails),void 0!==t.showAgendaDateRange&&Object.keys(te).includes(t.showAgendaDateRange)&&(r.agenda.dateRange=t.showAgendaDateRange,r.list.dateRange=t.showAgendaDateRange),void 0!==t.listGroupBy&&-1!==["none","week","month"].indexOf(t.listGroupBy)&&(r.list.groupBy=t.listGroupBy),void 0!==t.showAgendaHeader&&(r.agenda.showAgendaHeader=1==t.showAgendaHeader,r.list.showAgendaHeader=1==t.showAgendaHeader),r.lastNonSearchViewId=r.current,void 0!==t.showYearViewHeader&&(r.year.showHeader=1==t.showYearViewHeader),r}},{key:"getDefaultGridConfig",value:function(){var e=Object.assign({},b.a.getCalendarDefaults().grid);void 0!==this.localStorageState.gridResolution&&(e.resolution=parseInt(this.localStorageState.gridResolution));var t=b.a.getInitialQueryParams();return t.resolution&&-1!==[5,10,15,30,60].indexOf(parseInt(t.resolution))&&(e.resolution=parseInt(t.resolution)),e}},{key:"getDefaultLanguage",value:function(){var e=b.a.getCalendarDefaults().language;return void 0!==this.localStorageState.language?this.localStorageState.language:e}},{key:"getEffectivelyEnabledSharingServices",value:function(){return b.a.getCalendarDefaults().effectivelyEnabledEventSharingServices}},{key:"getFieldData",value:function(){return b.a.getCalendarDefaults().fields}},{key:"handleToggleSidebar",value:function(e){var t=e.visible,n=e.userAction;this.state.sidebar.enabled||(t=!1),this.state.sidebar.expanded=null===t?!this.state.sidebar.expanded:t,n&&this.writeLocalStorage("sidebarVisible",this.state.sidebar.expanded)}},{key:"handleSetTimezone",value:function(e){this.writeLocalStorage("timezone",e),this.state.timezone.value=e,this.state.timezone.pick=!1,setTimeout(function(){Ce.refresh()},0)}},{key:"handleSetGridResolution",value:function(e){this.writeLocalStorage("gridResolution",e),this.state.grid.resolution=e}},{key:"handleSetLanguage",value:function(e){this.writeLocalStorage("language",e),this.state.language=e,window.location.reload()}},{key:"handleToggleShowAllEvents",value:function(){this.writeLocalStorage("showAllEvents",!this.state.views.showAllEvents),this.state.views.showAllEvents=!this.state.views.showAllEvents}},{key:"handleSetView",value:function(e){var t=e.viewId,n=e.currentDate;this.state.views.current=t,this.state.datetime.hideWeekend=this.calculateHideWeekend(t,this.state.datetime.hideWeekendDefault),n&&(this.state.datetime.currentDate=n),t.match("search")||(this.state.views.lastNonSearchViewId=t,this.state.views.search.query=void 0,this.writeLocalStorage("view",t),this.handleSetDateRange({dateRange:this.calculateDateRange(this.state.views),startDate:!1,endDate:!1}))}},{key:"handleSetTimelineView",value:function(e){this.state.timelineView=e,this.handleSetDateRange({dateRange:this.calculateDateRange(this.state.views),startDate:!1,endDate:!1})}},{key:"handleSetTimelineViewConfig",value:function(e){this.state.timelineViewConfig=e,this.writeLocalStorage("timelineViewConfig",e)}},{key:"handleSetTableView",value:function(e){this.state.tableView=e,this.handleSetDateRange({dateRange:this.calculateDateRange(this.state.views),startDate:e.startDate,endDate:e.endDate})}},{key:"handleSetTableViewConfig",value:function(e){this.state.tableViewConfig=e,this.writeLocalStorage("tableViewConfig",e)}},{key:"handleSetMinorGridLabel",value:function(e){this.state.minorGridLabel=e}},{key:"handleSetMajorGridLabel",value:function(e){this.state.majorGridLabel=e}},{key:"handleSetMajorGridFontSize",value:function(e){this.state.majorGridFontSize=e}},{key:"handleSetCurrentDate",value:function(e){if(e.isSame(this.state.datetime.currentDate))return!1;this.state.datetime.currentDate=e;var t=this.calculateViewRanges(this.state.views.current,e,this.state.datetime.dateRange,this.state.datetime.hideWeekend,!0);this.state.datetime.viewStartDate=t.viewStartDate,this.state.datetime.visibleStartDate=t.visibleStartDate,this.state.datetime.viewEndDate=t.viewEndDate,this.state.datetime.visibleEndDate=t.visibleEndDate,this.state.datetime.highlightedDates=this.calculateHighlightedDates(t.visibleStartDate,t.visibleEndDate,this.state.datetime.hideWeekend)}},{key:"handleNextDateRange",value:function(){var e=this.state.datetime.dateRange,t=this.state.datetime.currentDate.clone().hour(12).add(e.amount,e.interval).startOf("day");this.handleSetCurrentDate(t)}},{key:"handlePrevDateRange",value:function(){var e=this.state.datetime.dateRange,t=this.state.datetime.currentDate.clone().hour(12).subtract(e.amount,e.interval).startOf("day");this.handleSetCurrentDate(t)}},{key:"handleSetDateRange",value:function(e){e.dateRange.interval=e.dateRange.interval.replace(/s$/,""),this.state.datetime.dateRange=e.dateRange;var t=this.calculateViewRanges(this.state.views.current,this.state.datetime.currentDate,e.dateRange,this.state.datetime.hideWeekend,!1,e.startDate,e.endDate);if(D()(t,{viewStartDate:this.state.datetime.viewStartDate,visibleStartDate:this.state.datetime.visibleStartDate,viewEndDate:this.state.datetime.viewEndDate,visibleEndDate:this.state.datetime.visibleEndDate}))return!1;this.state.datetime.viewStartDate=t.viewStartDate,this.state.datetime.visibleStartDate=t.visibleStartDate,this.state.datetime.viewEndDate=t.viewEndDate,this.state.datetime.visibleEndDate=t.visibleEndDate,this.state.datetime.highlightedDates=this.calculateHighlightedDates(t.visibleStartDate,t.visibleEndDate,this.state.datetime.hideWeekend)}},{key:"handlePickTimezone",value:function(){this.state.timezone.pick=!0}},{key:"handleTimezonePickerDone",value:function(){this.state.timezone.pick=!1}},{key:"handlePrintPdfOptions",value:function(e){this.writeLocalStorage("print-pdf-options",e),this.state.printPdfOptions=e}},{key:"getPrintPdfOptions",value:function(){if(void 0!==this.localStorageState["print-pdf-options"])return this.localStorageState["print-pdf-options"]}},{key:"handleSetViewSetting",value:function(e){var t=e.view,n=e.key,r=e.value,a=e.store;this.state.views[t][n]=r,a&&this.writeLocalStorage(t+"-settings",this.state.views[t]),this.handleSetDateRange({dateRange:this.calculateDateRange(this.state.views),startDate:!1,endDate:!1})}},{key:"handleDoSearch",value:function(e){var t=e.query,n=e.showDetails,r=e.start,a=e.end;r=r||this.state.datetime.currentDate.clone().add(-6,"month").subtract(1,"day"),a=a||this.state.datetime.currentDate.clone().add(6,"month").subtract(1,"day"),n=n||this.state.views.search.showDetails,this.handleSetView({viewId:"search",currentDate:this.state.datetime.currentDate}),this.state.views.search={query:t,showDetails:n,limit:100,offset:0};var i=a.diff(r,"days")+1;this.state.datetime.dateRange={amount:i,interval:"day"},this.state.datetime.visibleStartDate=r,this.state.datetime.visibleEndDate=a,this.state.datetime.viewStartDate=r,this.state.datetime.viewEndDate=a,this.state.datetime.highlightedDates=this.calculateHighlightedDates(r,a,this.state.datetime.hideWeekend)}},{key:"handleSearchNextPage",value:function(){this.state.views.search.offset+=this.state.views.search.limit}},{key:"handleSearchPrevPage",value:function(){this.state.views.search.offset-=this.state.views.search.limit}},{key:"handleSetSearchShowDetails",value:function(e){var t="search";this.state.views[t].showDetails=e,this.writeLocalStorage(t+"-settings",this.state.views[t])}},{key:"writeLocalStorage",value:function(e,t){this.localStorageState[e]=t,B.a.write(b.a.getAppKey()+"-calendar-state",JSON.stringify(this.localStorageState))}},{key:"calculateHideWeekend",value:function(e,t){return!(!t||-1===["month","multiweek","week","timeline"].indexOf(e))}},{key:"calculateHighlightedDates",value:function(e,t,n){var r=[];for(e=e.clone();e.isSameOrBefore(t);)(!n||e.isoWeekday()<6)&&r.push(e.format("YYYY-MM-DD")),e.add(36,"hours").startOf("day");return r}},{key:"calculateDateRange",value:function(e){var t=1,n="month",r=e.current;return"timeline"===r?this.state&&(n=this.state.timelineView.alignWith,t=this.state.timelineView.step):"table"===r?this.state&&(n=this.state.tableView?this.state.tableView.alignWith:"week",t=this.state.tableView?this.state.tableView.step:1):"scheduler"===r?n="day":"multiday"===r?(n="day",t=e.multiday.number):"multiweek"===r?(n="week",t=e.multiweek.number):"agenda"===r?(t=te[e.agenda.dateRange].amount,n=te[e.agenda.dateRange].interval):"list"===r?(t=te[e.list.dateRange].amount,n=te[e.list.dateRange].interval):"year"===r?(n="month",t=e.year.number):"search"===r?(n="month",t=12):n=r,{amount:t,interval:n}}},{key:"calculateTimelineViewRanges",value:function(t,e,n,r){var a;if(t.timelineView||(t.timelineView=Object(K.a)(!0).find(function(e){return!t.timelineViewConfig||t.timelineViewConfig.dateRange===e.id})),t&&t.timelineView&&"timeline"===n&&(e.interval=t.timelineView.alignWith,e.amount=t.timelineView.step,"week"===e.interval&&(r=r.startOf("week"))),"day"===e.interval){var i="".concat(e.interval,"s");a=r.clone().add(e.amount-1,i).endOf(e.interval)}else a=r.clone().add(e.amount-1,e.interval).endOf(e.interval);return b.a.getCalendarDefaults().datetime.hideWeekend&&"week"===e.interval&&(a=a.isoWeekday(5)),{viewStartDate:r,viewEndDate:a,visibleStartDate:r,visibleEndDate:a}}},{key:"calculateTableViewRanges",value:function(t,e,n,r,a,i,o,s){var l,u,c;if(t.tableView||(t.tableView=Object(q.c)(!1).find(function(e){return!t.tableViewConfig||t.tableViewConfig.dateRange===e.id})),t&&t.tableView&&"table"===n&&"custom-range"!==t.tableViewConfig.dateRange&&(e.interval=t.tableView.alignWith,e.amount=t.tableView.step,"week"===e.interval&&(r=r.startOf("week"))),"day"===e.interval){var d="".concat(e.interval,"s");c=r.clone().add(e.amount-1,d).endOf(e.interval)}else c=r.clone().add(e.amount-1,e.interval).endOf(e.interval);return b.a.getCalendarDefaults().datetime.hideWeekend&&"week"===e.interval&&(c=c.isoWeekday(5)),"custom-range"===t.tableViewConfig.dateRange&&(a?c=(r=i).clone().add(e.amount,"day"):(r=o||(null===(l=t.tableViewConfig)||void 0===l?void 0:l.customStartDate),c=s||(null===(u=t.tableViewConfig)||void 0===u?void 0:u.customEndDate),e.interval="day",e.amount=c.diff(r,"days"))),{viewStartDate:r,viewEndDate:c,visibleStartDate:r,visibleEndDate:c}}},{key:"calculateViewRanges",value:function(e,t,n,r,a,i,o){var s,l,u,c,d=5<arguments.length&&void 0!==i&&i,f=6<arguments.length&&void 0!==o&&o;if("search"===e)return{viewStartDate:s=t.clone(),viewEndDate:l=t.clone().add(n.amount-1,n.interval),visibleStartDate:s,visibleEndDate:l};if(-1===["day","week","month","year","table"].indexOf(n.interval))throw new Error("Invalid date range interval given: "+n.interval);if("agenda"==e||"list"==e)return s=t.clone(),l="day"===n.interval?s.clone().add(n.amount-1,n.interval):s.clone().add(n.amount,n.interval).subtract(12,"hours").startOf("day"),{viewStartDate:s,viewEndDate:l,visibleStartDate:s,visibleEndDate:l};l=(s=t.clone().startOf(n.interval)).clone().endOf(n.interval).add(n.amount-1,n.interval);var p=this.state?Object.assign({},this.state):Object.assign({},this.localStorageState);return p&&"timeline"===e?this.calculateTimelineViewRanges(p,n,e,s):p&&"table"===e?this.calculateTableViewRanges(p,n,e,s,a,t,d,f):(!r||"month"!=e&&"week"!=e&&"multiweek"!=e?c="month"==e?(u=s.clone().startOf("week"),l.clone().endOf("week")):"year"==e?(u=s.clone(),l.clone().endOf("month")):(u=s,l):(u="month"!=e?s=s.isoWeekday(1):s.clone().isoWeekday(1),l=T.a.max(u.clone().add(n.amount,n.interval).subtract(1,"week").isoWeekday(5),u.clone().add(n.amount,n.interval).subtract(1,"week").endOf(n.interval)),"week"!=e&&"multiweek"!=e||l.isoWeekday(5),(c=l.clone().isoWeekday(5)).isBefore(l)&&(c=l)),{viewStartDate:s,viewEndDate:l,visibleStartDate:u,visibleEndDate:c})}}])&&J(e.prototype,t),n&&J(e,n),r}(),re=o.a.createStore(ne,"CalendarStateStore");function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ie=b.a.getBaseUrl()+"/"+b.a.getAppKey();function oe(e,t){var n=e[t];if("string"!=typeof n)return n;if(!0===e.all_day&&-1<["start_dt","end_dt","ristart_dt"].indexOf(t)){var r=T()(n.split("T")[0]+" 12:00:00");return"end_dt"===t?r.endOf("day").second(0):r.startOf("day"),r}return T()(n.substring(0,19))}var se=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"deleteEvent",value:function(e){var t={tz:this.getTz()};return-1!==navigator.userAgent.indexOf("Edge/14.")&&(t.version=e.version,e.redit&&(t.redit=e.redit)),Object(H.a)("DELETE",ie+"/events/"+e.id,this.prepareForApi(e),t)}},{key:"createEvent",value:function(e){return Object(H.a)("POST",ie+"/events",this.prepareForApi(e),{tz:this.getTz()})}},{key:"updateEvent",value:function(e){return Object(H.a)("PUT",ie+"/events/"+e.id,this.prepareForApi(e),{tz:this.getTz()})}},{key:"fetchEvents",value:function(e,t,n){var r="YYYY-MM-DD";T.a.isMoment(e)&&(e=e.format(r)),T.a.isMoment(t)&&(t=t.format(r));var a={startDate:e,endDate:t,tz:this.getTz()};return void 0!==n.query&&(a.query=n.query,a.offset=n.offset,a.limit=n.limit),Object(H.a)("GET",ie+"/events",null,a)}},{key:"fetchEvent",value:function(e){return Object(H.a)("GET",ie+"/events/"+e,null,{tz:this.getTz()})}},{key:"undoEventChange",value:function(e){return Object(H.a)("PUT",ie+"/events/undo/"+e,null,{tz:this.getTz()})}},{key:"initializeEvent",value:function(e){return e.start_dt=oe(e,"start_dt"),e.signup_deadline=oe(e,"signup_deadline"),e.end_dt=oe(e,"end_dt"),e.creation_dt=oe(e,"creation_dt"),e.ristart_dt=oe(e,"ristart_dt"),e.rsstart_dt=oe(e,"rsstart_dt"),e.update_dt=oe(e,"update_dt"),e.delete_dt=oe(e,"delete_dt"),e.subcalendars=e.subcalendar_ids.map(function(e){return N.a.findById(e)}),e}},{key:"prepareForApi",value:function(e){var t=Y()(e);return delete t.subcalendars,delete t.readonly,delete t.subcalendar_id,delete t.creation_dt,delete t.update_dt,delete t.delete_dt,delete t.tableCells,["spanRight","spanLeft","colspan","style","_width","_height","_top","_left","_date"].forEach(function(e){delete t[e]}),t.start_dt=T.a.isMoment(t.start_dt)?T()(t.start_dt).format("YYYY-MM-DDTHH:mm:ss"):t.start_dt,t.signup_deadline=T.a.isMoment(t.signup_deadline)?T()(t.signup_deadline).format("YYYY-MM-DDTHH:mm:ss"):t.signup_deadline,t.end_dt=T.a.isMoment(t.end_dt)?T()(t.end_dt).format("YYYY-MM-DDTHH:mm:ss"):t.end_dt,t.creation_dt=T.a.isMoment(t.creation_dt)?T()(t.creation_dt).format("YYYY-MM-DDTHH:mm:ss"):t.creation_dt,t.ristart_dt=T.a.isMoment(t.ristart_dt)?T()(t.ristart_dt).format("YYYY-MM-DDTHH:mm:ss"):t.ristart_dt,t.rsstart_dt=T.a.isMoment(t.rsstart_dt)?T()(t.rsstart_dt).format("YYYY-MM-DDTHH:mm:ss"):t.rsstart_dt,t.update_dt=T.a.isMoment(t.update_dt)?T()(t.update_dt).format("YYYY-MM-DDTHH:mm:ss"):t.update_dt,t.delete_dt=T.a.isMoment(t.delete_dt)?T()(t.delete_dt).format("YYYY-MM-DDTHH:mm:ss"):t.delete_dt,t.rrule&&!t.tz&&(t.tz=this.getTz()),t}},{key:"getTz",value:function(){return re.getState().timezone.value||void 0}}])&&ae(t.prototype,n),r&&ae(t,r),e}()),le=n(18),ue=n(24),ce=n(267),de=n(39),fe=n(277);function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(n,r,a,e){e||1===a.subcalendars.length?n[r].push(a):ve.getVisibleSubcalendars(a).forEach(function(e){var t=V()(a);t.subcalendars=[e],n[r].push(t)})}var me="YYYY-MM-DD",ve=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o)}var e,t,n;return e=o,n=[{key:"getVisibleSubcalendars",value:function(e){return e.subcalendars.filter(function(e){return e.visible})}},{key:"getAllSubcalendars",value:function(e){return e.subcalendar_ids.map(function(e){return N.a.findById(e)})}},{key:"isMultiDayEvent",value:function(e){return 0<e.end_dt.diff(e.start_dt,"day")}},{key:"formatDescription",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:100;if(e){var r=e.replace(/<\/?[^>]+>/g,"");return r.length>n?r.substring(0,n-3)+"...":r}return""}},{key:"groupEventsByDate",value:function(e,t,n,r,a,i){var o=5<arguments.length&&void 0!==i&&i;t.startOf("day");var s={},l=t.clone().startOf(r),u=l.format(me),c=n.valueOf();s[u]=[];e:for(var d=0;d<e.length;d++){var f=e[d];if(!f.end_dt.isBefore(t)){for(var p=f.start_dt.clone().startOf(r),h=f.end_dt.clone().startOf(r);p.valueOf()>l.valueOf();){if(this.addIntervalToDate(l,1,r),l.valueOf()>c)break e;void 0===s[u=l.format(me)]&&(s[u]=[])}if(he(s,u,f,a),p.valueOf()!==h.valueOf()&&!0===o)for(var m=l.clone();h.valueOf()>m.valueOf()&&(this.addIntervalToDate(m,1,r),!(m.valueOf()>c));){var v=m.format(me);void 0===s[v]&&(s[v]=[]),he(s,v,f,a)}}}for(l.add(1,r);l.valueOf()<=c;)void 0===s[u=l.format(me)]&&(s[u]=[]),this.addIntervalToDate(l,1,r);return s}},{key:"addIntervalToDate",value:function(e,t,n){if("day"!=n&&"week"!=n)return e.add(t,n);var r=24*("day"==n?t:7*t)+12;return e.add(r,"hour").startOf("day")}},{key:"sortEventsForDay",value:function(e,t,n){if(2<arguments.length&&void 0!==n&&n){var r=parseInt(e.start_dt.format("YYYYMMDD"),10)-parseInt(t.start_dt.format("YYYYMMDD"),10);if(r)return r}return e.all_day&&t.all_day?o.sortEventsByCalendarOrTitle(e,t):e.all_day?-1:t.all_day?1:o.sortEventsByTimeDensityOrCalendarOrTitle(e,t)}},{key:"sortEventsByTimeDensityOrCalendarOrTitle",value:function(e,t){var n=e.start_dt.valueOf()-t.start_dt.valueOf();if(n)return n;var r=t.end_dt.valueOf()-e.end_dt.valueOf();return r||o.sortEventsByCalendarOrTitle(e,t)}},{key:"sortEventsByCalendarOrTitle",value:function(e,t){if(e.subcalendars[0].id===t.subcalendars[0].id)return e.title.toUpperCase()<t.title.toUpperCase()?-1:1;var n=N.a.getState().resources;return n.indexOf(e.subcalendars[0])<n.indexOf(t.subcalendars[0])?-1:1}},{key:"groupEventsBySubcalendarAndAllDayType",value:function(e){var n={},r={};return(e=o.cloneEventsBySubcalendar(e)).forEach(function(e){var t=e.subcalendars[0].id;void 0===n[t]&&(n[t]=[]),void 0===r[t]&&(r[t]=[]),e.all_day||o.isEventSpanning(e)?n[t].push(e):r[t].push(e)}),{allDayEvents:n,hourlyEvents:r}}},{key:"cloneEventsBySubcalendar",value:function(e){var r=[];return e.forEach(function(n){n.subcalendars.forEach(function(e){var t=n;e.visible&&(1<n.subcalendars.length&&((t=V()(n)).subcalendars=[e]),r.push(t))})}),r}},{key:"groupEventsBySubcalendar",value:function(e){var n={};return e.forEach(function(e){if(1<e.subcalendars.length)throw new Error("This function should not be called with events which have not been passed through cloneEventsBySubcalendar");var t=e.subcalendars[0].id;void 0===n[t]&&(n[t]=[]),n[t].push(e)}),n}},{key:"groupEventsByAllDayType",value:function(e){var t=[],n=[];return e.forEach(function(e){e.all_day||o.isEventSpanning(e)?t.push(e):n.push(e)}),{allDayEvents:t,hourlyEvents:n}}},{key:"isEventSpanning",value:function(e){return 0<e.end_dt.diff(e.start_dt,"day")}},{key:"isRecurringEvent",value:function(e){return""!==e.rrule}},{key:"calculateEventDays",value:function(e,t,n,r){var a=T.a.max(e.start_dt,t),i=T.a.min(e.end_dt,n),o=ue.a.diffDays(a,i),s=0;if(r)for(var l=a.clone();l.isSameOrBefore(i);)6!=l.day()&&0!=l.day()||s++,l.add(36,"hours").startOf("day");return o+1-s}},{key:"isMultiDayHourlyEvent",value:function(e,t){return!e.all_day&&-1!=["day","multiday","week","scheduler"].indexOf(t)&&(0<e.end_dt.diff(e.start_dt,"days")&&e.end_dt.diff(e.start_dt,"hours")<24)}},{key:"splitEventsByListGrouping",value:function(e,t,n,r,a,i){return"none"===r?e:o.groupEventsByDate(e,t,n,r,a,5<arguments.length&&void 0!==i&&i)}},{key:"round",value:function(e,t){t=parseInt(t.toString());var n=parseFloat(e.toString());if(0<t){var r=parseFloat(e+"e+".concat(t));n=parseFloat(Math.round(r)+"e-".concat(t))}else 0===t&&(n=Math.round(n));return n}},{key:"renderNumberField",value:function(e,t,n,r){var a;return e&&void 0!==r?a=0<=r?this.round(e,r):e.toString():e&&(a=e.toString()),a?Object(de.b)("".concat(t).concat(a).concat(n)):""}},{key:"renderEventTitle",value:function(e){var t=e.title,n=o.renderEventTitleExtras(e);return(n.emojis.join("")+" "+Object(fe.b)(Object(de.b)(t))+n.suffix).trim()}},{key:"renderEventTitleExtras",value:function(i,e){var o=this,s=!(1<arguments.length&&void 0!==e)||e,l="",u=[],c=i.custom||{};return re.getState().fields.definitions.forEach(function(e){var t=e.type_data.shown_in_title;if(void 0!==t&&"hidden"!==t&&!e.hidden&&s){var n;if("single_line_text"===e.type)n=Object(de.b)(c[e.id]);else if("number"===e.type)n=Object(de.b)(c[e.id])?o.renderNumberField(parseFloat(c[e.id]),e.type_data.prefix,e.type_data.postfix,e.type_data.decimals):"";else if("choices"===e.type){var r=ce.a.listToMap(e.type_data.options);if(!(n=c[e.id]))return;n="emoji"===t?n.filter(function(e){return!r[e].hidden}).map(function(e){return r[e].emoji?(u.push(Object(fe.b)(Object(de.b)(r[e].emoji),{attributes:function(){return{title:r[e].name}}})),null):Object(de.b)(r[e].name)}).filter(function(e){return null!==e}).join(", "):n.filter(function(e){return!r[e].hidden}).map(function(e){return Object(de.b)(r[e].name)}).join(", ")}else if("builtin_location"===e.type)n=Object(de.b)(i.location);else if("builtin_who"===e.type)n=Object(de.b)(i.who);else if("builtin_calendars"===e.type){var a=[];i.subcalendars.forEach(function(e){a.push(e.name)}),n=Object(de.b)(a.join(", "))}else console.log("Can't handle shown_in_title ("+t+") for type "+e.type);n&&(l+=" ("+n+")")}}),{emojis:u,suffix:l}}},{key:"getEventDatesForDate",value:function(e,t,n){var r,a,i=2<arguments.length&&void 0!==n&&n;re.getState();r=e.all_day?T.a.duration(e.end_dt.diff(e.start_dt,"day"),"day"):T.a.duration(e.end_dt.diff(e.start_dt,"minutes"),"minutes");var o=e.start_dt.clone().year(t.year()).month(t.month()).date(t.date());return e.all_day&&o.add(12,"hour").startOf("day"),i&&o.hours(t.hours()).minutes(t.minutes()).seconds(t.seconds()),e.all_day?a=o.clone().add(Math.floor(r.asDays()),"day").endOf("day"):o.clone().isDST()?((a=o.clone()).year(a.year()+r.years()),a.month(a.month()+r.months()),a.day(a.day()+r.days()),a.hour(a.hour()+r.hours()),a.minute(a.minute()+r.minutes()),a.second(a.second()+r.seconds())):a=o.clone().add(r),{start_dt:o,end_dt:a}}}],(t=null)&&pe(e.prototype,t),n&&pe(e,n),o}(),ye=ve;function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=j.a.partial("core_js"),ke=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),we(this,_e(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(e,l["a"]),t=e,(n=[{key:"actionFailed",value:function(e){return e.response&&e.response.error?le.a.alert(e.response.error.title,e.response.error.message,{},e.response.error.id):le.a.alert("Unexpected network error","Communication with the server failed. (#594145)"),Promise.reject(e)}},{key:"refresh",value:function(){this.dispatch()}},{key:"filterEvents",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};this.dispatch({filter:e,calendarIds:t,custom:r})}},{key:"deleteEvent",value:function(t){return se.deleteEvent(t).then(function(e){return Oe.eventWasRemoved(e,t)}).catch(Oe.actionFailed)}},{key:"updateEvent",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return this.dispatch(e),le.a.flashStatus(Se("status.saving"),"saving"),"copy"===n&&(delete e.id,delete e.remote_id,e.rrule&&(e.rrule="",e.redit=void 0,e.series_id=void 0,e.ristart_dt=void 0,e.rsstart_dt=void 0)),e.id?se.updateEvent(e).then(function(e){return Oe.eventWasUpdated(e,n)}).catch(Oe.actionFailed):se.createEvent(e).then(function(e){return Oe.eventWasCreated(e)}).catch(Oe.actionFailed)}},{key:"shiftEventToDate",value:function(e,t){e=Y()(e);var n=ye.getEventDatesForDate(e,t);return e.start_dt=n.start_dt,e.end_dt=n.end_dt,e.rrule&&(e.redit="single"),Oe.updateEvent(e,"move")}},{key:"shiftEventTime",value:function(e,t){return e=Y()(e),t.isSameOrAfter(e.start_dt)?e.end_dt=t:(e.end_dt=e.start_dt,e.start_dt=t),e.rrule&&(e.redit="single"),Oe.updateEvent(e,"move")}},{key:"copyEventToDate",value:function(e,t){var n=Y()(e),r=ye.getEventDatesForDate(n,t);return n.start_dt=r.start_dt,n.end_dt=r.end_dt,Oe.updateEvent(n,"copy")}},{key:"eventWasCreated",value:function(e){return this.dispatch({event:e.event,undoId:e.undo_id}),Promise.resolve(e.event)}},{key:"eventWasUpdated",value:function(e,t){return this.dispatch({event:e.event,action:t,undoId:e.undo_id}),Promise.resolve(e.event)}},{key:"eventWasRemoved",value:function(e,t){return this.dispatch({event:t,undoId:e.undo_id}),Promise.resolve(e.event)}},{key:"undoEventChange",value:function(e){var t=this;return se.undoEventChange(e).then(function(){return t.dispatch()}).catch(Oe.actionFailed)}}])&&be(t.prototype,n),r&&be(t,r),e}(),Oe=o.a.createActions(ke),Ce=Oe;function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Te=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=document.querySelector(".calendar-body-container")}var t,n,r;return t=e,(n=[{key:"show",value:function(){this.ref.className+=" is-loading"}},{key:"hide",value:function(){this.ref.className=this.ref.className.replace(/ is-loading/g,"")}}])&&De(t.prototype,n),r&&De(t,r),e}()),xe=n(17);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){Me=function(e,t){return new n(e,void 0,t)};var a=Le(RegExp),i=RegExp.prototype,o=new WeakMap;function n(e,t,n){var r=a.call(this,e,t);return o.set(r,n||o.get(e)),r}function s(n,e){var r=o.get(e);return Object.keys(r).reduce(function(e,t){return e[t]=n[r[t]],e},Object.create(null))}return Ne(n,a),n.prototype.exec=function(e){var t=i.exec.call(this,e);return t&&(t.groups=s(t,this)),t},n.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=o.get(this);return i[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+n[t]}))}if("function"!=typeof t)return i[Symbol.replace].call(this,e,t);var r=this;return i[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==Pe(e[e.length-1])&&e.push(s(e,r)),t.apply(this,e)})},Me.apply(this,arguments)}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){var r="function"==typeof Map?new Map:void 0;return(Le=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return Re(e,arguments,Fe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ie(n,e)})(e)}function Re(e,t,n){return(Re=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&Ie(a,n.prototype),a}).apply(null,arguments)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(){function r(){var t,e,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),e=this,n=Fe(r).call(this),(t=!n||"object"!==Pe(n)&&"function"!=typeof n?Ae(e):n).onResourceChange=function(){t.filterEvents(),t.emitChange()},t.onCalendarStateChange=function(e){t.visibleStartDate.isSame(e.datetime.visibleStartDate)&&t.visibleEndDate.isSame(e.datetime.visibleEndDate)&&D()(t.formatSearchOpts(t.search),t.formatSearchOpts(e.views.search))||(t.visibleStartDate=e.datetime.visibleStartDate,t.visibleEndDate=e.datetime.visibleEndDate,t.search=V()(e.views.search),t.refreshEvents())},t.visibleStartDate=T()("2000-01-01 12:34:56"),t.visibleEndDate=T()("2000-01-01 12:34:56"),t.state={allEvents:[],events:[],filter:"",filteredCalendars:[],filteredCustom:{}},t.bindActions({handleEventWasCreated:Ce.eventWasCreated,handleEventWasRemoved:Ce.eventWasRemoved,handleEventWasUpdated:Ce.eventWasUpdated,handleEventUndo:Ce.undoEventChange,handleRefresh:Ce.refresh,handleFilter:Ce.filterEvents}),t.exportPublicMethods({findById:t.findById.bind(Ae(t))}),N.a.listen(t.onResourceChange),re.listen(t.onCalendarStateChange),t.onCalendarStateChange(re.getState()),t}var e,t,n;return Ne(r,G["a"]),e=r,(t=[{key:"handleFilter",value:function(n){var e=n.filter.trim(),t=n.calendarIds,r={};if(Object.keys(n.custom).forEach(function(e){var t=n.custom[e];r[e]="string"==typeof t?t.trim():t}),this.state.filter===e&&D()(this.state.filteredCalendars,t)&&D()(this.state.filteredCustom,r))return!1;this.state.filter=e,this.state.filteredCalendars=V()(t),this.state.filteredCustom=r,this.filterEvents()}},{key:"handleEventWasCreated",value:function(e){var t=this,n=e.event,r=e.undoId,a=se.initializeEvent(n);if(setTimeout(function(){t.showUndoDialog(r,a,"created")},0),ye.isRecurringEvent(a))return this.refreshEvents();var i=this.state.allEvents;i=this.insertEventIntoEventsArray(i,a),this.state.allEvents=i,this.filterEvents()}},{key:"handleEventWasRemoved",value:function(e){var t=this,n=e.event,r=e.undoId,a=this.state.allEvents,i=this.getEventIndex(n);if(setTimeout(function(){t.showUndoDialog(r,n,"deleted")},0),""!==n.rrule||-1===i)return this.refreshEvents();a.splice(i,1),this.state.allEvents=a,this.filterEvents()}},{key:"handleEventWasUpdated",value:function(e){var t=this,n=e.event,r=e.action,a=e.undoId,i=this.getEventIndex(n),o=se.initializeEvent(n);if(""!==a.trim()&&setTimeout(function(){t.showUndoDialog(a,o,r||"updated")},0),ye.isRecurringEvent(o)||-1===i)return this.refreshEvents();var s=this.state.allEvents;s[i].start_dt.valueOf()!==o.start_dt.valueOf()?(s.splice(i,1),s=this.insertEventIntoEventsArray(s,o)):s[i]=o,this.state.allEvents=s,this.filterEvents()}},{key:"showUndoDialog",value:function(e,t,n){le.a.setStatus("calendar:event."+n,"saved",!0,{undoId:e,event_name:t.title,date:t.start_dt.format(ue.a.get("box_layout.multi_day_first_day_moment")),action_message:"calendar:event.undo",action_handler:function(e){Ce.undoEventChange(e.undoId).then(function(){return le.a.clear()})}})}},{key:"insertEventIntoEventsArray",value:function(e,t){var n=t.start_dt.valueOf();if(0===e.length||e[e.length-1].start_dt.valueOf()<=n)return e.push(t),e;var r,a=e.length;for(r=0;r<a;r++)if(e[r].start_dt.valueOf()>t.start_dt.valueOf())return e.splice(r,0,t),e;throw new Error("Logic failure if we reach this point, it should have been returned earlier")}},{key:"getEventIndex",value:function(t){return this.state.allEvents.findIndex(function(e){return t.id===e.id})}},{key:"findById",value:function(t,e){var r=this,n=1<arguments.length&&void 0!==e&&e,a=this.state.allEvents.find(function(e){return t===e.id});return!a&&n?se.fetchEvent(t).then(function(e){var t=se.initializeEvent(e.event);y.setCurrentDate(t.start_dt);var n=r.insertEventIntoEventsArray(r.state.allEvents,t);return r.state.allEvents=n,t}).catch(function(e){le.a.alert(e.response.error.title,e.response.error.message,{},e.response.error.id),window.teamup.history.replace(xe.a.getUrl("calendar"))}):a}},{key:"handleEventUndo",value:function(){return this.refreshEvents()}},{key:"handleRefresh",value:function(){return Te.show(),this.refreshEvents()}},{key:"refreshEvents",value:function(){var t=this;return this.lastRequest&&this.lastRequest.cancel(),""===this.search.query?this.eventsWereFetched({events:[]}):(this.lastRequest=se.fetchEvents(this.visibleStartDate,this.visibleEndDate,this.search),this.lastRequest.then(function(e){return t.eventsWereFetched(e)}).catch(function(e){e.isCanceled||t.eventsWereNotFetched(e)})),!1}},{key:"eventsWereFetched",value:function(e){e.events.sort(function(e,t){return e.start_dt===t.start_dt?e.subcalendar_id===t.subcalendar_id?e.id<t.id?-1:1:t.subcalendar_id-e.subcalendar_id:e.start_dt<t.start_dt?-1:1}),this.state.allEvents=e.events.map(se.initializeEvent),this.filterEvents(),this.emitChange(),Te.hide()}},{key:"eventsWereNotFetched",value:function(e){e.response&&e.response.error?le.a.alert(e.response.error.title,e.response.error.message,{},e.response.error.id):(le.a.alert("Unexpected network error","Communication with the server failed. (#592458)"),console.log("RequestError expected, got ",e)),Te.hide()}},{key:"filterEvents",value:function(){var a=this,i=N.a.getState().resources.filter(function(e){return!1!==e.visible}).map(function(e){return e.id}),l=function(e){for(var t,n=[],r=[],a=new RegExp(Me(/(\+|\x2D)?"([\0-!#-\uFFFF]+)"/,{term:1})),i=[],o=[];(t=e.match(a))&&t[2];)n.push(["+","-"].includes(t[1])?"".concat(t[1]).concat(t[2]):t[2]),e=e.replace(t[0],"").trim();(0<e.length||0<n.length)&&(r=n.concat(e.split(/\s+/)).filter(function(e){return 0<e.trim().length&&"-"!==e.substr(0,1)}).map(function(e){return"+"===e.substr(0,1)?e.substr(1):e}),i=n.concat(e.split(/\s+/)).filter(function(e){return"-"==e.substr(0,1)}).map(function(e){return"-"===e.substr(0,1)?e.substr(1):e}),o=n.concat(e.split(/\s+/)).filter(function(e){return"+"==e.substr(0,1)}).map(function(e){return"+"===e.substr(0,1)?e.substr(1):e}));var s={regex:new RegExp("(?:"+r.map(function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}).join("|")+")","i")};return 0<i.length&&(s.exclude=new RegExp("(?:"+i.map(function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}).join("|")+")","i")),0<o.length&&(s.mandatory=o),s}(this.state.filter),o=this.state.filter.length?l.regex:null,u=ce.a.listToMap(re.getState().fields.definitions),e=this.state.allEvents.filter(function(s){if(0<a.state.filteredCalendars.length&&!I()(a.state.filteredCalendars,s.subcalendar_ids).length)return!1;if(!I()(i,s.subcalendar_ids).length)return!1;for(var e in a.state.filteredCustom)if(Object.prototype.hasOwnProperty.call(a.state.filteredCustom,e)){var t=a.state.filteredCustom[e],n=(s.custom||{})[e]||"";if(t instanceof Array&&t.length&&(!n.length||!I()(t,n).length))return!1}if(o&&!(s.title&&s.title.match(o)||s.location&&s.location.match(o)||s.who&&s.who.match(o)||s.notes&&s.notes.match(o)||L()(s.custom,function(t,e){return!(!u[e]||u[e].hidden)&&("string"==typeof t?!!t.match(o):0<u[e].type_data.options.filter(function(e){return t.includes(e.id)}).map(function(e){return e.name}).filter(function(e){return e.match(o)}).length)}).length))return!1;if(l.exclude&&(s.title&&s.title.match(l.exclude)||s.location&&s.location.match(l.exclude)||s.who&&s.who.match(l.exclude)||s.notes&&s.notes.match(l.exclude)||L()(s.custom,function(t,e){return!(!u[e]||u[e].hidden)&&("string"==typeof t?!!t.match(l.exclude):0<u[e].type_data.options.filter(function(e){return t.includes(e.id)}).map(function(e){return e.name}).filter(function(e){return e.match(l.exclude)}).length)}).length))return!1;if(l.mandatory){var r=function(){var n,e=!0,t=!1,r=void 0;try{for(var a,i=l.mandatory[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value;if(n=new RegExp("^(?=.*\\b"+o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+").+","gi"),!(s.title&&s.title.match(n)||s.location&&s.location.match(n)||s.who&&s.who.match(n)||s.notes&&s.notes.match(n)||0<L()(s.custom,function(t,e){return!(!u[e]||u[e].hidden)&&("string"==typeof t?!!t.match(n):0<u[e].type_data.options.filter(function(e){return t.includes(e.id)}).map(function(e){return e.name}).filter(function(e){return e.match(n)}).length)}).length))return{v:!1}}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}();if("object"===Pe(r))return r.v}return!0});this.state.events=e}},{key:"formatSearchOpts",value:function(n){return n?Object.keys(n).filter(function(e){return"showDetails"!==e}).reduce(function(e,t){return e[t]=n[t],e},{}):n}}])&&je(e.prototype,t),n&&je(e,n),r}(),Ue=o.a.createStore(Ve,"EventStore");function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"buildAppStateUrl",value:function(e){var n=(0<arguments.length&&void 0!==e?e:void 0)||location.protocol+"//"+location.hostname+location.pathname,t=re.getState(),r=t.views.current;n+="?tz="+encodeURIComponent(t.timezone.value),"search"===r?(n+="&query="+t.views.search.query,n+="+from:"+t.datetime.viewStartDate.format("YYYY-MM-DD"),n+="+to:"+t.datetime.viewEndDate.format("YYYY-MM-DD")):(n+="&view="+re.getViewAbbrev(r).toUpperCase(),n+="&date="+t.datetime.currentDate.format("YYYY-MM-DD")),t.sidebar.expanded!==b.a.getCalendarDefaults().sidebarDefaultExpanded&&(n+="&sidepanel="+encodeURIComponent(t.sidebar.expanded?"v":"c")),t.grid.resolution!==b.a.getCalendarDefaults().grid.resolution&&(n+="&resolution="+t.grid.resolution),t.language!==b.a.getCalendarDefaults().defaultLanguage&&(n+="&lang="+t.language);var a=Ue.getState(),i=a.filter,o=a.filteredCalendars,s=a.filteredCustom;0<o.length&&(n+="&filterby="+o.join(",")),0<i.length&&(n+="&keywords="+encodeURIComponent(i));function l(t){s.hasOwnProperty(t)&&Array.isArray(s[t])&&s[t].forEach(function(e){n+="&filterby_"+t+"[]="+encodeURIComponent(e)})}for(var u in s)l(u);var c=[];N.a.getState().resources.forEach(function(e){e.visible&&c.push(e.id)}),N.a.getState().resources.length!==c.length&&(n+="&calendars="+(0===c.length?"none":c.join(",")));var d=b.a.getInitialQueryParams();if(["showTitle","showLogo","showHeader","disableSidepanel","showViewSelector","showStripes","resolution"].forEach(function(e){void 0!==d[e]&&(n+="&"+e+"="+encodeURIComponent(d[e]))}),"search"!==r&&"timeline"!==r&&"table"!==r&&t.views[r]&&(n+="&viewstate="+encodeURIComponent(JSON.stringify(t.views[r]))),"timeline"===r&&(n="".concat(n,"&dateRange=").concat(t.timelineViewConfig.dateRange,"&numberOfDays=").concat(t.timelineViewConfig.numberOfDays,"&numberOfWeeks=").concat(t.timelineViewConfig.numberOfWeeks,"&zoomLevel=").concat(t.timelineViewConfig.zoom[t.timelineViewConfig.dateRange])),"table"===r){var f=Object.assign({},t.tableViewConfig);f.tableCells.map(function(e){delete e.typeData});var p=JSON.stringify(f.tableCells);n="".concat(n,"&dateRange=").concat(t.tableViewConfig.dateRange,"&numberOfDays=").concat(t.tableViewConfig.numberOfDays,"&numberOfWeeks=").concat(t.tableViewConfig.numberOfWeeks,"&tableCells=").concat(p,"&wrapContent=").concat(t.tableViewConfig.wrapContent,"&customStartDate=").concat(t.tableViewConfig.customStartDate.format("YYYY-MM-DD"),"&customEndDate=").concat(t.tableViewConfig.customEndDate.format("YYYY-MM-DD"))}return n}}],(n=null)&&Ye(t.prototype,n),r&&Ye(t,r),e}(),Be=n(415),We=n(1);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(){function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=Ke(this,qe(a).call(this,e))).toggleSection=function(){if(t.setState({collapsed:!t.state.collapsed},function(){requestAnimationFrame(function(){var e=document.createEvent("Event");e.initEvent("calendarSidebarCollapseExpand",!1,!1),e.sidebarClassName=t.props.className,window.dispatchEvent(e)})}),t.props.stateId){var e=t.getLocalStorageData();e[t.props.stateId]=!t.state.collapsed,B.a.write(b.a.getAppKey()+"-sidebar",JSON.stringify(e))}};var n=void 0!==t.props.collapsed?t.props.collapsed:t.props.defaultCollapsed;if(void 0===t.props.collapsed&&t.props.stateId){var r=t.getLocalStorageData();void 0!==r[t.props.stateId]&&(n=r[t.props.stateId])}return t.state={collapsed:n},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(a,g.a.Component),e=a,(t=[{key:"getLocalStorageData",value:function(){return JSON.parse(B.a.read(b.a.getAppKey()+"-sidebar"))||{}}},{key:"render",value:function(){return g.a.createElement("div",{className:"sidebar-section "+this.props.className+" "+(this.state.collapsed?"collapsed":"")},g.a.createElement("div",{className:"sidebar-header"},this.props.headerExtra,g.a.createElement(We.a,{message:this.props.title,className:"header-title"}),g.a.createElement("a",{className:"header-toggle",onClick:this.toggleSection},g.a.createElement("i",{className:this.state.collapsed?"sprite-arrow-down":"sprite-arrow-up"}))),g.a.createElement("div",{className:"sidebar-section-content"},this.props.children))}}])&&Ge(e.prototype,t),n&&Ge(e,n),a}();function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Xe(this,et(n).call(this,e))).reset=function(e){t.calendarPicker&&t.calendarPicker.clear(),t.text&&t.text.setValue(""),t.custom.forEach(function(e){return e.clear()}),t.onChange(),e.preventDefault()},t.openShareLink=function(){window.open(He.buildAppStateUrl(),"_blank")},t.onChange=function(){(t.calendarPicker||t.text)&&Ce.filterEvents(t.getTextValue(),t.getCalValue(),t.getCustomValues())},t.custom=new Map,t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){(0<(this.props.defaultCalValue||[]).length||0<(this.props.defaultTextValue||"").length||0<Object.keys(this.props.defaultCustomValues).length)&&this.onChange()}},{key:"getCalValue",value:function(){return this.calendarPicker?this.calendarPicker.getValue():[]}},{key:"getTextValue",value:function(){return this.text?this.text.getValue():""}},{key:"getCustomValues",value:function(){var n={};return this.custom.forEach(function(e,t){n[t]=e.getValue()}),n}},{key:"render",value:function(){var e,n=this,r=P()(this.onChange,300);return(0<(this.props.defaultTextValue||"").length||0<(this.props.defaultCalValue||[]).length)&&(e=!1),g.a.createElement(Je,{className:"filter-widget",stateId:"filter",defaultCollapsed:!0,collapsed:e,title:"calendar:calendar_filtering.title"},g.a.createElement(M.a,{defaultValue:this.props.defaultTextValue,name:"keywords_filter",placeholder:j.a.translate("calendar","calendar_filtering.by_keyword"),ref:function(e){n.text=e},onChange:r,onKeyUp:r}),this.props.oneToManyEnabled&&g.a.createElement(Be.a,{ref:function(e){n.calendarPicker=e},resources:N.a.getState().resources,defaultValue:this.props.defaultCalValue||[],multi:!0,editable:!0,onChange:function(){setTimeout(r,10)},placeholderSection:"calendar",placeholderMessage:"calendar_filtering.by_calendar",clearable:!1,showAll:!0,searchPromptText:j.a.translate("core_js","calendar_picker.no_result")}),re.getState().fields.definitions.map(function(t){var e="filter-custom-"+t.id;if(t.active)return"choices"===t.type?g.a.createElement(Be.a,{key:e,ref:function(e){e?n.custom.set(t.id,e):n.custom.delete(t.id)},resources:t.type_data.options.filter(function(e){return!e.hidden}).map(function(e){return{id:e.id,name:e.name,color:e.color,emoji:e.emoji,readonly:!1,visible:!0}}),defaultValue:n.props.defaultCustomValues&&n.props.defaultCustomValues[t.id]||[],multi:!0,editable:!0,onChange:function(){setTimeout(r,10)},placeholderSection:"calendar",placeholderMessage:"calendar_filtering.by_custom_field_choice",placeholderParams:{name:t.name},clearable:!1,searchPromptText:j.a.translate("core_js","custom_field_picker.no_result"),className:"choicepicker"}):void 0}),g.a.createElement("div",{className:"filter-panel-footer"},g.a.createElement(We.a,{component:"a",message:"calendar:calendar_filtering.share",onClick:this.openShareLink,className:"share-button"}),g.a.createElement(We.a,{component:"a",message:"calendar:calendar_filtering.clear",onClick:this.reset,className:"clear-button"}),g.a.createElement("a",{href:"http://calendar.teamup.com/kb/filter-events/",target:"_blank",className:"button-help"},g.a.createElement("i",{className:"sprite-icon-help"}))))}}])&&Ze(e.prototype,t),r&&Ze(e,r),n}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),it(this,ot(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){return g.a.createElement(Je,{className:"about-widget",stateId:"about",defaultCollapsed:!1,title:this.props.title},g.a.createElement("div",{className:"about-content",dangerouslySetInnerHTML:{__html:this.props.content}}),this.props.enableConfiguration&&g.a.createElement("a",{href:xe.a.getSettingsUrl("general"),className:"edit-btn"},g.a.createElement("i",{className:"sprite-icon-edit-green icon-offset-normal"})," ",g.a.createElement(We.a,{message:"core_js:edit"})))}}])&&at(t.prototype,n),r&&at(t,r),e}(),ut=(n(314),n(79)),ct=n(135);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(){function t(e){var d;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(d=pt(this,ht(t).call(this,e))).setRef=function(e){d.ref=e,d.updateMinHeightDelayed()},d.updateMinHeightDelayed=function(){requestAnimationFrame(d.updateMinHeight)},d.updateMinHeight=function(){if(d.ref){var e=f.a.findDOMNode(d.ref);if(e&&e.parentNode){var n=e.parentNode,t=function(e){var t=n.querySelector(e);return t?t.classList.contains("collapsed")?parseInt(getComputedStyle(t).minHeight,10):t.scrollHeight:0},r=n.parentNode.getBoundingClientRect().height,a=t(".sidebar-datepicker"),i=t(".filter-widget"),o=t(".about-widget"),s=n.querySelector(".about-widget"),l=e.querySelector(".calendar-list-content"),u=r-a-i,c=e.scrollHeight-l.clientHeight+l.scrollHeight+2;!s||s.classList.contains("collapsed")?e.style.flexBasis=Math.min(c,Math.round(u-o)).toString()+"px":e.style.flexBasis=Math.min(c,Math.round(2*u/3)).toString()+"px",e.style.flexShrink="0"}}},d.onResourceChange=function(){d.forceUpdate()},d.filterCalendars=function(){if(d.text){var e=d.findMatchingIds(d.text.getValue());d.setState({filteredIds:e},function(){return Ce.filterEvents("",e)})}},d.handleShowAllButton=function(e){""===(d.text?d.text.getValue():"")?ut.a.toggleAll():(ut.a.showAll(),d.text.setValue(""),d.filterCalendars())},d.state={filter:""},d}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,g.a.Component),e=t,(n=[{key:"componentDidMount",value:function(){N.a.listen(this.onResourceChange),window.addEventListener("calendarSidebarCollapseExpand",this.updateMinHeightDelayed),window.addEventListener("resize",this.updateMinHeight)}},{key:"componentWillUnmount",value:function(){N.a.unlisten(this.onResourceChange),window.removeEventListener("calendarSidebarCollapseExpand",this.updateMinHeightDelayed),window.removeEventListener("resize",this.updateMinHeight)}},{key:"componentDidUpdate",value:function(){this.updateMinHeightDelayed()}},{key:"findMatchingIds",value:function(e){var n=N.a.getState().resourcesById;if(0===(e=e.trim().toLowerCase()).length)return Array.from(n.keys());var t=[];n.forEach(function(e){e.virtual||t.push({name:e.name.toLowerCase(),id:e.id,lastIndex:0})});var r=function(e){for(var t,n=e.length,r=0,a=[],i="",o="";r<n;r++){if('"'===(t=e[r]))i="open"===i?"":"open";else if(" "!==t||"open"===i){o+=t;continue}0<o.length&&a.push(o),o=""}return 0<o.length&&a.push(o),a}(e),a=r.length;t=t.filter(function(e){var t;for(t=0;t<a;t++)if(-1!==e.name.indexOf(r[t]))return!0;return!1});var i=[];return t.map(function(e){var t=n.get(e.id);for(-1===i.indexOf(t.id)&&i.push(t.id);t.parent&&n.has(t.parent);)t=n.get(t.parent),-1===i.indexOf(t.id)&&i.push(t.id)}),i}},{key:"renderCalendar",value:function(t,n,r){var a=this,e=t.visible||t.virtual?"":" hidden",i=t.readonly&&0<t.children.length?" cal-readonly":"",o="calendar cal-bg-"+t.color+e+i;if(r&&-1===r.indexOf(t.id))return g.a.createElement("div",{key:"res"+t.id});var s=t.virtual?"blue":"white",l=t.name.replace(/.*? > /g,"");return g.a.createElement("div",{key:"res"+t.id},g.a.createElement(ct.a,{component:"div",className:o,onClick:function(e){e.preventDefault(),e.stopPropagation(),0<t.children.length&&!t.expanded?ut.a.toggleResourceTree(t,!0):ut.a.toggleResourceVisibility(t)},id:"generic-tooltips",collect:function(){return{message:t.children.length?"subcalendar_list.hide_show_group":"subcalendar_list.hide_show_link",params:{name:l}}}},!t.visible&&!t.virtual&&g.a.createElement("i",{className:"hidden-calendar-icon sprite-hidden-calendar"}),0<t.children.length&&g.a.createElement(ct.a,{component:"span",className:"expand-handle "+(t.expanded?"expanded":"collapsed"),onClick:function(e){e.preventDefault(),e.stopPropagation(),ut.a.toggleResourceTree(t)},message:"subcalendar_list.open_close_folder",id:"generic-tooltips"},g.a.createElement("i",{className:t.expanded?"sprite-arrow-down-"+s:"sprite-arrow-right-"+s})),t.readonly&&!t.virtual&&g.a.createElement(ct.a,{component:"span",className:"readonly-icon",message:"subcalendar_list.calendar_read_only",id:"generic-tooltips"},g.a.createElement("i",{className:"sprite-icon-lock-white"})),l,g.a.createElement(ct.a,{component:"i",className:"show-only-button sprite-icon-eye-"+s,onClick:function(e){e.preventDefault(),e.stopPropagation(),ut.a.showOnlyResource(t)},message:t.children.length?"subcalendar_list.show_only_this_group":"subcalendar_list.show_only_this",id:"generic-tooltips"})),g.a.createElement("div",{className:"children"},t.expanded&&t.children.map(function(e){return a.renderCalendar(e,n+1,r)})))}},{key:"renderList",value:function(){var t=this,e=N.a.getState().resourceTree;return g.a.createElement("div",{className:"calendar-list-content"},e.map(function(e){return t.renderCalendar(e,0,t.state.filteredIds)}))}},{key:"render",value:function(){var t=this,e=P()(this.filterCalendars,200),n=12<=N.a.getState().resources.length;return g.a.createElement(Je,{className:"calendar-list-widget",stateId:"calendar-list",defaultCollapsed:!1,title:"calendar:subcalendar_list.title",headerExtra:g.a.createElement("div",{className:"show-all-button",onClick:this.handleShowAllButton},j.a.translate("calendar","subcalendar_list.all_link")),ref:this.setRef},n?g.a.createElement("div",{className:"calendar-filter"},g.a.createElement(M.a,{name:"calendar_filter",type:"search",placeholder:j.a.translate("calendar","subcalendar_list.filter_empty_text"),ref:function(e){t.text=e},onChange:e,onKeyUp:e})):null,this.renderList(),this.props.enableConfiguration&&g.a.createElement("a",{className:"add-edit-link",href:xe.a.getSettingsUrl("calendars")},g.a.createElement("i",{className:"sprite-icon-plus-green icon-offset-normal"}),g.a.createElement(We.a,{message:"calendar:subcalendar_list.add_edit_link"})))}}])&&ft(e.prototype,n),r&&ft(e,r),t}(),yt=n(316),gt=n.n(yt),bt=n(226);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ot=function(){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=Et(this,St(t).call(this,e))).datePicker=null,i.toggleCalendar=function(){i.setState({calendarOpen:!i.state.calendarOpen})},i.handleChange=function(e){var t=T()(e[0]);i.props.onChange(t)},i.createCalendarDay=function(e,t,n,r){if(0!==i.props.highlightedDates.length){var a=T()(r.dateObj).format("YYYY-MM-DD");-1!==i.props.highlightedDates.indexOf(a)&&(r.innerHTML+='<span class="calendar-view-area"></span>')}},i.initPicker=function(e){if(e){var t=T.a.weekdays().map(function(e){return null!==re.getState().language.match("zh")?e.substring(2,3):e.substring(0,1).toUpperCase()}),n={firstDayOfWeek:re.getState().datetime.weekStart,weekdays:{shorthand:t,longhand:i.props.mini?t:T.a.weekdays()},months:{shorthand:T.a.monthsShort(),longhand:T.a.months()}},r={dateFormat:"Y-m-d",allowInput:!1,onChange:i.handleChange,onOpen:bt.b,onReady:bt.b,onClose:function(){i.props.togglable&&(i.datePicker&&Object(bt.a)(null,null,i.datePicker),i.state.calendarOpen&&i.setState({calendarOpen:!1}))},onDayCreate:i.createCalendarDay,defaultDate:i.props.currentDate.toDate(),disableMobile:!0,locale:n,inline:!i.props.togglable};i.props.nextArrow&&(r.nextArrow=i.props.nextArrow),i.props.prevArrow&&(r.prevArrow=i.props.prevArrow),i.datePicker=gt()(e,r),i.datePicker.calendarContainer.classList.remove("arrowTop"),i.datePicker.calendarContainer.classList.add("highlighted-date-picker"),i.props.mini&&i.datePicker.calendarContainer.classList.add("mini-calendar")}else i.datePicker&&(Object(bt.a)(null,null,i.datePicker),i.datePicker.destroy()),i.datePicker=null},i.state={calendarOpen:!i.props.togglable},i}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,g.a.Component),e=t,(n=[{key:"componentDidUpdate",value:function(e){var t=this;this.props.currentDate!==e.currentDate&&this.datePicker&&(this.datePicker.setDate(this.props.currentDate.toDate()),this.datePicker.jumpToDate(this.props.currentDate.toDate())),e.highlightedDates!==this.props.highlightedDates&&this.datePicker&&this.datePicker.redraw(),this.props.togglable&&setTimeout(function(){t.datePicker&&(t.state.calendarOpen?t.datePicker.open():t.datePicker.close())},0)}},{key:"render",value:function(){return g.a.createElement("input",{ref:this.initPicker,className:"noinput-datepicker-input"})}}])&&_t(e.prototype,n),r&&_t(e,r),t}();Ot.defaultProps={togglable:!1,mini:!1};var Ct=Ot;function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return!t||"object"!==Dt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(){function n(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=xt(this,Pt(n).call(this,e))).root=null,a.content=null,a.handleStoreUpdate=function(){var e=re.getState(),t=e.sidebar.expanded;t!==a.state.expanded&&(a.setState({expanded:t}),a.updateVisibility());var n=e.datetime.currentDate;n.isSame(a.state.currentDate)||a.setState({currentDate:n});var r=e.datetime.highlightedDates;D()(r,a.state.highlightedDates)||a.setState({highlightedDates:r})},a.onResize=function(e){var t=a.isMobile();t&&!a.lastResizeMobile&&y.toggleSidebar(!1),!t&&a.lastResizeMobile&&(y.toggleSidebar(!0),a.updateVisibility()),a.lastResizeMobile=t},a.onTouchStart=function(e){a.state.expanded&&a.content&&a.isMobile()&&(e.clientX||e.touches&&e.touches[0].pageX)>a.content.getBoundingClientRect().width&&(y.toggleSidebar(!1),e.preventDefault())};var t=re.getState();return a.state={expanded:t.sidebar.expanded,currentDate:t.datetime.currentDate,highlightedDates:t.datetime.highlightedDates},a}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),window.addEventListener("click",this.onTouchStart),window.addEventListener("touchstart",this.onTouchStart),this.lastResizeMobile=this.isMobile(),re.listen(this.handleStoreUpdate),this.isMobile()&&y.toggleSidebar(!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("click",this.onTouchStart),window.removeEventListener("touchstart",this.onTouchStart),re.unlisten(this.handleStoreUpdate)}},{key:"isMobile",value:function(){return!(!this.root||"absolute"!=getComputedStyle(this.root).position)}},{key:"updateVisibility",value:function(){if(this.root){var e=this.root.className;e=e.replace(/ (hidden|visible)/,""),this.state.expanded?e+=" visible":e+=" hidden",e!==this.root.className&&(this.root.className=e)}}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"sidebar-content",ref:function(e){e&&(t.root=e.parentNode,t.content=e,t.updateVisibility())}},!this.props.hideDatePicker&&g.a.createElement("div",{className:"sidebar-section sidebar-datepicker"},g.a.createElement("div",{className:"sidebar-section-content"},g.a.createElement(Ct,{highlightedDates:this.state.highlightedDates,currentDate:this.state.currentDate,onChange:y.setCurrentDate,mini:!0,nextArrow:'<i class="sprite-arrow-forward" />',prevArrow:'<i class="sprite-arrow-back" />'}))),g.a.createElement(vt,Object.assign({},this.props.calendarListWidget)),this.props.enableFilterWidget&&g.a.createElement(nt,Object.assign({},this.props.filterWidget)),this.props.enableAboutWidget&&g.a.createElement(lt,Object.assign({},this.props.aboutWidget)))}}])&&Tt(e.prototype,t),r&&Tt(e,r),n}(),Nt=n(254),At=n(34),Lt=n(279);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,Vt(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var t=this,e=[],n=[];if(window.innerHeight<900){e=["en","en_GB","de","es","it","fr","nl","pt_PT"];var r=(n=["cs","da","hr","hu","ja_JP","pl","ro","ru_RU","sk","sl","sr","sv","fi","tr","zh_CN","zh_TW"]).indexOf(this.props.language);-1!==r&&(n.splice(r,1),e.unshift(this.props.language))}else e=["en","en_GB","cs","da","de","es","it","fr","hr","hu","nl","pl","pt_PT","ro","ru_RU","sk","sl","sr","sv","fi","tr","zh_CN","zh_TW"],n=[];return g.a.createElement(At.d,{title:g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-language"})),g.a.createElement(We.a,{message:"settings_menu.language.title"}))},e.map(function(e){return g.a.createElement(At.c,{key:"lang-"+e,onClick:function(){y.setLanguage(e)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},t.props.language===e&&g.a.createElement("i",{className:"sprite-verify-yes"})),g.a.createElement(We.a,{message:"settings_menu.language.language_"+e})))}),0<n.length&&g.a.createElement(At.d,{title:g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"}),g.a.createElement(We.a,{message:"settings_menu.language.more"}))},n.map(function(e){return g.a.createElement(At.c,{key:"lang-"+e,onClick:function(){y.setLanguage(e)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},t.props.language===e&&g.a.createElement("i",{className:"sprite-verify-yes"})),g.a.createElement(We.a,{message:"settings_menu.language.language_"+e})))})))}}])&&It(e.prototype,n),r&&It(e,r),t}();function Ht(e){var t;var n=g.a.useMemo(function(){return function(e,t,n){if(!e||!t||!n)return"";var r=e.clone(),a=t.clone();return r.isSame(a,"day")?r.format(ue.a.get("short_weekday_moment")):"month"===n?r.format(ue.a.get("full_month_year_moment")):"year"===n?(r.add(15,"days").startOf("month"),a.subtract(15,"days").endOf("month"),r.isSame(a,"year")?r.isSame(a,"month")?r.format(ue.a.get("short_month_year_moment")):r.format("MMM")+" - "+a.format(ue.a.get("short_month_year_moment")):r.format(ue.a.get("short_month_year_moment"))+" - "+a.format(ue.a.get("short_month_year_moment"))):r.isSame(a,"year")?r.isSame(a,"month")?r.format(ue.a.get("range_same_month_part1_moment"))+" - "+a.format(ue.a.get("range_same_month_part2_moment")):r.format(ue.a.get("range_same_year_part1_moment"))+" - "+a.format(ue.a.get("range_same_year_part2_moment")):r.format(ue.a.get("range_different_year_part1_moment"))+" - "+a.format(ue.a.get("range_different_year_part2_moment"))}(e.viewStartDate,e.viewEndDate,e.view)},[e.viewStartDate,e.viewEndDate,e.view]);return g.a.createElement("div",{className:"current-range"},g.a.createElement(Ct,{ref:function(e){t=e},onChange:y.setCurrentDate,highlightedDates:e.highlightedDates,currentDate:e.currentDate,togglable:!0}),g.a.createElement("span",{className:"calendar-picker-trigger",onClick:function(){t&&t.toggleCalendar()}},n,g.a.createElement("i",{className:"sprite-arrow-down"})))}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),e}function Kt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qt=Object(Nt.a)(function(){function n(e){var t;return Wt(this,n),(t=Kt(this,qt(n).call(this,e))).viewList=null,t.toggleViewMenu=function(){t.setState({viewMenuOpen:!t.state.viewMenuOpen})},t.state={viewListAsMenu:!1,viewMenuOpen:!1},t}return $t(n,g.a.Component),Gt(n,[{key:"componentDidUpdate",value:function(){this.checkViewVisibility()}},{key:"componentDidMount",value:function(){this.checkViewVisibility()}},{key:"handleOuterClick",value:function(){this.state.viewMenuOpen&&this.setState({viewMenuOpen:!1})}},{key:"checkViewVisibility",value:function(){if(this.viewList){var e=this.viewList.parentNode,t=e.parentNode,n=e.className,r=!0;e.className="view-switcher",this.viewList.scrollWidth==this.viewList.clientWidth&&(r=!1),50<t.clientHeight&&(r=!0);var a=t.querySelector(".current-range");a&&a.clientWidth<a.scrollWidth-3&&(r=!0),window.innerWidth<800&&(r=!0),e.className=n,r!==this.state.viewListAsMenu&&(this.setState({viewListAsMenu:r}),!1===r&&this.state.viewMenuOpen&&this.setState({viewMenuOpen:!1}))}}},{key:"render",value:function(){var e,t=this;return e="search"===this.props.view?j.a.translate("calendar","search.searchBtn"):this.props.views.find(function(e){return e.id===t.props.view}).name,g.a.createElement("div",{className:"view-switcher"+(this.state.viewListAsMenu?" menu":"")+(this.state.viewMenuOpen?" menu-open":"")},g.a.createElement("div",{className:"view-handle toolbar-button"+(this.state.viewMenuOpen?" active":""),onClick:this.toggleViewMenu},g.a.createElement("span",null,e)," ",g.a.createElement("i",{className:"sprite-arrow-down"})),g.a.createElement("ul",{className:"view-list",ref:function(e){t.viewList=e}},this.props.views.map(function(e){return g.a.createElement("li",{key:e.id,className:"toolbar-button"+(e.id===t.props.view?" active":""),onClick:function(){t.setState({viewMenuOpen:!1}),y.setView(e.id)}},e.name)})))}}]),n}()),Zt=function(){function n(e){var o;Wt(this,n),(o=Kt(this,qt(n).call(this,e))).isMenuOpen=!1,o.menuRef=null,o.handleStoreUpdate=function(){var i=re.getState();i.sidebar.expanded!==o.state.sidebar.expanded&&o.setState({sidebar:V()(i.sidebar)});var e=i.timezone;e.value!==o.state.timezone.value&&o.setState({timezone:V()(e)});var t=i.views.current;t!==o.state.viewSelectorView&&"search"!==t&&o.setState({viewSelectorView:t}),t!==o.state.view&&o.setState({view:t});var n=i.grid.resolution;n!==o.state.gridResolution&&o.setState({gridResolution:n}),["currentDate","viewStartDate","viewEndDate"].forEach(function(e){var t,n,r,a=i.datetime[e];a.isSame(o.state[e])||o.setState((r=a,(n=e)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))});var r=i.datetime.highlightedDates;D()(r,o.state.highlightedDates)||o.setState({highlightedDates:r})},o.onResize=function(){o.resizeTimeout&&window.clearTimeout(o.resizeTimeout),o.resizeTimeout=window.setTimeout(o.doResize,30)},o.doResize=function(){o.forceUpdate()},o.toggleSidebar=function(){y.toggleSidebar(null,!0)},o.showMenu=function(e){e.preventDefault(),e.stopPropagation();var t=o.menuRef.getBoundingClientRect();o.isMenuOpen?Object(At.e)({id:"settingsMenu"}):(Object(At.e)({id:"settingsMenu"}),Object(At.f)({position:{x:t.right,y:t.bottom},target:o.menuRef,id:"settingsMenu",data:{}}))};var t=re.getState();return o.state={currentDate:t.datetime.currentDate,viewStartDate:t.datetime.viewStartDate,viewEndDate:t.datetime.viewEndDate,highlightedDates:t.datetime.highlightedDates,view:t.views.current,viewSelectorView:t.views.current,gridResolution:t.grid.resolution,sidebar:V()(t.sidebar),language:t.language,timezone:{value:t.timezone.value,visible:t.timezone.visible},showLogout:t.authentication.passwordRequired&&!window.location.pathname.match("/c/"+b.a.getAppIdentifier())},o}return $t(n,g.a.Component),Gt(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),re.listen(this.handleStoreUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),re.unlisten(this.handleStoreUpdate)}},{key:"renderNavigation",value:function(){var e=this.state.currentDate.isSame(new Date,"day");return g.a.createElement("div",{className:"date-navigation"},g.a.createElement("div",{className:"toolbar-button",onClick:y.prevDateRange},g.a.createElement("i",{className:"sprite-arrow-back"})),g.a.createElement("div",{className:"toolbar-button today "+(e?"disabled":""),onClick:e?void 0:function(){y.setCurrentDate(T()())}},g.a.createElement(ct.a,{component:"i",className:"sprite-icon-calendar icon",id:"generic-tooltips",message:"calendar:today"}),g.a.createElement(We.a,{message:"calendar:today",className:"text"})),g.a.createElement("div",{className:"toolbar-button",onClick:y.nextDateRange},g.a.createElement("i",{className:"sprite-arrow-forward"})))}},{key:"renderViewSwitcher",value:function(){if(0!=b.a.getInitialQueryParams().showViewSelector)return g.a.createElement(Qt,{views:re.getViews(),view:this.state.viewSelectorView})}},{key:"renderMenu",value:function(){var t=this,e="";return this.state.timezone.value&&(e=": "+Lt.a.getShortString(this.state.timezone.value)),g.a.createElement("div",{className:"toolbar-menu"},g.a.createElement("div",{className:"toolbar-button",onClick:this.showMenu,ref:function(e){t.menuRef=e}},g.a.createElement("i",{className:"sprite-icon-navicon"})),g.a.createElement(At.a,{className:"settings-menu",id:"settingsMenu",onShow:function(){t.isMenuOpen=!0},onHide:function(){setTimeout(function(){t.isMenuOpen=!1},50)}},this.props.menu.enableConfiguration&&g.a.createElement(At.c,{onClick:function(){xe.a.openSettings("general")}},g.a.createElement("a",{href:xe.a.getSettingsUrl()},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-settings"})),g.a.createElement(We.a,{message:"settings_menu.settingsText"}))),this.state.timezone.visible&&g.a.createElement(At.c,{onClick:function(){y.pickTimezone()}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-timezone"})),g.a.createElement(We.a,{message:"settings_menu.timezoneText"}),e)),g.a.createElement(At.c,{divider:!0}),g.a.createElement(At.c,{onClick:function(){xe.a.openPdfPrint()}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-print"})),g.a.createElement(We.a,{message:"settings_menu.pdfExport"}),"...")),g.a.createElement(At.d,{title:g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-preferences"})),g.a.createElement(We.a,{message:"settings_menu.preferences.title"}))},g.a.createElement(At.c,{onClick:function(){xe.a.openDefaultRemindersPreferences()}},g.a.createElement(ct.a,{component:"a",message:"settings_menu.remindersTooltip",id:"generic-tooltips"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-reminder"})),g.a.createElement(We.a,{message:"settings_menu.preferences.reminder"}))),g.a.createElement(At.c,{onClick:function(){t.props.menu.userSignupEnabled&&xe.a.openEmailNotificationsPreferences()},attributes:{className:this.props.menu.userSignupEnabled?"":"disabled"}},g.a.createElement(ct.a,{component:"a",disabled:!!this.props.menu.userSignupEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-notifications"})),g.a.createElement(We.a,{message:"settings_menu.preferences.email"}))),g.a.createElement(At.c,{onClick:function(){t.props.menu.userSignupEnabled&&xe.a.openAgendaPreferences()},attributes:{className:this.props.menu.userSignupEnabled?"":"disabled"}},g.a.createElement(ct.a,{component:"a",disabled:!!this.props.menu.userSignupEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-daily-agenda"})),g.a.createElement(We.a,{message:"settings_menu.preferences.agenda"}))),g.a.createElement(At.c,{onClick:function(){t.props.menu.userSignupEnabled&&xe.a.openSlackNotificationsPreferences()},attributes:{className:this.props.menu.userSignupEnabled?"":"disabled"}},g.a.createElement(ct.a,{component:"a",disabled:!!this.props.menu.userSignupEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-notifications"})),g.a.createElement(We.a,{message:"settings_menu.preferences.slack"}))),g.a.createElement(At.c,{onClick:function(){t.props.menu.icsFeedsEnabled&&xe.a.openICalFeedsPreferences()},attributes:{className:this.props.menu.icsFeedsEnabled?"":"disabled"}},g.a.createElement(ct.a,{component:"a",disabled:!!this.props.menu.icsFeedsEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-feeds"})),g.a.createElement(We.a,{message:"settings_menu.preferences.icalfeeds"})))),g.a.createElement(At.d,{title:g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-resolution"})),g.a.createElement(We.a,{message:"settings_menu.calendarResolution.title"}))},[5,10,15,30,60].map(function(e){return g.a.createElement(At.c,{key:"resolution_"+e,onClick:function(){y.setGridResolution(e)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},t.state.gridResolution===e&&g.a.createElement("i",{className:"sprite-verify-yes"})),g.a.createElement(We.a,{message:"settings_menu.calendarResolution.resolution_"+e})))})),g.a.createElement(Yt,{language:this.state.language}),g.a.createElement(At.c,{onClick:function(){window.open("https://calendar.teamup.com/","_blank")}},g.a.createElement("a",{href:"https://calendar.teamup.com/",target:"_blank"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-help"})),g.a.createElement(We.a,{message:"settings_menu.helpText"}))),this.state.showLogout&&g.a.createElement(At.c,{divider:!0}),this.state.showLogout&&g.a.createElement(At.c,{onClick:function(){window.location.href=b.a.getBaseUrl()+"/"+b.a.getAppKey()+"/logout"}},g.a.createElement("a",{href:b.a.getBaseUrl()+"/"+b.a.getAppKey()+"/logout"},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-logout"})),g.a.createElement(We.a,{message:"settings_menu.logoutText"})))))}},{key:"render",value:function(){return g.a.createElement("div",{className:"toolbar-content"},this.state.sidebar.enabled&&g.a.createElement(ct.a,{component:"div",className:"sidebar-toggle toolbar-button",onClick:this.toggleSidebar,message:this.state.sidebar.expanded?"settings_menu.hideControlPanelBtnTooltip":"settings_menu.showControlPanelBtnTooltip",id:"generic-tooltips"},g.a.createElement("i",{className:this.state.sidebar.expanded?"sprite-arrow-collapse":"sprite-arrow-collapse-open"})),g.a.createElement(ct.a,{component:"div",className:"calendar-refresh toolbar-button tooltip-item",onClick:Ce.refresh,message:"settings_menu.refreshBtnTooltip",id:"generic-tooltips"},g.a.createElement("i",{className:"sprite-icon-refresh"})),this.renderNavigation(),g.a.createElement(Ht,{view:this.state.view,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,highlightedDates:this.state.highlightedDates,currentDate:this.state.currentDate}),this.renderViewSwitcher(),b.a.getCalendarDefaults().showMenu&&this.renderMenu())}}]),n}(),Xt=n(41),en=n(317),tn=n(385);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ln=function(){function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=an(this,on(n).call(this,e))).handleStoreUpdate=function(){var e=re.getState(),t=e.timezone.value;t!==r.state.timezone&&r.setState({timezone:t});var n=e.timezone.pick;n!==r.state.pick&&(r.selectedTz=r.state.timezone,r.setState({pick:n}))};var t=re.getState();return r.state={timezone:t.timezone.value,pick:!1},r}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){re.listen(this.handleStoreUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleStoreUpdate)}},{key:"renderTzModal",value:function(){var t=this;return g.a.createElement(Xt.a,{title:"calendar:timezone.title",yesText:"calendar:timezone.saveButtonText",onYes:function(){y.setTimezone(t.selectedTz)},onClose:function(){y.timezonePickerDone()}},g.a.createElement(en.a,{id:"tz_picker",ref:"timezone",timezone:this.state.timezone,onChange:function(e){t.selectedTz=e}}))}},{key:"renderTz",value:function(){var e=Lt.a.getShortString(this.state.timezone);return g.a.createElement("p",{title:j.a.translate("calendar","settings_menu.timezoneText")},g.a.createElement("i",{className:"sprite-footer-timezone"})," ",g.a.createElement("a",{onClick:function(){y.pickTimezone()}},e))}},{key:"renderLogo",value:function(){var e=window.CALENDAR_SETTINGS.licenseFeatures.show_footer_logo;return void 0!==e&&0==e?null:g.a.createElement("p",null,g.a.createElement("span",{className:"poweredby"},"Powered by")," ",g.a.createElement("a",{href:"http://www.teamup.com/",target:"_blank"},g.a.createElement("i",{className:"teamup-logo"})))}},{key:"renderPdfPrintDate",value:function(){var e=T()(),t=j.a.translate("calendar","settings_menu.pdfExportWin.printedOn");return g.a.createElement("div",{className:"printed"},t,": ",e.format(ue.a.get("date_year_moment"))," ",e.format(ue.a.get("time_moment")))}},{key:"render",value:function(){return g.a.createElement("div",{className:"calendar-footer-content"},re.getState().views.isPdf&&this.renderPdfPrintDate(),re.getState().timezone.visible&&this.renderTz(),this.renderLogo(),this.state.pick&&this.renderTzModal(),g.a.createElement(tn.a,{id:"event-tooltip",className:"event-tooltip"}),g.a.createElement(tn.a,{id:"generic-tooltips"}),g.a.createElement(tn.a,{id:"user-avatar-tooltip",className:"user-avatar-tooltip"}))}}])&&rn(e.prototype,t),r&&rn(e,r),n}();function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return!t||"object"!==un(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hn=[{label:"agenda_view.groupByNone",value:"none"},{label:"agenda_view.groupByWeek",value:"week"},{label:"agenda_view.groupByMonths",value:"month"}],mn=[{label:"agenda_view.dateRangeOneDay",value:"day"},{label:"agenda_view.dateRangeOneWeek",value:"week"},{label:"agenda_view.dateRangeTwoWeeks",value:"2weeks"},{label:"agenda_view.dateRangeOneMonth",value:"month"},{label:"agenda_view.dateRangeThreeMonths",value:"3months"},{label:"agenda_view.dateRangeSixMonths",value:"6months"},{label:"agenda_view.dateRangeOneYear",value:"year"}],vn=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=dn(this,fn(t).apply(this,arguments))).renderTranslateMessages=function(e){return g.a.createElement(We.a,{key:e.value,message:e.label,component:"option",value:e.value})},e.openReactEditorToAddEvent=function(){xe.a.openEventEditor({start_dt:re.getState().datetime.currentDate.format("YYYY-MM-DD")})},e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,g.a.Component),e=t,(n=[{key:"renderGroupBySelect",value:function(){if(this.props.groupByChangeHandler)return g.a.createElement("section",null,g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement("label",{htmlFor:"agenda-range-selection"},g.a.createElement(We.a,{message:"agenda_view.groupByText"}))),g.a.createElement("select",{name:"agenda-group-by-selection",id:"agenda-group-by-selection",defaultValue:this.props.groupBySelectValue,className:"filter-view-input filter-view__range-select",onChange:this.props.groupByChangeHandler},hn.map(this.renderTranslateMessages)))}},{key:"render",value:function(){return g.a.createElement("div",{className:"filter-view"},g.a.createElement("div",{className:"filter-view-hd"},g.a.createElement("div",{className:"filter-view-flex-wrapper"},g.a.createElement("section",null,g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement("label",{htmlFor:"agenda-range-selection"},g.a.createElement(We.a,{message:"agenda_view.dateRangeText"}))),g.a.createElement("select",{name:"agenda-range-selection",id:"agenda-range-selection",defaultValue:this.props.rangeSelectValue,className:"filter-view-input filter-view__range-select",onChange:this.props.dateRangeChangedHandler},mn.map(this.renderTranslateMessages))),this.renderGroupBySelect(),g.a.createElement("section",null,g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement("label",{className:"list-show-details-checkbox-label",htmlFor:"agenda-show-details-checkbox"},g.a.createElement(We.a,{message:"agenda_view.showDetailsText"}))),g.a.createElement(M.a,{type:"checkbox",name:"agenda-show-details-toggle",className:"filter-view-input filter-view--checkbox",id:"agenda-show-details-checkbox",defaultChecked:this.props.showDetails,onChange:this.props.showDetailsChangeHandler})),0==this.props.readOnly&&g.a.createElement("section",{className:"add-button-wrapper"},g.a.createElement("a",{onClick:this.openReactEditorToAddEvent,className:"btn__state-green filter-view-input add-event-btn"},"+ ",g.a.createElement(We.a,{message:"agenda_view.addBtnText"}))))))}}])&&cn(e.prototype,n),r&&cn(e,r),t}();function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gn={1:{id:1,value:"f2665b"},2:{id:2,value:"cf2424"},3:{id:3,value:"a01a1a"},4:{id:4,value:"7e3838"},5:{id:5,value:"ca7609"},6:{id:6,value:"f16c20"},7:{id:7,value:"f58a4b"},8:{id:8,value:"d2b53b"},9:{id:9,value:"d96fbf"},10:{id:10,value:"b84e9d"},11:{id:11,value:"9d3283"},12:{id:12,value:"7a0f60"},13:{id:13,value:"542382"},14:{id:14,value:"7742a9"},15:{id:15,value:"8763ca"},16:{id:16,value:"b586e2"},17:{id:17,value:"668CB3"},18:{id:18,value:"4770d8"},19:{id:19,value:"2951b9"},20:{id:20,value:"133897"},21:{id:21,value:"1a5173"},22:{id:22,value:"1a699c"},23:{id:23,value:"0080a6"},24:{id:24,value:"4aaace"},25:{id:25,value:"88b347"},26:{id:26,value:"5a8121"},27:{id:27,value:"2d850e"},28:{id:28,value:"176413"},29:{id:29,value:"0f4c30"},30:{id:30,value:"386651"},31:{id:31,value:"00855b"},32:{id:32,value:"4fb5a1"},33:{id:33,value:"553711"},34:{id:34,value:"724f22"},35:{id:35,value:"9c6013"},36:{id:36,value:"f6c811"},37:{id:37,value:"ce1212"},38:{id:38,value:"b20d47"},39:{id:39,value:"d8135a"},40:{id:40,value:"e81f78"},41:{id:41,value:"f5699a"},42:{id:42,value:"5c1c1c"},43:{id:43,value:"a55757"},44:{id:44,value:"c37070"},45:{id:45,value:"000000"},46:{id:46,value:"383838"},47:{id:47,value:"757575"},48:{id:48,value:"a3a3a3"}},bn=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getDefaultColor",value:function(){return{id:16,value:"668cb3"}}},{key:"getColor",value:function(e){return gn[e]?gn[e]:"virtual"===e?{id:"virtual",value:"cfcfd0"}:t.getDefaultColor()}}],(n=null)&&yn(e.prototype,n),r&&yn(e,r),t}();n(301);function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"makeObliqueStripes",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:30,a=2<arguments.length&&void 0!==n&&n?ye.getAllSubcalendars(e):ye.getVisibleSubcalendars(e),i=this.calculateGradient("oblique",a,r,0),o="repeating-linear-gradient(-45deg, ",s="";return o=(o+=i.gradient).slice(0,-1),o+=")",i.resources[0]&&(s="#"+bn.getColor(i.resources[0].color).value),{backgroundImage:o,borderColor:s}}},{key:"calculateGradient",value:function(e,t,n,r){for(var a="",i=0,o=0;o<t.length;o++){var s=bn.getColor(t[o].color);a+="#"+s.value+" "+i+"px,",i+=n,a+="#"+s.value+" "+i+"px,","vertical"===e&&o<t.length-1&&(a+="#ffffff "+i+"px,",a+="#ffffff "+(i+=r||1)+"px,")}return{gradient:a,resources:t}}},{key:"makeVerticalStripes",value:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:10,a=2<arguments.length&&void 0!==n?n:5,i=this.calculateGradient("vertical",ye.getVisibleSubcalendars(e),r,a),o="linear-gradient(to right, ",s=i.resources.length*(r+a)-a;return o=(o+=i.gradient).slice(0,-1),{backgroundImage:o+=")",width:s+"px"}}}],(n=null)&&wn(t.prototype,n),r&&wn(t,r),e}();function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dn=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=kn(this,On(t).call(this,e))).renderProp=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(t)return g.a.createElement("li",{key:n,className:"field"},g.a.createElement("strong",null,r?g.a.createElement(We.a,{message:e}):e,":")," ",t)},a.renderBadges=function(e,t,n){var r="";return n&&e.emoji&&(r=Object(fe.b)(Object(de.b)(e.emoji))+" "),g.a.createElement("span",{key:t,className:(n?"choice cal-fg-":"calendar cal-bg-")+e.color,dangerouslySetInnerHTML:{__html:r+Object(de.b)(e.name)}})},a.renderDescription=function(e,t,n){var r=ye.formatDescription(a.props.event.notes);if(r)return g.a.createElement("li",{key:t,className:"field"},g.a.createElement("strong",null,n?g.a.createElement(We.a,{message:e}):e,": "),g.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}}))},a.renderSignup=function(e){var t=re.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id});if((!t||t.active&&!t.hidden)&&void 0!==En(e.signup_enabled)&&e.signup_enabled&&T()(e.signup_deadline).isAfter(T()())&&(void 0!==En(e.signup_limit)||0==e.signup_limit)&&(e.signups&&(0==e.signup_limit||e.signups.length<=e.signup_limit)||void 0!==En(e.signup_count)&&(0==e.signup_limit||e.signup_count<=e.signup_limit))){var n=" "+(e.signups?e.signups.length:e.signup_count);return 0<e.signup_limit&&(n+="/"+e.signup_limit),g.a.createElement("li",{key:"custom-signup",className:"field"},g.a.createElement("strong",null,g.a.createElement(We.a,{message:"event.tooltip.signup"}),":"),n)}},a.renderComments=function(e){var t=re.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id});if(t&&(!t||t.active&&!t.hidden)&&void 0!==En(e.comments_enabled)&&e.comments_enabled&&(e.comments&&0<e.comments.length||void 0!==En(e.comments_count)&&0<e.comments_count)){var n=e.comments?e.comments.length:e.comments_count;return g.a.createElement("li",{key:"custom-comments",className:"field"},g.a.createElement("strong",null,g.a.createElement(We.a,{message:"event.tooltip.comments"}),":")," "+n)}},a}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(t,g.a.Component),e=t,(n=[{key:"renderCustomisableFields",value:function(){var i=this;return re.getState().fields.definitions.map(function(n){if(!n.hidden){var e=i.props.event.custom||{},t="custom-"+n.id;if("builtin_who"===n.type)return i.renderProp(n.name||"event.tooltip.who",i.props.event.who,t,""===n.name);if("builtin_location"===n.type)return i.renderProp(n.name||"event.tooltip.location",i.props.event.location,t,""===n.name);if("builtin_notes"===n.type)return i.renderDescription(n.name||"event.tooltip.description",t,""===n.name);if("builtin_signup"===n.type)return i.renderSignup(i.props.event);if("builtin_comments"===n.type)return i.renderComments(i.props.event);if("single_line_text"===n.type)return i.renderProp(n.name,e[n.id],t,!1);if("number"===n.type)return i.renderProp(n.name,ye.renderNumberField(parseFloat(e[n.id]),n.type_data.prefix,n.type_data.postfix,n.type_data.decimals?n.type_data.decimals:void 0),t,!1);if("choices"!==n.type)"builtin_company_cam"!==n.type&&"builtin_title"!==n.type&&"builtin_calendars"!==n.type&&console.log("Field "+n.id+" is of unknown type "+n.type);else{var r=e[n.id];if(r&&r.length){var a=ce.a.listToMap(n.type_data.options);return g.a.createElement("li",{className:"field calendar-list",key:t},g.a.createElement("span",{className:"label"},g.a.createElement("strong",null,n.name,":")),r.map(function(e,t){if(!a[e].hidden)return i.renderBadges(a[e],"custom-"+n.id+"tag-"+e,!0)}))}}}})}},{key:"render",value:function(){var n=this,e=this.props.event.start_dt,t=this.props.event.end_dt,r=this.props.event.subcalendars[0].color;return g.a.createElement("ul",null,this.props.event.title?g.a.createElement("li",{className:"title pb-8 cal-text-"+r,dangerouslySetInnerHTML:{__html:Object(fe.b)(Object(de.b)(this.props.event.title))}}):g.a.createElement("li",{className:"title pb-8 cal-text-"+r},g.a.createElement(We.a,{message:"calendar.defaultEventTitleText"})),g.a.createElement("li",{className:"pb-8"},ue.a.renderShortTime(e,t,this.props.event.all_day)),g.a.createElement("li",{className:"field calendar-list"},g.a.createElement("span",{className:"label"},g.a.createElement("strong",null,g.a.createElement(We.a,{message:"event.tooltip.subcalendar"}),":")),this.props.subcalendars.map(function(e,t){return n.renderBadges(e,t,!1)})),this.renderCustomisableFields())}}])&&Sn(e.prototype,n),r&&Sn(e,r),t}();function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){e.stopPropagation(),xe.a.openEventEditor({event_id:t.id})}function Pn(e){return{component:g.a.createElement(Dn,{event:e,subcalendars:ye.getAllSubcalendars(e)})}}function jn(e,t){return{event:e,component:t}}function Mn(e,t,n,r,a){var i=[],o=e,s=1<o.subcalendar_ids.length,l=o.readonly&&!t,u=0<o.rrule.length,c=re.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id}),d=c&&(c.active||!c.hidden),f=void 0!==Tn(o.signup_enabled);d&&f&&!0===o.signup_enabled&&T()(o.signup_deadline).isAfter(T()())&&(void 0!==Tn(o.signup_limit)||0==o.signup_limit)&&(o.signups&&(0==o.signup_limit||o.signups.length<o.signup_limit)||void 0!==Tn(o.signup_count)&&(0==o.signup_limit||o.signup_count<o.signup_limit))&&i.push(g.a.createElement("i",{title:Nn("event.signup.form.title"),key:"signup",className:"sprite-icon-flag-gray"}));var p=re.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id});return(!p||p&&(p.active||!p.hidden))&&void 0!==Tn(o.comments_enabled)&&!0===o.comments_enabled&&(o.comments&&0<o.comments.length||void 0!==Tn(o.comments_count)&&0<o.comments_count)&&i.push(g.a.createElement("i",{title:Nn("event.comments.title"),key:"coments",className:"sprite-icon-comment-gray"})),l&&i.push(g.a.createElement("i",{title:Nn("event.tooltip.readonly"),key:"readonly",className:"sprite-icon-lock"})),u&&i.push(g.a.createElement("i",{title:Nn("agenda_view.recurringTooltip"),key:"rrule",className:"sprite-icon-repeat"})),s&&(i.push(g.a.createElement("i",{title:Nn("event.tooltip.multipleCals"),key:"onetomany",className:"sprite-icon-onetomany"})),r||i.push(function(e,t){var n=e.subcalendars.filter(function(e){return e.visible});if(t&&1<n.length)return g.a.createElement("div",{key:"one2manyDots",className:"event_evt-gradient-ct",style:_n.makeVerticalStripes(e,9,5)})}(e,a))),g.a.createElement("span",{className:n},i)}var Nn=j.a.partial("calendar");function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=j.a.partial("calendar"),Un=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Rn(this,In(n).call(this,e))).setAllowTooltip=function(e){t.setState({allowTooltip:e})},t.state={allowTooltip:!0},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(n,g.a.Component),e=n,(t=[{key:"renderCalendarName",value:function(){var e=N.a.getState().visibleResources;if(this.props.showDetails&&1<e.length){var t=this.props.event.subcalendars.filter(function(e){return e.visible});return g.a.createElement("dd",{className:"agenda-event__custom"},g.a.createElement("span",{className:"agenda-event__custom-label"},g.a.createElement("strong",null,Vn("event.editor.calendar"+(1<t.length?"s":"")+"LabelText"))),t.map(function(e){var t=bn.getColor(e.color);return g.a.createElement("span",{key:e.id,className:"agenda-event__custom-choice",style:{color:"#"+t.value},dangerouslySetInnerHTML:{__html:e.name}})}))}}},{key:"renderDetails",value:function(){var s=this;if(this.props.showDetails)return re.getState().fields.definitions.map(function(e){if(!e.hidden){var r="agenda-custom-"+e.id,t=s.props.event.custom||{};if("builtin_notes"===e.type){if(!s.props.event.notes||!s.props.event.notes.length)return;return g.a.createElement("dd",{key:r,className:"agenda-event__notes",dangerouslySetInnerHTML:{__html:s.props.event.notes}})}if("builtin_who"===e.type){if(!s.props.event.who)return;return g.a.createElement("dd",{key:r,className:"agenda-event__custom"},g.a.createElement("span",{className:"agenda-event__custom-label"},g.a.createElement("strong",null,e.name||Vn("event.editor.whoLabelText"))),s.props.event.who)}if("builtin_location"===e.type){if(!s.props.event.location)return;return g.a.createElement("dd",{key:r,className:"agenda-event__custom"},g.a.createElement("span",{className:"agenda-event__custom-label"},g.a.createElement("strong",null,e.name||Vn("event.editor.whereLabelText"))),s.props.event.location)}if("single_line_text"===e.type){var n=t[e.id];if(!n||!n.length)return;return g.a.createElement("dd",{key:r,className:"agenda-event__custom"},g.a.createElement("span",{className:"agenda-event__custom-label"},g.a.createElement("strong",null,e.name)),n)}if("number"===e.type){var a=t[e.id];if(null==a)return;return g.a.createElement("dd",{key:r,className:"agenda-event__custom"},g.a.createElement("span",{className:"agenda-event__custom-label"},g.a.createElement("strong",null,e.name)),ye.renderNumberField(parseFloat(a),e.type_data.prefix,e.type_data.postfix,e.type_data.decimals?e.type_data.decimals:void 0))}if("choices"===e.type){var i=t[e.id];if(!i||!i.length)return;var o=ce.a.listToMap(e.type_data.options);return g.a.createElement("dd",{key:r,className:"agenda-event__custom"},g.a.createElement("span",{className:"agenda-event__custom-label"},g.a.createElement("strong",null,e.name)),i.map(function(e){var t=o[e],n=bn.getColor(t.color);if(t)return g.a.createElement("span",{key:r+"-choice-"+e,className:"agenda-event__custom-choice",style:{color:"#"+n.value},dangerouslySetInnerHTML:{__html:(t.emoji?Object(fe.b)(Object(de.b)(t.emoji))+" ":"")+Object(de.b)(t.name)}})}))}"builtin_signup"!==e.type&&"builtin_comments"!==e.type&&"builtin_title"!==e.type&&"builtin_calendars"!==e.type&&"builtin_company_cam"!==e.type&&console.log("Unrecognised type "+e.type+" for custom field "+e.id)}})}},{key:"getEventTimesMarkupForAgenda",value:function(e){var t=e.start_dt.clone().startOf("day"),n=e.end_dt.clone().startOf("day"),r=j.a.translate("calendar","agenda_view.allDayText"),a=ue.a.get("time_moment");if(!this.props.currentViewDate)throw new Error("currentViewDate must be passed in if showDayColumn is not set to true");var i=this.props.currentViewDate.clone().startOf("day");return e.all_day?t.isSame(i,"day")?n.isSame(i,"day")?g.a.createElement("dt",{className:"agenda-event__time-period"},r):g.a.createElement("dt",{className:"agenda-event__time-period"},r+" "):n.isSame(i,"day")?g.a.createElement("dt",{className:"agenda-event__time-period"}," "+r):g.a.createElement("dt",{className:"agenda-event__time-period"},(e.start_dt.isBefore(i)?" ":"")+r+(i.isBefore(e.end_dt)?" ":"")):t.isSame(i,"day")?n.isSame(i,"day")?g.a.createElement("dt",{className:"agenda-event__time-period"},e.start_dt.format(a),g.a.createElement("span",{className:"time-to"}," - "+e.end_dt.format(a))):g.a.createElement("dt",{className:"agenda-event__time-period"},e.start_dt.format(a)+""):n.isSame(i,"day")?g.a.createElement("dt",{className:"agenda-event__time-period"}," "+e.end_dt.format(a)):g.a.createElement("dt",{className:"agenda-event__time-period"},(e.start_dt.isBefore(i)?" ":"")+r+(i.isBefore(e.end_dt)?" ":""))}},{key:"getEventTimesMarkupForList",value:function(e){var t=e.start_dt.clone().startOf("day"),n=e.end_dt.clone().startOf("day"),r="",a="-",i="",o="";return e.all_day?t.isSame(n,"day")?(r=j.a.translate("calendar","agenda_view.allDayText"),a=""):(r=j.a.translate("calendar","agenda_view.allDayText"),i=n.format(ue.a.get("short_day_date_moment"))):t.isSame(n,"day")?(r=e.start_dt.format(ue.a.get("time_moment")),i=e.end_dt.format(ue.a.get("time_moment"))):(r=e.start_dt.format(ue.a.get("time_moment")),i=n.format(ue.a.get("short_day_date_moment")),o=e.end_dt.format(ue.a.get("time_moment"))),g.a.createElement("dt",{className:"agenda-event__time-period"},g.a.createElement("span",null,r+" "+a+" "),g.a.createElement("span",null,i+" "+o))}},{key:"renderDayColumn",value:function(){var e="";if(this.props.showDayColumn)return(this.props.isFirstEventInDay||this.props.showDetails)&&(e=this.props.event.start_dt.format(ue.a.get("short_day_date_moment"))),g.a.createElement("dt",{className:"agenda-event__time-period daycol-spotter"},e)}},{key:"render",value:function(){var t=this,e=ye.renderEventTitleExtras(this.props.event,!this.props.showDetails);return g.a.createElement("div",{className:"agenda-events-list__event"+(this.props.isFirstEventInDay?" first-day-event":"")},this.renderDayColumn(),this.props.isAgendaView?this.getEventTimesMarkupForAgenda(this.props.event):this.getEventTimesMarkupForList(this.props.event),g.a.createElement("div",{className:"agenda-event-text-wrapper"},g.a.createElement("dd",{className:"agenda-event__title "},g.a.createElement(At.b,{id:"eventContextMenuReact",collect:function(){return jn(t.props.event,t)},holdToDisplay:-1},g.a.createElement(ct.a,{component:"a",id:"event-tooltip",onClick:function(e){return xn(e,t.props.event)},collect:function(){return Pn(t.props.event)},className:"event-title-link cal-text-"+ye.getVisibleSubcalendars(this.props.event)[0].color+" teamup-event-id-"+this.props.event.id,disabled:!this.state.allowTooltip},!this.props.showDetails&&e.emojis&&0<e.emojis.length&&g.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.emojis.join("")+"&nbsp;"}}),0<this.props.event.title.length?g.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(fe.b)(Object(de.b)(this.props.event.title))}}):g.a.createElement(We.a,{message:"calendar.defaultEventTitleText"}),Mn(this.props.event,this.props.readOnly,"agenda-title__icons",this.props.showDetails,this.props.oneToManyLayoutStripe))),g.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.suffix}})),this.renderCalendarName(),this.renderDetails()))}}])&&Ln(e.prototype,t),r&&Ln(e,r),n}();Un.defaultProps={showDayColumn:!1};var Yn=Un;function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wn(this,zn(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(e,g.a.Component),t=e,(n=[{key:"renderEvents",value:function(){var n=this;return this.props.events.map(function(e,t){return g.a.createElement(Yn,{key:"event-"+t+"-"+e.id,event:e,readOnly:n.props.readOnly,showDetails:n.props.showDetails,oneToManyLayoutStripe:n.props.oneToManyLayoutStripe,currentViewDate:n.props.date,isFirstEventInDay:!1,isAgendaView:n.props.isAgendaView})})}},{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement("div",{className:"agenda-list__agenda-day date-"+this.props.date.format("YYYY-MM-DD")},g.a.createElement("div",{className:"agenda-day__title"},g.a.createElement("strong",{className:"agenda-day__title-weekday"},this.props.date.format("dddd")),g.a.createElement("span",{className:"agenda-day__title-date"},this.props.date.format(ue.a.get("box_layout.multi_day_first_day_moment")))),g.a.createElement("dl",{className:"agenda-day__agenda-events-list"},this.renderEvents())),g.a.createElement("hr",{className:"agenda-list__hr-divider"}))}}])&&Bn(t.prototype,n),r&&Bn(t,r),e}();function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Qn(e){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,Qn(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(t,g.a.Component),e=t,(n=[{key:"renderEvents",value:function(){var r=this,a=!0,i=[];return this.props.events.map(function(e,t){var n=e.start_dt.format("YYYY-MM-DD");return-1===i.indexOf(n)?(a=!0,i.push(n)):a=!1,g.a.createElement(Yn,{key:"event-"+t+"-"+e.id,event:e,showDetails:r.props.showDetails,showDayColumn:!0,isFirstEventInDay:a,oneToManyLayoutStripe:r.props.oneToManyLayoutStripe,isAgendaView:r.props.isAgendaView,readOnly:r.props.readOnly})})}},{key:"renderGroupingTitle",value:function(){if("week"===this.props.groupBy){var e=ue.a.get("box_layout.multi_day_first_day_moment"),t=j.a.translate("calendar","agenda_view.weekNumber",{weekNo:this.props.date.format("w:")}),n=this.props.date.clone().add(1,"week").subtract(12,"hours").startOf("day");return t+" "+this.props.date.format(e)+" - "+n.format(e)}if("month"===this.props.groupBy)return this.props.date.format(ue.a.get("full_month_year_moment"))}},{key:"render",value:function(){return"none"===this.props.groupBy?g.a.createElement("div",null,this.renderEvents()):g.a.createElement("div",null,g.a.createElement("div",{className:"agenda-list__agenda-day date-"+this.props.date.format("YYYY-MM-DD")},g.a.createElement("div",{className:"agenda-day__title"},g.a.createElement("strong",{className:"agenda-day__title-weekday"},this.renderGroupingTitle())),g.a.createElement("dl",{className:"agenda-day__agenda-events-list"},this.renderEvents())),g.a.createElement("hr",{className:"agenda-list__hr-divider"}))}}])&&$n(e.prototype,n),r&&$n(e,r),t}();function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ir=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=nr(this,rr(t).apply(this,arguments))).duplicateOneToManyEvents=function(e){var a=[];return e.forEach(function(r){ye.getVisibleSubcalendars(r).forEach(function(e,t){if(0===t)a.push(r);else{var n=V()(r);n.subcalendars=[e],a.push(n)}})}),a},e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(t,g.a.Component),e=t,(n=[{key:"renderUnGroupedEvents",value:function(e){var r=this,a=!0,i=[],o=[];return e.forEach(function(e,t){var n=e.start_dt.format("DD-MM-YYYY");-1===i.indexOf(n)?(a=!0,i.push(n)):a=!1,o.push(g.a.createElement(Yn,{key:"event-"+t+"-"+e.id,event:e,showDetails:r.props.showDetails,showDayColumn:!0,isFirstEventInDay:a,oneToManyLayoutStripe:r.props.oneToManyLayoutStripe,isAgendaView:r.props.isAgendaView,readOnly:r.props.readOnly}))}),o}},{key:"render",value:function(){var r=this,a=[];if("none"===this.props.groupBySelectValue){var e=this.props.events;e=V()(e).sort(function(e,t){return ye.sortEventsForDay(e,t,!r.props.isAgendaView)}),a=this.renderUnGroupedEvents(this.props.oneToManyLayoutStripe?e:this.duplicateOneToManyEvents(e))}else{var i,o=this.props.events;i="day"===this.props.groupBySelectValue?Kn:Xn,Object.keys(o).forEach(function(e){var t=o[e];if(0<t.length){var n={key:e,date:T()(e),events:V()(t).sort(function(e,t){return ye.sortEventsForDay(e,t,!r.props.isAgendaView)}),showDetails:r.props.showDetails,oneToManyLayoutStripe:r.props.oneToManyLayoutStripe,groupBy:r.props.groupBySelectValue,isAgendaView:r.props.isAgendaView,readOnly:r.props.readOnly};a.push(g.a.createElement(i,n))}})}return g.a.createElement("div",{className:"agenda-view__body"},g.a.createElement("div",{className:"agenda-view__agenda-list"},"none"===this.props.groupBySelectValue?g.a.createElement("dl",{className:"agenda-day__agenda-events-list"},a):a,0<a.length?null:g.a.createElement(We.a,{component:"div",className:"no-results",message:"agenda_view.noEventsText"})),0<this.props.pageLinks.length?g.a.createElement("div",{className:"agenda-list__pagination-wrapper"},this.props.pageLinks):null)}}])&&tr(e.prototype,n),r&&tr(e,r),t}();function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t){return(cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dr=function(){function e(){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=lr(this,ur(e).apply(this,arguments))).handleCalendarStateUpdate=function(e){var t={};e.datetime.currentDate.isSame(n.state.currentDate)&&D()(e.datetime.dateRange,n.state.dateRange)||(t.currentDate=e.datetime.currentDate,t.dateRange=e.datetime.dateRange),e.datetime.viewStartDate.isSame(n.state.viewStartDate)&&e.datetime.viewEndDate.isSame(n.state.viewEndDate)||(t.viewStartDate=e.datetime.viewStartDate,t.viewEndDate=e.datetime.viewEndDate),e.datetime.visibleStartDate.isSame(n.state.visibleStartDate)&&e.datetime.visibleEndDate.isSame(n.state.visibleEndDate)||(t.visibleStartDate=e.datetime.visibleStartDate,t.visibleEndDate=e.datetime.visibleEndDate),e.views.current!==n.state.currentView&&(t.currentView=e.views.current),e.grid.resolution!==n.state.grid.resolution&&(t.grid=V()(e.grid)),e.datetime.hideWeekend!==n.state.hideWeekend&&(t.hideWeekend=e.datetime.hideWeekend),n.setState(t)},n.handleEventsUpdate=function(e){n.updateEvents(e.events)},n}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}(e,g.a.Component),t=e,(n=[{key:"initAbstractState",value:function(){return{readOnly:re.getState().authentication.readOnly,currentDate:re.getState().datetime.currentDate,dateRange:re.getState().datetime.dateRange,viewStartDate:re.getState().datetime.viewStartDate,viewEndDate:re.getState().datetime.viewEndDate,visibleStartDate:re.getState().datetime.visibleStartDate,visibleEndDate:re.getState().datetime.visibleEndDate,currentView:re.getState().views.current,grid:V()(re.getState().grid),hideWeekend:re.getState().datetime.hideWeekend,weekStart:re.getState().datetime.weekStart,oneToManyLayoutStripe:"striped"===re.getState().oneToMany.layout,startHour:re.getState().datetime.startHour,endHour:re.getState().datetime.endHour,isPdf:re.getState().views.isPdf,formatPdfEco:re.getState().views.formatPdfEco,showCurrentTime:re.getState().datetime.showCurrentTime}}},{key:"componentDidMount",value:function(){Ue.listen(this.handleEventsUpdate),re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){Ue.unlisten(this.handleEventsUpdate),re.unlisten(this.handleCalendarStateUpdate)}}])&&sr(t.prototype,n),r&&sr(t,r),e}();function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yr=function(){function o(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=hr(this,mr(o).call(this,e))).onRangeClick=function(e){y.setViewSetting(r.props.isAgendaView?"agenda":"list","dateRange",e.currentTarget.value),r.setState({selectValue:e.currentTarget.value})},r.showDetailsChangeHandler=function(e){y.setViewSetting(r.props.isAgendaView?"agenda":"list","showDetails",!!e.currentTarget.checked),r.setState({showDetails:e.currentTarget.checked})},r.setGrouping=function(e){var t,n=e.currentTarget.value;y.setViewSetting(r.props.isAgendaView?"agenda":"list","groupBy",e.currentTarget.value),t=ye.splitEventsByListGrouping(Ue.getState().events,r.state.viewStartDate,r.state.viewEndDate,n,r.state.oneToManyLayoutStripe,r.state.showEventsInEveryPeriod),r.setState({groupBySelectValue:n,events:t})};var t,n,a,i=r.initAbstractState();return a=(n=r.props.isAgendaView?(t=re.getState().views.agenda,"day"):(t=re.getState().views.list).groupBy,!0),r.state=Object.assign(i,{selectValue:t.dateRange,groupBySelectValue:n,events:ye.splitEventsByListGrouping(Ue.getState().events,i.viewStartDate,i.viewEndDate,n,i.oneToManyLayoutStripe,a),showEventsInEveryPeriod:a,showDetails:!!t.showDetails,subcalendars:N.a.getState().resources,showAgendaHeader:void 0===t.showAgendaHeader||t.showAgendaHeader}),r}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(o,dr),e=o,(t=[{key:"updateEvents",value:function(e){this.setState({events:ye.splitEventsByListGrouping(e,this.state.viewStartDate,this.state.viewEndDate,this.state.groupBySelectValue,this.state.oneToManyLayoutStripe,this.state.showEventsInEveryPeriod)})}},{key:"renderHeader",value:function(){return this.props.isAgendaView?g.a.createElement(vn,{readOnly:this.state.readOnly,dateRangeChangedHandler:this.onRangeClick,rangeSelectValue:this.state.selectValue,showDetails:this.state.showDetails,showDetailsChangeHandler:this.showDetailsChangeHandler}):g.a.createElement(vn,{readOnly:this.state.readOnly,dateRangeChangedHandler:this.onRangeClick,rangeSelectValue:this.state.selectValue,groupBySelectValue:this.state.groupBySelectValue,groupByChangeHandler:this.setGrouping,showDetails:this.state.showDetails,showDetailsChangeHandler:this.showDetailsChangeHandler})}},{key:"render",value:function(){return g.a.createElement("div",{className:"agenda-view "+(this.props.isAgendaView?"":"list-view")},this.state.showAgendaHeader&&this.renderHeader(),g.a.createElement(ir,{events:this.state.events,subcalendars:this.state.subcalendars,groupBySelectValue:this.state.groupBySelectValue,showDetails:this.state.showDetails,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,isAgendaView:this.props.isAgendaView,readOnly:this.state.readOnly,pageLinks:[g.a.createElement(We.a,{component:"a",key:"prev",onClick:y.prevDateRange,className:"previous-link",section:"calendar",message:"agenda_view.prevLinkText"}),g.a.createElement("span",{key:"sep"},"|"),g.a.createElement(We.a,{component:"a",key:"next",onClick:y.nextDateRange,className:"next-link",section:"calendar",message:"agenda_view.nextLinkText"})]}))}}])&&pr(e.prototype,t),n&&pr(e,n),o}();yr.defaultProps={isAgendaView:!0};var gr=yr;function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kr=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_r(this,Er(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){return g.a.createElement(gr,Object.assign({isAgendaView:!1},this.props))}}])&&wr(t.prototype,n),r&&wr(t,r),e}();function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cr=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}var e,t,r;return e=n,r=[{key:"getStartDateByMonth",value:function(e,t,n){var r,a=e.clone().startOf("month");return a.add(n,"months"),(r=a.day()-t)<0&&(r+=7),a.add(-r,"days")}},{key:"getVisibleStartDateByMonth",value:function(e,t){var n=e.clone();return n.add(t,"months"),n.startOf("month")}},{key:"getVisibleEndDateByMonth",value:function(e,t){return n.getVisibleStartDateByMonth(e,t).endOf("month")}}],(t=null)&&Or(e.prototype,t),r&&Or(e,r),n}();function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Pr(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var n=[g.a.createElement("div",{className:"header-gutter",key:this.props.cells.length,style:{width:this.props.leftGutterWidth}},this.props.gutterExtra)];return this.props.cells.forEach(function(e,t){n.push(g.a.createElement("div",{className:"week-day"+(e.color?" cal-bg-"+e.color:" no-color"),key:t,title:e.label},g.a.createElement("span",null,e.label)))}),g.a.createElement("div",{className:"grid-header-wrapper"},g.a.createElement("div",{className:"grid-header"},n))}}])&&Tr(e.prototype,n),r&&Tr(e,r),t}(),Nr="event",Ar="event_drag_time_handle",Lr="cell",Rr="time_cell";function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fr=function(){function D(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D)}var e,t,n;return e=D,n=[{key:"getElementUnderPointByClass",value:function(e,t,n){return"js-dnd-time-grid-column"!==n&&"day"!==n||console.error("WARNING: This function should not be called with js-dnd-time-grid-column or day as those have pointer-events disabled, see docblock"),D.elementAtLocation(e,t,n)}},{key:"getGridColumnUnderPoint",value:function(e,t,n){for(var r=document.querySelectorAll(n),a=0;a<r.length;a++){var i=r[a].getBoundingClientRect();if(i.left<=e&&i.right>e&&i.top<=t&&i.bottom>t)return r[a]}}},{key:"getChangeSet",value:function(e,t,n,r){var a,i,o,s,l,u=3<arguments.length&&void 0!==r&&r,c=n.clientOffset,d=document.querySelector(".time-grid"),f={valid:!1,error:"out_of_bounds",fields:{}},p=re.getState(),h="scheduler"===p.views.current,m="timeline"===p.views.current;if(m&&n&&n.item.eventDiv&&!u&&!e.all_day){var v=n.initialClientOffset.x-n.item.eventDiv.getBoundingClientRect().left;c.x=n.clientOffset.x-v}if(d&&(s=D.getGridColumnUnderPoint(c.x,c.y,".js-dnd-time-grid-column"))){var y=s.getBoundingClientRect(),g=c.y-t;if(g=Math.max(Math.min(g,y.bottom),y.top),o=D.getElementUnderPointByClass(c.x,g,"js-dnd-time-grid-row")){var b=o.getAttribute("data-date");b&&(a=T()(b))}}if(d&&s&&a){var w=T()(s.getAttribute("data-date"));s.getAttribute("data-date")||(w=T()(o.getAttribute("data-date"))),a.year(w.year()).month(w.month()).date(w.date());var _=!(m&&"days"===p.timelineView.minorGrid.resolution),E=ye.getEventDatesForDate(e,a,_);f.fields.start_dt=E.start_dt,f.fields.end_dt=E.end_dt,f.valid=!0,f.error=void 0,e.all_day&&!m&&(f.fields.all_day=!1,f.fields.end_dt=E.start_dt.clone().add(1,"hour"))}else{var S;if(o=s=void 0,i=D.getElementUnderPointByClass(c.x,c.y,"js-dnd-grid-cell")){S=T()(i.getAttribute("data-date"));var k=!1;(d&&!e.all_day||m&&"days"!==p.timelineView.minorGrid.resolution)&&(f.fields.all_day=!0,S.startOf("day"),k=!0);var O=ye.getEventDatesForDate(e,S,k);f.fields.start_dt=O.start_dt,f.fields.end_dt=O.end_dt,f.valid=!0,f.error=void 0}}if((h||m)&&(s||i)){var C=s||i;l=N.a.findById(parseInt(C.getAttribute("data-subcalendar-id"))),e.readonly&&"move"==n.dropResult&&(f.valid=!1,f.error="event_readonly"),l&&e.subcalendars[0].id!==l.id&&(f.fields.subcalendars=[l],f.fields.subcalendar_ids=[l.id],f.fields.subcalendar_id=l.id),f.fields.subcalendars&&f.fields.subcalendars[0].readonly&&(f.valid=!1,f.error="readonly"),1<e.subcalendar_ids.length&&f.fields.subcalendar_ids&&(f.valid=!1,f.error="multi_calendar_event_can_not_move"),f.fields.subcalendars&&i&&e.all_day&&(f.fields.start_dt=void 0,f.fields.end_dt=void 0)}return f.hoveredGridCell=i,f.hoveredTimeColumn=s,f.hoveredTimeRow=o,!0===f.valid&&e.rrule&&(f.fields.redit="single"),f}},{key:"getChangeSetForTimeRange",value:function(e,t,n){var r,a,i,o=re.getState(),s="timeline"===o.views.current,l=D.getElementUnderPointByClass(e.x,e.y,"js-dnd-time-grid-row"),u=D.getGridColumnUnderPoint(e.x,e.y,".js-dnd-time-grid-column");if(!t||!l||!u)return{valid:!1,error:"out_of_bounds",fields:{}};var c=T()(t.getAttribute("data-date")),d=T()(l.getAttribute("data-date")),f=T()(u.getAttribute("data-date"));if(a=f.clone().set("hours",c.get("hour")).set("minute",c.get("minute")).set("second",c.get("second")),i=f.set("hours",d.get("hour")).set("minute",d.get("minute")).set("second",d.get("second")),s&&(a=T()(t.getAttribute("data-date")).clone().set("hours",c.get("hour")).set("minute",c.get("minute")).set("second",c.get("second")),i=T()(l.getAttribute("data-date")).set("hours",d.get("hour")).set("minute",d.get("minute")).set("second",d.get("second"))),a.isAfter(i)){var p=[i,a,l,t];a=p[0],i=p[1],t=p[2],l=p[3],s&&"hours"===o.timelineView.minorGrid.resolution&&i.add(o.grid.resolution,"minutes")}else i.minutes(i.minutes()+n);if(r={start_dt:a,end_dt:i},u.hasAttribute("data-subcalendar-id")){var h=N.a.findById(parseInt(u.getAttribute("data-subcalendar-id")));r.subcalendar_id=h.id}return{fields:r,valid:!0,hoveredTimeColumn:u,hoveredTimeRow:t,hoveredEndTimeRow:l}}},{key:"getShiftEventTimeChangeSet",value:function(e,t,n,r){var a=D.getElementUnderPointByClass(t.x,t.y,"js-dnd-time-grid-row"),i=D.getGridColumnUnderPoint(n.x,n.y,".js-dnd-time-grid-column"),o="timeline"===re.getState().views.current;if(!i||!a)return{valid:!1,error:"out_of_bounds",fields:{}};var s=o?T()(a.getAttribute("data-date")):T()(i.getAttribute("data-date")),l=T()(a.getAttribute("data-date"));s.set("hours",l.get("hour")).set("minute",l.get("minute")).set("second",l.get("second")),s&&s.isSameOrAfter(e.start_dt)&&s.add(r,"minutes");var u={fields:{start_dt:e.start_dt.clone()},valid:!0};return s.isSameOrAfter(e.start_dt)?u.fields.end_dt=s:(u.fields.end_dt=u.fields.start_dt,u.fields.start_dt=s),u.hoveredTimeColumn=i,u.hoveredTimeRow=a,e.rrule&&(u.fields.redit="single"),u}},{key:"elementAtLocation",value:function(e,t,n){if(void 0!==document.elementsFromPoint)return document.elementsFromPoint(e,t).find(function(e){return e.classList.contains(n)&&e.hasAttribute("data-date")});var r,a,i=[],o=15;do{if(!(r=document.elementFromPoint(e,t)))break;if(r.classList.contains(n)&&r.hasAttribute("data-date")){a=r;break}if(i.push(r),r.style.pointerEvents="none",!o--)break}while("HTML"!==r.tagName&&-1===r.className.indexOf("calendar-body-content"));for(var s=0;s<i.length;s+=1)i[s].style.pointerEvents="";return a}},{key:"getGridMap",value:function(){var e,t,n=[],r=0,a=document.querySelectorAll(".grid-view > .body > .rows > .row");if(0<a.length)for(e=0;e<a.length;e++){var i=a[e],o=i.getBoundingClientRect(),s=[];for(t=0;t<i.childNodes[1].childNodes.length;t++){var l=i.childNodes[1].childNodes[t];l.classList.contains("day-title")&&s.push({date:l.getAttribute("data-date"),rect:l.getBoundingClientRect()})}n.push({startsAt:r,endsAt:r+o.height,rect:o,cells:s}),r+=o.height}return n}}],(t=null)&&Ir(e.prototype,t),n&&Ir(e,n),D}();function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wr=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yr(this,Hr(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(e,l["a"]),t=e,(n=[{key:"updateDrag",value:function(e){this.dispatch(e)}},{key:"abortDrag",value:function(){this.dispatch()}}])&&Ur(t.prototype,n),r&&Ur(t,r),e}(),zr=o.a.createActions(Wr);function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qr=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);function Zr(a,i,o){return function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=qr(this,$r(t).call(this,e))).isCopy=!1,n.item=void 0,n.ref=null,n.isAborted=!1,n.dragTimeout=null,n.handleMouseDown=function(e){if(!(1<arguments.length&&void 0!==arguments[1])||arguments[1]){if(n.initialClientOffset={x:e.clientX,y:e.clientY},n.clientOffset=n.initialClientOffset,n.isAborted=!1,i.canDrag&&!i.canDrag(n.props,n.initialClientOffset))return;n.initialHoveredTimeCol=e.target,e.stopPropagation(),document.addEventListener("mouseup",n.handleMouseUp),document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("keydown",n.handleKeyDown),document.addEventListener("keyup",n.handleKeyUp),n.dragTimeout=window.setTimeout(function(){n.dragTimeout=null,n.state.isDragging||(n.beginDrag(),n.move())},500)}},n.handleMouseUp=function(e){n.state.isDragging&&(e.preventDefault(),e.stopPropagation()),n.isAborted||n.endDrag(),document.removeEventListener("mouseup",n.handleMouseUp),setTimeout(function(){n.setState({isDragging:!1})},0)},n.handleMouseMove=function(e){if(n.clientOffset={x:e.clientX,y:e.clientY},n.isCopy=Qr?e.altKey:e.ctrlKey,!n.state.isDragging){if(Math.sqrt(Math.pow(n.clientOffset.x-n.initialClientOffset.x,2)+Math.pow(n.clientOffset.y-n.initialClientOffset.y,2))<8)return;n.beginDrag()}n.move()},n.handleKeyDown=function(e){if(27!==e.keyCode){var t=Qr?e.altKey:e.ctrlKey;t!==n.isCopy&&(n.isCopy=t,n.state.isDragging&&n.move())}else n.endDrag(!0)},n.handleKeyUp=function(e){var t=Qr?e.altKey:e.ctrlKey;t!==n.isCopy&&(n.isCopy=t,n.state.isDragging&&n.move())},n.beginDrag=function(){n.setState({isDragging:!0}),n.clearSelection(),document.body.style.cursor="move",document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.msUserSelect="none";var e=n.getMonitorData();n.item=i.beginDrag(n.props,e,n.ref)},n.move=function(){var e=n.getMonitorData(),t=i.drag(n.props,e,n.ref);t&&(n.item=Object.assign(n.item,t)),zr.updateDrag(e)},n.endDrag=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];n.dragTimeout&&clearTimeout(n.dragTimeout),document.body.style.cursor="",document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.msUserSelect="",document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("keydown",n.handleKeyDown),document.removeEventListener("keyup",n.handleKeyUp),n.clearSelection(),n.state.isDragging&&i.endDrag(e,n.props,n.getMonitorData(),n.ref),n.item=void 0,zr.abortDrag(),n.isAborted=!0},n.setRef=function(e){n.ref=e},n.state={isDragging:!1},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,g.a.Component),e=t,(n=[{key:"clearSelection",value:function(){var e,t,n,r;window.getSelection?(null===(e=window.getSelection())||void 0===e?void 0:e.empty)?null===(t=window.getSelection())||void 0===t||t.empty():(null===(n=window.getSelection())||void 0===n?void 0:n.removeAllRanges)&&(null===(r=window.getSelection())||void 0===r||r.removeAllRanges()):document.selection&&document.selection.empty()}},{key:"getMonitorData",value:function(){return{clientOffset:this.clientOffset,initialClientOffset:this.initialClientOffset,initialHoveredTimeCol:this.initialHoveredTimeCol,dropResult:this.isCopy?"copy":"move",item:this.item,itemType:o}}},{key:"render",value:function(){var e=Object.assign(V()(this.props),{onMouseDown:this.handleMouseDown,isDragging:this.state.isDragging,ref:this.setRef});return g.a.createElement(a,e)}}])&&Kr(e.prototype,n),r&&Kr(e,r),t}()}function Xr(e){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return!t||"object"!==Xr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aa=Zr(function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=ta(this,na(n).call(this,e))).childRef="",t.renderVerticalDragHandle=function(e){return g.a.createElement("div",{ref:function(e){t.childRef=e},style:e.style,className:"event-drag-handle-wrapper",onMouseDown:t.props.onMouseDown},g.a.createElement("div",{className:"event-drag-handle"}))},t.renderHorizontalDragHandles=function(e){return[g.a.createElement("div",{ref:function(e){t.childRef=e},style:e.style,className:"event-drag-handle-wrapper left",onMouseDown:t.props.onMouseDown,key:"left-handle"},g.a.createElement("div",{className:"event-drag-handle"})),g.a.createElement("div",{ref:function(e){t.childRef=e},style:e.style,className:"event-drag-handle-wrapper right",onMouseDown:t.props.onMouseDown,key:"right-handle"},g.a.createElement("div",{className:"event-drag-handle"}))]},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(n,g.a.Component),e=n,(t=[{key:"render",value:function(){var e={};return"timeline"===re.getState().views.current?this.renderHorizontalDragHandles(e):this.renderVerticalDragHandle(e)}}])&&ea(e.prototype,t),r&&ea(e,r),n}(),{beginDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");return r&&(n.childRef.classList.add("js-current-dragging-handle"),r.classList.add("js-event-dragging")),{event:e.event.event,eventDiv:n.childRef.parentElement.parentElement}},drag:function(e,t){var n=Fr.getShiftEventTimeChangeSet(e.event.event,t.clientOffset,t.initialClientOffset,re.getState().grid.resolution);return n.valid?document.body.style.cursor="ns-resize":document.body.style.cursor="not-allowed",{changeSet:n}},endDrag:function(e,t,n,r){re.getState().views.current;var a=Object.assign({},t.event.event),i=Fr.getShiftEventTimeChangeSet(a,n.clientOffset,n.initialClientOffset,re.getState().grid.resolution),o=document.querySelector(".calendar-body-content");o&&(r.childRef.classList.remove("js-current-dragging-handle"),o.classList.remove("js-event-dragging")),i&&i.valid&&!e&&(Object.keys(i.fields).forEach(function(e){void 0!==i.fields[e]&&(a[e]=i.fields[e])}),r.props.event.event.rrule&&"move"===n.dropResult?r.props.dragRecurEvent(a):Ce.updateEvent(a,"move"))}},Ar);function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sa(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ua(e,t){return(ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ca=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sa(this,la(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(e,l["a"]),t=e,(n=[{key:"init",value:function(e){this.dispatch(e.clone().startOf("day"))}},{key:"move",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:void 0;this.dispatch({toDate:e.clone().startOf("day"),event:n})}},{key:"setSubcalendarId",value:function(e){this.dispatch(e)}},{key:"clear",value:function(){this.dispatch()}}])&&oa(t.prototype,n),r&&oa(t,r),e}(),da=o.a.createActions(ca);function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ya=Zr(function(){function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,r=ha(a).call(this,e),(t=!r||"object"!==fa(r)&&"function"!=typeof r?ma(n):r).eventRef="",t.getContextMenuData=function(){return{event:t.props.event.event,component:ma(t)}},t.openEditor=function(){xe.a.openEventEditor({event_id:t.props.event.event.id})},t.renderTooltip=function(){return{component:g.a.createElement(Dn,{event:t.props.event.event,subcalendars:ye.getAllSubcalendars(t.props.event.event)})}},t.setAllowTooltip=function(e){t.setState({allowTooltip:e})},t.state={allowTooltip:!0},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(a,g.a.Component),e=a,(t=[{key:"renderStartTime",value:function(){var e=this.props.event,t=e.timegrid&&e.timegrid.date?e.timegrid.date:e.event.start_dt,n="time_moment";return 0==t.minutes()&&(n="short_time_moment"),e.event.all_day||"year"===this.props.view?"":g.a.createElement("span",{className:"start-time"},t.format(ue.a.get(n)))}},{key:"renderSignupFlagMarkup",value:function(){var e=this.props.event.event,t=re.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id});if((!t||t.active&&!t.hidden)&&void 0!==fa(e.signup_enabled)&&e.signup_enabled&&T()(e.signup_deadline).isAfter(T()())&&(void 0!==fa(e.signup_limit)||0==e.signup_limit)&&(e.signups&&(0==e.signup_limit||e.signups.length<e.signup_limit)||void 0!==fa(e.signup_count)&&(0==e.signup_limit||e.signup_count<e.signup_limit))){var n=this.props.formatPdfEco?"sprite-icon-flag-gray":"sprite-icon-flag-white";return g.a.createElement("i",{className:n,title:j.a.translate("calendar","event.signup.form.title")},"")}}},{key:"renderEventWithCommentsMarkup",value:function(){var e=re.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id});if(e&&(!e||e.active&&!e.hidden)){var t=this.props.event.event;if(void 0!==fa(t.comments_enabled)&&t.comments_enabled&&(t.comments&&0<t.comments.length||void 0!==fa(t.comments_count)&&0<t.comments_count)){var n=this.props.formatPdfEco?"sprite-icon-comment-gray":"sprite-icon-comment-white";return g.a.createElement("i",{className:n,title:j.a.translate("calendar","event.comments.title")},"")}}}},{key:"renderReadOnlyFlagMarkup",value:function(){if(this.props.event.event.readonly&&!this.props.readOnly){var e=this.props.formatPdfEco?"sprite-icon-lock":"sprite-icon-lock-white";return g.a.createElement("i",{className:e,title:j.a.translate("calendar","event.tooltip.readonly")},"")}}},{key:"renderRecurrenceFlagMarkup",value:function(){if(""!==this.props.event.event.rrule){var e=this.props.formatPdfEco?"sprite-icon-repeat":"sprite-icon-repeat-white";return g.a.createElement("i",{className:e,title:j.a.translate("calendar","agenda_view.recurringTooltip")},"")}}},{key:"renderMultipleCalendarsFlagMarkup",value:function(){if(this.props.event.event.subcalendar_ids&&1<this.props.event.event.subcalendar_ids.length){var e=this.props.formatPdfEco?"sprite-icon-onetomany":"sprite-icon-onetomany-white";return g.a.createElement("i",{className:e,title:j.a.translate("calendar","event.tooltip.multipleCals")},"")}}},{key:"computeClassName",value:function(){var e=this.props.event,t="event-block cal-bg-"+e.event.subcalendars[0].color+" teamup-event-id-"+e.event.id;return(e.readonly||this.props.readOnly)&&(t+=" event-readonly"),e.grid&&(t+=e.grid.spanLeft?e.grid.spanRight?" ev-spanboth":" ev-spanleft":e.grid.spanRight?" ev-spanright":""),t}},{key:"renderDragHandle",value:function(){return!this.props.event.event.readonly&&(this.props.resizable?g.a.createElement(aa,{event:this.props.event,dragRecurEvent:this.props.dragRecurEvent}):void 0)}},{key:"render",value:function(){var t=this,e="",n={},r=this.props.style,a={},i={};if(this.props.oneToManyLayoutStripe&&1<this.props.event.event.subcalendar_ids.length){var o="year"===this.props.view?8:30;i=_n.makeObliqueStripes(this.props.event.event,o,"scheduler"===this.props.view||"timeline"===this.props.view)}return"grid"===this.props.eventType?(n={className:"event",style:r},e=this.computeClassName(),a=i):n={className:"event ".concat(this.computeClassName()),style:Object.assign(Object.assign({},r),i)},n.className="".concat(n.className," ").concat(this.props.className),g.a.createElement("div",{ref:function(e){t.eventRef=e},style:n.style,className:n.className,onMouseDown:function(e){return t.props.onMouseDown(e)}},g.a.createElement(At.b,{id:"eventContextMenuReact",collect:this.getContextMenuData,holdToDisplay:-1},g.a.createElement(ct.a,{component:"a",id:"event-tooltip",onClick:this.props.isDragging?void 0:this.openEditor,collect:this.renderTooltip,className:e,style:a,disabled:this.props.isDragging||!this.state.allowTooltip},this.renderStartTime(),this.renderSignupFlagMarkup(),this.renderEventWithCommentsMarkup(),this.renderReadOnlyFlagMarkup(),this.renderRecurrenceFlagMarkup(),this.renderMultipleCalendarsFlagMarkup(),g.a.createElement("span",{className:"event-title",dangerouslySetInnerHTML:{__html:ye.renderEventTitle(this.props.event.event)}})),this.renderDragHandle()))}}])&&pa(e.prototype,t),n&&pa(e,n),a}(),{canDrag:function(e){return"scheduler"==e.view||!e.event.event.readonly},beginDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");return r&&(n.eventRef.classList.add("js-current-dragging-event"),r.classList.add("js-event-dragging")),{event:e.event.event,eventDiv:n.eventRef,eventYDiff:t.clientOffset.y-n.eventRef.getBoundingClientRect().top}},drag:function(e,t){var n=Fr.getChangeSet(e.event.event,t.item.eventYDiff,t);if(!n.valid)return da.clear(),document.body.style.cursor="not-allowed",{changeSet:n};if(n.hoveredGridCell)if("scheduler"===e.view)da.setSubcalendarId(n.fields.subcalendar_id||e.event.event.subcalendars[0].id);else{if(!n.fields.start_dt)throw new Error("changeSet missing start_dt when view is not scheduler");da.move(n.fields.start_dt,e.event.event)}else da.clear();return document.body.style.cursor=t.dropResult,{changeSet:n}},endDrag:function(e,t,n,r){da.clear();var a=document.querySelector(".calendar-body-content");if(a&&(r.eventRef.classList.remove("js-current-dragging-event"),a.classList.remove("js-event-dragging")),!e){var i=Fr.getChangeSet(t.event.event,n.item.eventYDiff,n,!0);if(i.valid){var o=Y()(t.event.event);re.getState().fields.definitions.forEach(function(e){if(!e.type.match(/^builtin_/)&&"choices"===e.type&&o.custom&&o.custom[e.id]){var t=ce.a.listToMap(e.type_data.options.map(function(e,t){return Object.assign({index:t},e)})),n=o.custom[e.id].filter(function(e){return t[e].hidden});o.custom[e.id]=o.custom[e.id].filter(function(e){return!n.includes(e)})}});var s=!1;Object.keys(i.fields).forEach(function(e){if(void 0!==i.fields[e]){var t=i.fields[e];T.a.isMoment(t)?o[e].format()!==t.format()&&(o[e]=t,s=!0):o[e]!==t&&(o[e]=t,s=!0)}}),s&&(r.props.event.event.rrule&&"move"===n.dropResult?r.props.dragRecurEvent(o):Ce.updateEvent(o,n.dropResult))}}}},Nr);function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wa(e,t){return!t||"object"!==ga(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sa=function(){function e(){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=wa(this,_a(e).call(this))).state={},r.handleMove=function(e){var t=e.toDate,n=e.event;if(n)r.state.startDate=t,r.state.endDate=t.clone().add(24*ue.a.diffDays(n.start_dt,n.end_dt)+12,"hours").startOf("day");else if(t.isBefore(r.state.dragStartDate)){if(r.state.startDate.isSame(t))return!1;r.state.startDate=t,r.state.endDate=r.state.dragStartDate}else{if(r.state.endDate&&r.state.endDate.isSame(t)&&r.state.dragStartDate&&r.state.dragStartDate.isSame(r.state.startDate))return!1;r.state.startDate=r.state.dragStartDate,r.state.endDate=t}},r.handleSetSubcalendarId=function(e){r.state.subcalendarId=e},r.bindActions({handleInit:da.init,handleMove:da.move,handleSetSubcalendarId:da.setSubcalendarId,handleClear:da.clear}),r}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(e,G["a"]),t=e,(n=[{key:"handleInit",value:function(e){this.state.dragStartDate=e,this.state.startDate=e,this.state.endDate=e}},{key:"handleClear",value:function(){this.state.startDate=void 0,this.state.endDate=void 0,this.state.dragStartDate=void 0,this.state.subcalendarId=void 0}}])&&ba(t.prototype,n),r&&ba(t,r),e}(),ka=o.a.createStore(Sa,"CellDragStore");n(554);function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pa(e,t){var n;return"string"==typeof e&&(n=t.format(e)),"function"==typeof e&&(n=e(t)),n}var ja=Zr(function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Da(this,Ta(n).call(this,e))).cellRef="",t.state={formattedDate:e.date.format("YYYY-MM-DDTHH:mm:ss")},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(n,g.a.Component),e=n,(t=[{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"drag dropzone js-dnd-time-grid-row "+this.props.css,"data-date":this.state.formattedDate,style:this.props.rawStyle,ref:function(e){t.cellRef=e},onMouseDown:this.props.onMouseDown,onClick:this.props.onClick})}}])&&Ca(e.prototype,t),r&&Ca(e,r),n}(),{canDrag:function(e,t){if(e.isSchedulerView){var n=Fr.getGridColumnUnderPoint(t.x,t.y,".js-dnd-time-grid-column");if(n)if(N.a.findById(parseInt(n.getAttribute("data-subcalendar-id"))).readonly)return!1}return!e.readOnly},beginDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");return r&&r.classList.add("js-event-dragging"),{initialRow:n.cellRef}},drag:function(e,t){var n=Fr.getChangeSetForTimeRange(t.clientOffset,t.item.initialRow,re.getState().grid.resolution);return n.valid?document.body.style.cursor="copy":document.body.style.cursor="not-allowed",{changeSet:n}},endDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");if(r&&r.classList.remove("js-event-dragging"),!e){var a=Fr.getChangeSetForTimeRange(n.clientOffset,n.item.initialRow,re.getState().grid.resolution);a.valid&&xe.a.openEventEditor({start_dt:a.fields.start_dt.format("YYYY-MM-DD HH:mm:ss"),end_dt:a.fields.end_dt.format("YYYY-MM-DD HH:mm:ss"),all_day:!1,subcalendars:a.fields.subcalendar_id})}}},Rr);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fa=function(){function n(e){var l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(l=La(this,Ra(n).call(this,e))).shallowCompare=function(t,n){return Object.keys(t).concat(Object.keys(n)).every(function(e){return t[e]===n[e]})},l.handleResourceChange=function(e){l.setState({subcalendars:e.visibleResources})},l.onRowOrColClick=function(e){if(e.preventDefault(),!l.props.readOnly){var t,n;if(e.target.classList.contains("js-dnd-time-grid-column"))t=Fr.getGridColumnUnderPoint(e.clientX,e.clientY,".js-dnd-time-grid-row"),n=e.target;else{if(!e.target.classList.contains("js-dnd-time-grid-row"))return;n=Fr.getGridColumnUnderPoint(e.clientX,e.clientY,".js-dnd-time-grid-column"),t=e.target}if(n&&t){var r=T()(t.getAttribute("data-date")),a=T()(t.getAttribute("data-date"));r.year(a.year()).month(a.month()).date(a.date());var i=N.a.findById(parseInt(n.getAttribute("data-subcalendar-id")));i.readonly||xe.a.openEventEditor({subcalendar_ids:[i.id],start_dt:r.format("YYYY-MM-DD HH:mm:ss")})}}},l.renderHoursGrid=function(){var e=[],t=l.props.showLabel?"minor-grid__cell":"minor-grid__cell no-label",n=re.getState();if("multi-day"===l.props.timelineView.id||"week"===l.props.timelineView.id){var r=6===l.props.date.day()||0===l.props.date.day(),a=l.props.date.isSame(new Date,"day");t=r?"".concat(t," weekend"):t,t=a?"".concat(t," today"):t}var i=l.props.timelineView.cellWidth&&"major-drag"===l.props.timelineView.cellWidth.grid?{width:"".concat(l.props.timelineView.cellWidth.minZoom*Math.pow(l.props.timelineView.cellWidth.zoomStep,l.props.timelineView.cellWidth.zoomLevel-1),"px")}:{width:"100%"};i=l.props.timelineView.fitWindow?Object.assign(Object.assign({},i),{width:"100%"}):i;for(var o=l.props.timelineView.minorDragGrid?60/l.props.timelineView.minorDragGrid:0,s=l.state.startHour;s<l.state.endHour;s++)e.push(T()("".concat(s,":00"),"HH:mm"));return e.map(function(r){var a=0;return g.a.createElement("div",{className:t,style:i,key:"".concat(r)},l.props.showLabel?Pa(n.minorGridLabel||"",r):"",!l.props.showLabel&&Na(Array(o)).map(function(e,t){var n=l.props.currentDate.set({h:+r.format("HH"),m:a}).format("YYYY-MM-DDTHH:mm:ss");return a+=60/o,g.a.createElement(ja,{onClick:l.onRowOrColClick,css:"minor-drag",rawStyle:{},key:n,date:T()(n),isSchedulerView:!0,readOnly:l.props.readOnly})}))})},l.renderDaysGrid=function(){var e=l.props.showLabel?"minor-grid__cell":"minor-grid__cell no-label",t=re.getState();if("multi-week"===l.props.timelineView.id){var n=6===l.props.date.day()||0===l.props.date.day(),r=l.props.date.isSame(new Date,"day");e="".concat(e," multi-week-label"),e=n?"".concat(e," weekend"):e,e=r?"".concat(e," today"):e}var a=l.props.timelineView.cellWidth&&"major-drag"===l.props.timelineView.cellWidth.grid?{width:"".concat(l.props.timelineView.cellWidth.minZoom*Math.pow(l.props.timelineView.cellWidth.zoomStep,l.props.timelineView.cellWidth.zoomLevel-1),"px")}:{width:"100%"};return a=l.props.timelineView.fitWindow?Object.assign(Object.assign({},a),{width:"100%"}):a,g.a.createElement("div",{className:e,style:a},l.props.showLabel?Pa(t.minorGridLabel||"",l.props.currentDate):"",!l.props.showLabel&&g.a.createElement(ja,{onClick:l.onRowOrColClick,css:"minor-drag",rawStyle:{},key:"".concat(l.props.currentDate),date:l.props.currentDate,isSchedulerView:!0,readOnly:l.props.readOnly}))},l.renderWeeksGrid=function(){for(var e=[],t=l.props.showLabel?"minor-grid__cell":"minor-grid__cell no-label",n=T()(l.props.startDate);n.diff(l.props.endDate)<=0;n.add(1,"weeks"))e.push(g.a.createElement("div",{className:t},l.props.showLabel?n.format("ww"):""));return e};var t=re.getState();return l.state={subcalendars:N.a.getState().visibleResources,startHour:t.datetime.startHour,endHour:t.datetime.endHour,viewStartDate:t.datetime.viewStartDate,visibleStartDate:t.datetime.visibleStartDate,viewEndDate:t.datetime.viewEndDate,visibleEndDate:t.datetime.visibleEndDate,minorGridlabelFormat:"HH:mm",majorGridlabelFormat:"",cellWidth:0},l}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(n,g.a.Component),e=n,(t=[{key:"shouldComponentUpdate",value:function(e,t){var n=this.shallowCompare(e,this.props),r=this.shallowCompare(t,this.state);return!n||!r}},{key:"componentDidMount",value:function(){N.a.listen(this.handleResourceChange)}},{key:"componentWillUnmount",value:function(){N.a.unlisten(this.handleResourceChange)}},{key:"render",value:function(){var e=this.props.timelineView.fitWindow?{position:"absolute"}:{},t=this.props.showLabel?"minor-grid header":"minor-grid";return g.a.createElement("div",{className:t,style:e},"hours"===this.props.resolution&&this.renderHoursGrid(),"days"===this.props.resolution&&this.renderDaysGrid(),"weeks"===this.props.resolution&&this.renderDaysGrid())}}])&&Aa(e.prototype,t),r&&Aa(e,r),n}();function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t&&Ya(e.prototype,t),n&&Ya(e,n),e}function Ba(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}function Ga(e,t){return(Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ka=function(){function t(e){var r;return Ua(this,t),(r=Ba(this,Wa(t).call(this,e))).handleDragUpdate=function(e){if(r.props.subcalendarId&&e.subcalendarId!==r.state.hoverSubcalendarId)r.setState({hoverSubcalendarId:e.subcalendarId});else{var t;if(e.startDate&&e.endDate){var n=r.props.date;t=n.isSameOrAfter(e.startDate)&&n.isSameOrBefore(e.endDate)}else t=!1;r.state.isInHoverRange!==t&&r.setState({isInHoverRange:t})}},r.handleDayClick=function(e){e.preventDefault(),r.props.readOnly||xe.a.openEventEditor(Object.assign({start_dt:r.props.date.format("YYYY-MM-DD")},r.props.data||{}))},r.handleDayNumberClick=function(e){e.preventDefault(),y.setView("day",r.props.date),e.stopPropagation()},r.renderViewCell=function(e){return g.a.createElement("span",{className:"day-title-text",id:"day-"+r.props.date.format("YYYY-MM-DD"),onClick:r.props.isDragging?void 0:r.handleDayNumberClick},r.props.title)},r.renderTimelineViewCell=function(){return g.a.createElement("div",{className:"day-title-text",id:"day-"+r.props.date.format("YYYY-MM-DD")},r.props.timelineView&&"hours"===r.props.timelineView.minorGrid.resolution&&g.a.createElement("span",{className:"day-title-text__wrapper"},r.props.title),"timeline"===r.props.currentView&&g.a.createElement(Fa,{date:r.props.date,readOnly:!0,currentDate:r.props.date,resolution:r.props.timelineView.minorGrid.resolution,startDate:r.props.rowStartDate,endDate:r.props.rowEndDate,numberOfVirtualRows:r.props.numberOfVirtualRows,showLabel:!0,subcalendarId:r.props.subcalendarId,timelineView:r.props.timelineView}))},r.state={isInHoverRange:!1,hoverSubcalendarId:void 0},r}return za(t,g.a.Component),Ha(t,[{key:"componentDidMount",value:function(){ka.listen(this.handleDragUpdate)}},{key:"componentWillUnmount",value:function(){ka.unlisten(this.handleDragUpdate)}},{key:"renderDisabledCell",value:function(){var e="timeline"===this.props.currentView?{minWidth:"".concat(this.props.timelineView.cellWidth.minZoom*Math.pow(this.props.timelineView.cellWidth.zoomStep,this.props.timelineView.cellWidth.zoomLevel-1),"px")}:{},t="timeline"===this.props.currentView&&this.props.timelineView.majorGrid.labelFormat||"YYYY-MM-DD";return g.a.createElement("div",{className:"day-title day-disabled",onClick:this.props.isDragging&&"timeline"!==this.props.currentView?void 0:this.handleDayClick,style:e},g.a.createElement("span",{className:"day-title-text",id:"day-"+this.props.date.format(t)}))}},{key:"render",value:function(){if(1==this.props.disabled)return this.renderDisabledCell();var e,t=6==this.props.date.day()||0==this.props.date.day(),n=this.props.date.isSame(T()(),"day")&&!this.props.isPdf?"day-today":t?"day-weekend":"";null!==this.props.extraCls&&(n=this.props.extraCls),e=this.props.subcalendarId?!(!this.state.hoverSubcalendarId||this.state.hoverSubcalendarId!=this.props.subcalendarId):this.state.isInHoverRange;var r=re.getState().datetime,a=r.startHour,i=r.endHour,o="timeline"===this.props.currentView&&this.props.timelineView?{width:"".concat(this.props.timelineView.cellWidth.minZoom*Math.pow(this.props.timelineView.cellWidth.zoomStep,this.props.timelineView.cellWidth.zoomLevel-1)*(i-a),"px")}:{};return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"day-title "+n+" dropzone js-dnd-grid-cell","data-date":this.props.date.format("YYYY-MM-DD 12:00:00"),"data-subcalendar-id":this.props.subcalendarId,onClick:this.props.isDragging&&"timeline"!==this.props.currentView?void 0:this.handleDayClick,onMouseDown:this.props.onMouseDown,style:o},"timeline"===this.props.currentView?this.renderTimelineViewCell():this.renderViewCell(e),e&&!this.props.readOnly&&g.a.createElement("div",{className:"cell-drag-highlight"})))}}]),t}();Ka.defaultProps={extraCls:null};var qa=Zr(Ka,{canDrag:function(e){return 0==e.readOnly},beginDrag:function(e){da.init(e.date);var t=document.querySelector(".calendar-body-content");return t&&t.classList.add("js-cell-dragging"),{valid:!0}},drag:function(e,t){var n=Fr.getElementUnderPointByClass(t.clientOffset.x,t.clientOffset.y,"js-dnd-grid-cell");if(!n)return da.clear(),{valid:!(document.body.style.cursor="not-allowed")};var r=T()(n.getAttribute("data-date"));return ka.getState().dragStartDate||da.init(e.date),da.move(r),e.subcalendarId&&da.setSubcalendarId(e.subcalendarId),document.body.style.cursor="copy",{valid:!0}},endDrag:function(e,t,n){da.clear();var r=document.querySelector(".calendar-body-content");if(r&&r.classList.remove("js-cell-dragging"),!e){var a=Fr.getElementUnderPointByClass(n.clientOffset.x,n.clientOffset.y,"js-dnd-grid-cell");if(a){var i=T()(a.getAttribute("data-date")),o=t.date;i.isBefore(o)&&(o=i,i=t.date);var s={start_dt:o.format("YYYY-MM-DD"),end_dt:i.format("YYYY-MM-DD")};t.subcalendarId&&(s.subcalendars=[t.subcalendarId]),xe.a.openEventEditor(s)}}}},Lr),$a=function(){function e(){var t;return Ua(this,e),(t=Ba(this,Wa(e).apply(this,arguments))).handleCalendarStateUpdate=function(e){t.setState({timelineView:e.timelineView})},t}return za(e,g.a.Component),Ha(e,[{key:"componentDidMount",value:function(){re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleCalendarStateUpdate)}},{key:"getCellDateFormat",value:function(){var e=this.props.view;if("timeline"===e){if("days"===this.props.timelineView.majorGrid.resolution)return this.props.cellDate.isSame(this.props.visibleStartDate,"day")?ue.a.get("box_layout.multi_day_first_day_moment"):ue.a.get("box_layout.first_week_date_moment");if("weeks"===this.props.timelineView.majorGrid.resolution)return"ww";if("months"===this.props.timelineView.majorGrid.resolution)return"MMMM"}return"year"===e?"D":"scheduler"===e?"ddd DD":-1!==["day","multiday","week"].indexOf(e)?this.props.cellDate.isSame(this.props.visibleStartDate,"day")?ue.a.get("box_layout.multi_day_first_day_moment"):ue.a.get("box_layout.first_week_date_moment"):this.props.cellDate.isSame(this.props.visibleStartDate,"day")?ue.a.get("box_layout.multi_day_first_day_moment"):"1"==this.props.cellDate.format("D")?ue.a.get("box_layout.multi_day_month_start_moment"):"D"}},{key:"isReadOnly",value:function(){if(this.props.readOnly)return!0;if(this.props.subcalendarId){var e=N.a.findById(this.props.subcalendarId);if(e)return e.readonly}return!1}},{key:"render",value:function(){var e=this.props.showDate?this.props.cellDate.format(this.getCellDateFormat()):"",t=null;"month"!==this.props.view||this.props.cellDate.isSame(this.props.currentDate,"month")||(t=" day-"+(this.props.cellDate.isBefore(this.props.currentDate)?"prev":"next")+"-month");var n={date:this.props.cellDate,data:this.props.data,title:e,extraCls:t,disabled:this.props.disabled,subcalendarId:this.props.subcalendarId,readOnly:this.isReadOnly(),isPdf:this.props.isPdf,rowStartDate:this.props.rowStartDate,rowEndDate:this.props.rowEndDate,numberOfVirtualRows:this.props.numberOfVirtualRows,currentView:this.props.currentView,timelineView:this.props.timelineView};return g.a.createElement(qa,Object.assign({},n))}}]),e}();$a.defaultProps={};var Ja=$a;function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ni=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Xa(this,ei(n).call(this,e))).handleKeyDown=function(e){38==e.keyCode&&t.selectOption(-1),40==e.keyCode&&t.selectOption(1)},t.handleSelect=function(e){t.setState({reditMode:e.currentTarget.getAttribute("data-type")},function(){t.props.onPick(t.state.reditMode)})},t.handleTab=function(e){return e.shiftKey||e.metaKey?(t.selectOption(-1),!1):"all"!==t.state.reditMode?(t.selectOption(1),!1):void t.setState({reditMode:void 0})},t.handleEnter=function(){t.state.reditMode&&t.props.onPick(t.state.reditMode)},t.state={reditMode:void 0},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"selectOption",value:function(e){var t,n=["single","future","all"];e<0?this.state.reditMode?"single"!==this.state.reditMode&&(t=n.indexOf(this.state.reditMode)-1):t=2:0<e&&(this.state.reditMode?"all"!==this.state.reditMode&&(t=n.indexOf(this.state.reditMode)+1):t=0),void 0!==t&&this.setState({reditMode:n[t]})}},{key:"render",value:function(){return g.a.createElement(Xt.a,{title:"calendar:recurrence.range.title",message:"calendar:recurrence.range.headerText",noText:"core_js:cancel",onEnter:this.handleEnter,onNo:this.props.onCancel,onTab:this.handleTab},g.a.createElement("div",{className:"recurrence-edit-modes"},g.a.createElement("a",{className:"recurrence-edit-mode"+("single"==this.state.reditMode?" selected":""),onClick:this.handleSelect,"data-type":"single"},g.a.createElement("i",{className:"sprite-event-rec-single"}),g.a.createElement(We.a,{component:"span",className:"label",message:"calendar:recurrence.range.optionSingleButtonText"}),g.a.createElement(We.a,{component:"p",message:"calendar:recurrence.range.optionSingleDescription"})),g.a.createElement("a",{className:"recurrence-edit-mode"+("future"==this.state.reditMode?" selected":""),onClick:this.handleSelect,"data-type":"future"},g.a.createElement("i",{className:"sprite-event-rec-future"}),g.a.createElement(We.a,{component:"span",className:"label",message:"calendar:recurrence.range.optionFutureButtonText"}),g.a.createElement(We.a,{component:"p",message:"calendar:recurrence.range.optionFutureDescription"})),g.a.createElement("a",{className:"recurrence-edit-mode"+("all"==this.state.reditMode?" selected":""),onClick:this.handleSelect,"data-type":"all"},g.a.createElement("i",{className:"sprite-event-rec-all"}),g.a.createElement(We.a,{component:"span",className:"label",message:"calendar:recurrence.range.optionAllButtonText"}),g.a.createElement(We.a,{component:"p",message:"calendar:recurrence.range.optionAllDescription"}))),!0===this.props.rruleUntilMessage&&g.a.createElement("div",{className:"recurring-nofication-wrapper"},g.a.createElement("h4",null,"Notice"),g.a.createElement("p",null,"Recently a bug was fixed that caused repeating events to end one day earlier than specified. Please verify that this repeating event now ends on the intended date.")))}}])&&Za(e.prototype,t),r&&Za(e,r),n}();function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return!t||"object"!==ri(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function si(e,t){return(si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var li=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ii(this,oi(t).call(this,e))).ref=null,n.handleREditPick=function(e){if(n.state.rEditPrompt){var t=n.state.rEditPrompt.event;t.redit=e,Ce.updateEvent(t,"move"),n.setState({rEditPrompt:null})}},n.state={rEditPrompt:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}(t,g.a.Component),e=t,r=[{key:"calculateHeight",value:function(e){var t,n=0;for(t=0;t<e.length;t++)n=Math.max(n,e[t]?e[t].length:0);return 0==n?{minHeight:"40px"}:{minHeight:17*n+22+10+1+"px"}}}],(n=[{key:"isCellVisible",value:function(e){return e.isSameOrAfter(this.props.rowVisibleStartDate)&&e.isSameOrBefore(this.props.rowVisibleEndDate)}},{key:"componentDidMount",value:function(){this.checkForOverflow()}},{key:"componentDidUpdate",value:function(){this.checkForOverflow()}},{key:"checkForOverflow",value:function(){this.ref&&(this.ref.offsetHeight===this.ref.scrollHeight?this.ref.classList.remove("overflowing"):this.ref.classList.add("overflowing"))}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.rEditPrompt&&this.state.rEditPrompt.show){var t=!1;if(this.state.rEditPrompt.event){var n=this.state.rEditPrompt.event,r=T()("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return g.a.createElement(ni,{onPick:this.handleREditPick,onCancel:function(){e.setState({rEditPrompt:null})},rruleUntilMessage:t})}return null}},{key:"renderCells",value:function(){for(var e=[],t=this.props.rowStartDate.clone(),n=this.props.rowStartDate.format("YYYYMMDD-");t.isSameOrBefore(this.props.rowEndDate);)e.push(g.a.createElement(Ja,{rowStartDate:this.props.rowStartDate,rowEndDate:this.props.rowEndDate,cellDate:t.clone(),view:this.props.view,readOnly:this.props.readOnly,currentDate:this.props.currentDate,visibleStartDate:this.props.visibleStartDate,data:this.props.dateHeaderData,showDate:this.props.showDateHeader,disabled:!this.isCellVisible(t),key:n+t.format("YYYYMMDD"),subcalendarId:this.props.subcalendarId,isPdf:this.props.isPdf})),t.add(36,"hours").startOf("day"),this.props.hideWeekend&&6==t.day()&&(t=t.add(60,"hours").startOf("day"));return e}},{key:"renderEvents",value:function(e){var o,s=this,l=[],u=this.props.rowStartDate.format("YYYYMMDD-");for(o=0;o<e.length;o++)(e[o]||[]).forEach(function(e,t){if(e&&!e.isSpan){var n=ue.a.diffDays(T.a.max(e.event.start_dt,s.props.rowVisibleStartDate),T.a.min(e.event.end_dt,s.props.rowVisibleEndDate))+1,r=100/s.props.cellsCount*n,a=0==o?0:100/s.props.cellsCount*Math.abs(o),i=17*t+22;l.push(g.a.createElement(ya,{event:e,view:s.props.view,eventType:"grid",readOnly:s.props.readOnly,resizable:!1,oneToManyLayoutStripe:s.props.oneToManyLayoutStripe,style:{width:"calc("+r+"% - 1px)",top:i+"px",left:a+"%"},key:u+e.event.id+"-"+e.event.subcalendars[0].id,formatPdfEco:s.props.formatPdfEco,dragRecurEvent:function(e){s.setState({rEditPrompt:{show:!0,event:e}})}}))}});return l}},{key:"render",value:function(){var t=this;return g.a.createElement("div",{className:"row-content",ref:function(e){t.ref=e}},this.renderCells(),this.renderEvents(this.props.events),this.renderREditPrompt())}}])&&ai(e.prototype,n),r&&ai(e,r),t}();function ui(e){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t){return!t||"object"!==ui(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hi=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=di(this,fi(n).call(this,e))).switchView=function(e){e.preventDefault(),y.setView(t.props.switchesTo,t.props.startDate)},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(n,g.a.Component),e=n,(t=[{key:"render",value:function(){return g.a.createElement("div",{className:this.props.leftGutterClassName,onClick:this.switchView,style:{width:this.props.width}},this.props.text&&this.props.text)}}])&&ci(e.prototype,t),r&&ci(e,r),n}();hi.defaultProps={leftGutterClassName:"left-gutter"};var mi=hi;function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _i=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gi(this,bi(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,g.a.Component),e=t,(n=[{key:"handleHorizontalDragging",value:function(e,t,n){var r,a=re.getState().sidebar.expanded?196:0,i=document.querySelector(".calendar-body-content"),o=document.querySelector(".minor-drag"),s=(null===(r=document.querySelector(".calendar-header"))||void 0===r?void 0:r.clientHeight)||0,l=0,u=0,c=0;if(o&&(l=o.clientWidth),i&&(u=i.scrollLeft,c=i.scrollTop),n==Rr)this.props.initialHoveredTimeCol&&t.changeSet.hoveredEndTimeRow&&(e.height=t.changeSet.hoveredTimeColumn.clientHeight-8,e.top=t.changeSet.hoveredTimeColumn.getBoundingClientRect().top-i.getBoundingClientRect().top-44+c,this.props.initialHoveredTimeCol.getBoundingClientRect().left>t.changeSet.hoveredTimeRow.getBoundingClientRect().left?(e.width=t.changeSet.hoveredEndTimeRow.getBoundingClientRect().left-t.changeSet.hoveredTimeRow.getBoundingClientRect().left+t.changeSet.hoveredEndTimeRow.clientWidth,e.left=t.changeSet.hoveredTimeRow.getBoundingClientRect().left-a+u):(e.width=t.changeSet.hoveredEndTimeRow.getBoundingClientRect().left-this.props.initialHoveredTimeCol.getBoundingClientRect().left+t.changeSet.hoveredEndTimeRow.clientWidth,e.left=this.props.initialHoveredTimeCol.getBoundingClientRect().left-a+u));else{var d=t.eventDiv.getBoundingClientRect();if(n==Ar)if(e.height=d.height,e.top=d.top-151-s+c,e.left=d.left+u-a,t.event.all_day){var f=t.changeSet.hoveredTimeRow.parentElement.parentElement;e.width=f.getBoundingClientRect().left-d.left+f.clientWidth}else e.width=t.changeSet.hoveredTimeRow.getBoundingClientRect().left-d.left+l;else{e.width=t.eventDiv.clientWidth;var p=Fr.getElementUnderPointByClass(this.props.initialClientOffset.x,this.props.initialClientOffset.y,"js-dnd-time-grid-row");if(e.height=t.changeSet.hoveredTimeColumn.clientHeight-8,e.top=t.changeSet.hoveredTimeColumn.getBoundingClientRect().top-i.getBoundingClientRect().top-44+c,t.event.all_day){var h=t.changeSet.hoveredTimeRow.parentElement.parentElement;e.left=h.offsetLeft}else p&&(e.left=t.changeSet.hoveredTimeColumn.offsetLeft+(t.changeSet.hoveredTimeRow.offsetLeft-t.changeSet.hoveredTimeColumn.offsetLeft))}}return e}},{key:"handleVerticalDragging",value:function(e,t,n){if(n==Rr)e.top=t.changeSet.hoveredTimeRow.offsetTop,e.height=t.changeSet.hoveredEndTimeRow.offsetTop+t.changeSet.hoveredEndTimeRow.offsetHeight-t.changeSet.hoveredTimeRow.offsetTop;else{var r=re.getState(),a=t.eventDiv.getBoundingClientRect();if(n==Ar){var i=t.changeSet.hoveredTimeRow.getBoundingClientRect();i.top>=a.top?(e.top=t.eventDiv.offsetTop,e.height=i.bottom-a.top):(e.top=t.eventDiv.offsetTop+(i.top-a.top),e.height=a.top-i.top-1)}else t.event.all_day?e.height=r.grid.options[r.grid.resolution].hourHeight:e.height=a.height,e.top=t.changeSet.hoveredTimeRow.offsetTop+1}return e.width=t.changeSet.hoveredTimeColumn.offsetWidth-12,e.left=t.changeSet.hoveredTimeColumn.offsetLeft,e}},{key:"render",value:function(){var e="timeline"===re.getState().views.current,t=this.props,n=t.item,r=t.itemType,a={position:"absolute"};return n.changeSet&&n.changeSet.hoveredTimeColumn&&n.changeSet.hoveredTimeRow&&n.changeSet.valid?(a=e?this.handleHorizontalDragging(a,n,r):this.handleVerticalDragging(a,n,r),g.a.createElement("div",{style:a,className:"event-drag-handle-layer"})):null}}])&&yi(e.prototype,n),r&&yi(e,r),t}();function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return!t||"object"!==Ei(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Oi(e){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Di=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ki(this,Oi(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,g.a.Component),e=t,(n=[{key:"renderEventAction",value:function(e,t){var n,r="calendar.dd"+("copy"===this.props.dropResult?"Copy":"Move")+"EventText",a=ue.a.get("box_layout.multi_day_month_start_moment"),i=ue.a.get("time_moment"),o=void 0===e.fields.all_day?t.all_day:e.fields.all_day,s=e.fields.start_dt||t.start_dt,l=e.fields.end_dt||t.end_dt;n=o?s.clone().endOf("day").isBefore(l)?s.format(a)+" - "+l.format(a):s.format(a):s.clone().endOf("day").isBefore(l)?s.format(a+", "+i)+" - "+l.format(a+", "+i):s.format(a+", "+i)+" - "+l.format(i);var u="";return e.fields.subcalendars&&(u=", "+j.a.translate("calendar","event.tooltip.subcalendar")+" "+e.fields.subcalendars[0].name),g.a.createElement("div",{className:"event-action"},j.a.translate("calendar",r).replace("{0}",n)+u)}},{key:"renderErrorMessage",value:function(e){return g.a.createElement("div",{className:"event-action error"},g.a.createElement(We.a,{section:"calendar",message:"calendar.ddErrors."+e}))}},{key:"render",value:function(){var e="timeline"===re.getState().views.current,t=document.querySelector(".calendar-body-content"),n=0;t&&(n=t.scrollLeft);var r,a=e?this.props.clientOffset.x-200+n:Math.min(this.props.clientOffset.x,window.innerWidth-380),i=e?this.props.clientOffset.y-140:Math.min(this.props.clientOffset.y-20,window.innerHeight-150),o=this.props.item.event,s={position:"absolute",height:"auto",left:a,top:i},l=this.props.item.changeSet,u="cal-bg-"+(l.fields.subcalendars||o.subcalendars)[0].color;if(l.valid)r=this.renderEventAction(l,o);else{if("out_of_bounds"==l.error)return null;r=this.renderErrorMessage(l.error)}return g.a.createElement("div",{style:s,className:"event-preview-popup",role:"presentation"},g.a.createElement("div",{className:"event-title-wrapper"},g.a.createElement("div",{className:"event-title "+u,dangerouslySetInnerHTML:{__html:ye.renderEventTitle(o)}}),r))}}])&&Si(e.prototype,n),r&&Si(e,r),t}();function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pi(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ni=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pi(this,ji(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){var e=re.getState(),t="timeline"===e.views.current,n="";if("grid"===this.props.type){var r=ka.getState().startDate,a=ka.getState().endDate;if(!this.props.item.valid)return null;var i=ue.a.get("box_layout.multi_day_month_start_moment");n=r.isSame(a,"day")?r.format(i):r.format(i)+" - "+a.format(i)}else{var o="multi-week"===(t&&e.timelineView.id)?"box_layout.multi_day_month_start_moment":"upper_time_moment";if(!this.props.item.changeSet||!this.props.item.changeSet.valid)return null;this.props.item.changeSet.fields.start_dt&&(n=this.props.item.changeSet.fields.start_dt.format(ue.a.get(o))),this.props.item.changeSet.fields.end_dt&&this.props.item.changeSet.fields.start_dt&&(n+=" - "),this.props.item.changeSet.fields.end_dt&&(n+=this.props.item.changeSet.fields.end_dt.format(ue.a.get(o)))}var s=document.querySelector(".calendar-body-content"),l=0,u=t?200:0,c=t?120:0;s&&(l=s.scrollLeft);var d={position:"absolute",height:"auto",left:Math.min(this.props.clientOffset.x+l-u,window.innerWidth-380+l),top:Math.min(this.props.clientOffset.y-20-c,window.innerHeight-150-c)};return g.a.createElement("div",{style:d,className:"event-preview-popup",role:"presentation"},g.a.createElement("div",{className:"preview-wrapper"},j.a.translate("calendar","calendar.ddCreateEventText").replace("{0}",n)))}}])&&xi(t.prototype,n),r&&xi(t,r),e}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fi(e,t){return(Fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vi=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ri(this,Ii(t).call(this))).state={isDragging:!1},e.bindActions({handleUpdate:zr.updateDrag,handleAbort:zr.abortDrag}),e}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fi(e,t)}(t,G["a"]),e=t,(n=[{key:"handleUpdate",value:function(e){this.state.monitor=e,this.state.isDragging=!0}},{key:"handleAbort",value:function(){this.state.monitor=void 0,this.state.isDragging=!1}}])&&Li(e.prototype,n),r&&Li(e,r),t}(),Ui=o.a.createStore(Vi,"DragStateStore");function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return!t||"object"!==Yi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Wi(e){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zi(e,t){return(zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gi=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Bi(this,Wi(n).call(this,e))).updateDragState=function(e){t.setState(V()(e))},t.state=V()(Ui.getState()),t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zi(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){Ui.listen(this.updateDragState)}},{key:"componentWillUnmount",value:function(){Ui.unlisten(this.updateDragState)}},{key:"render",value:function(){if(!this.state.isDragging)return null;var e=this.state.monitor,t=e.item,n=e.itemType,r=e.initialClientOffset,a=e.clientOffset,i=e.dropResult,o=e.initialHoveredTimeCol;switch(n){case Ar:case Nr:return"time"===this.props.type?g.a.createElement(_i,{item:t,itemType:n,clientOffset:a,initialClientOffset:r,initialHoveredTimeCol:o}):g.a.createElement(Di,{item:t,clientOffset:a,dropResult:i});case Lr:if("grid"===this.props.type)return g.a.createElement(Ni,{clientOffset:a,item:t,type:"grid"});break;case Rr:return"time"===this.props.type?g.a.createElement(_i,{item:t,itemType:n,clientOffset:a,initialClientOffset:r,initialHoveredTimeCol:o}):g.a.createElement(Ni,{clientOffset:a,item:t,type:"time"})}return null}}])&&Hi(e.prototype,t),r&&Hi(e,r),n}();function Ki(e){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t){return!t||"object"!==Ki(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qi(e,t){return(Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zi=function(){function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=$i(this,Ji(h).call(this,e))).handleCalendarStateUpdate=function(e){t.props.allowTogglingShowAllEvents&&e.views.showAllEvents!==t.state.showAllEvents&&t.setState({showAllEvents:e.views.showAllEvents})},t.state={events:Ue.getState().events,leftGutterWidth:e.leftGutterWidth||"20px",showAllEvents:!t.props.allowTogglingShowAllEvents||re.getState().views.showAllEvents},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qi(e,t)}(h,g.a.Component),e=h,n=[{key:"getDerivedStateFromProps",value:function(e,t){var n=!e.allowTogglingShowAllEvents||re.getState().views.showAllEvents;return n!==t.showAllEvents?{showAllEvents:n}:null}},{key:"findEmptyRowIndex",value:function(e,t){for(var n=e[t]||[],r=n.length,a=0;a<r;a++)if(!n[a])return a;return r}},{key:"eventsStartOnDate",value:function(e,t,n){var r=T.a.max(e.start_dt,n);return t.isSame(r,"day")}},{key:"prepareRowEventGrid",value:function(e,t,n,l,u,r){var c=this,d=r.clone(),f=[],p=0;for(u=u.clone().endOf("day"),e=V()(e);d.isSameOrBefore(u);)f[p]=f[p]||[],e=e.filter(function(e){if(!h.eventsStartOnDate(e,d,l))return!0;var t={event:e,grid:{spanRight:e.end_dt.isAfter(u),spanLeft:e.start_dt.isBefore(l)}},n=T.a.max(e.start_dt,l),r=T.a.min(e.end_dt,u),a=ue.a.diffDays(n,r),i=h.findEmptyRowIndex(f,p);if(f[p][i]=t,0<a&&d.isBefore(u)){var o=d.clone(),s=p+1;for(f[s]=f[s]||[],f[s][i]={event:e,isSpan:!0};--a&&(o.add(36,"hours").startOf("day"),!o.isAfter(r));)36<++s&&(s=0,i=c.findEmptyRowIndex(f,s)),f[s]=f[s]||[],f[s][i]={event:e,isSpan:!0}}return!1}),p++,d.add(36,"hours").startOf("day"),n&&6==d.day()&&(d=d.add(60,"hours").startOf("day"));return f}}],(t=[{key:"componentDidMount",value:function(){re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleCalendarStateUpdate)}},{key:"renderHeader",value:function(){var e,t,n=[],r="year"===this.props.view,a=this.props.visibleStartDate.clone();r&&(a=Cr.getStartDateByMonth(this.props.currentDate,this.props.weekStart,0));for(var i=0;i<this.props.cellsCount;i++)e=a.format("ddd"),n.push({label:r?e.substr(0,1):e}),a.add(36,"hours").startOf("day"),this.props.hideWeekend&&6==a.day()&&(a=a.add(60,"hours").startOf("day"));return this.props.allowTogglingShowAllEvents&&(t=g.a.createElement(ct.a,{id:"generic-tooltips",message:this.state.showAllEvents?"calendar.showStaticGrid":"calendar.showAllEvents",className:"gutter-expander",component:"span"},g.a.createElement("i",{onClick:function(){y.toggleShowAllEvents()},className:this.state.showAllEvents?"sprite-arrow-collapse":"sprite-arrow-collapse-open"}))),g.a.createElement(Mr,{cells:n,leftGutterWidth:this.state.leftGutterWidth,gutterExtra:t})}},{key:"renderRows",value:function(){var e,n,r,t=[],a=this.props.visibleStartDate.clone().startOf("day"),i="year"===this.props.view,o=this.props.hideWeekend,s=i?"month":"week";r=ye.groupEventsByDate(this.props.events,this.props.visibleStartDate,this.props.visibleEndDate,s,this.props.oneToManyLayoutStripe,!0);for(var l=0;l<this.props.rowsCount;l++){i&&(a=Cr.getStartDateByMonth(this.props.currentDate,this.props.weekStart,l)),o&&6==a.day()&&a.add(60,"hours").startOf("day"),e=a.clone().add(24*(this.props.cellsCount-1)+12,"hours").startOf("day"),n=[];var u=i?Cr.getVisibleStartDateByMonth(this.props.currentDate,l).format("YYYY-MM-DD"):a.clone().startOf(s).format("YYYY-MM-DD");if(n=n.concat(r[u]||[]),this.props.isHeaderView){var c=e.clone().startOf(s).format("YYYY-MM-DD");u!==c&&function(){var t=[];n.forEach(function(e){t.push(e.id)}),(r[c]||[]).forEach(function(e){-1===t.indexOf(e.id)&&n.push(e)})}()}n=V()(n).sort(ye.sortEventsForDay);var d=(i?Cr.getVisibleStartDateByMonth(this.props.currentDate,l):a).clone(),f=(i?Cr.getVisibleEndDateByMonth(this.props.currentDate,l):e).clone().endOf("day"),p=h.prepareRowEventGrid(n,this.props.view,this.props.hideWeekend,d,f,a);t.push(g.a.createElement("div",{className:"row",key:l,style:this.state.showAllEvents?li.calculateHeight(p):{}},this.renderRowSidebar(l,a,d,f),g.a.createElement(li,{view:this.props.view,readOnly:this.props.readOnly,events:p,currentDate:this.props.currentDate,rowStartDate:a.clone(),rowEndDate:e.clone().endOf("day"),rowVisibleStartDate:d,rowVisibleEndDate:f,visibleStartDate:this.props.visibleStartDate,cellsCount:this.props.cellsCount,hideWeekend:this.props.hideWeekend,leftGutterWidth:this.state.leftGutterWidth,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,showDateHeader:!0,isPdf:this.props.isPdf,formatPdfEco:this.props.formatPdfEco}))),i||(a=e.add(36,"hours").startOf("day"))}return g.a.createElement("div",{className:this.props.rowsContainerClassName+" "+this.props.rowsContainerClassName+"-"+this.props.rowsCount},t)}},{key:"renderSchedulerRow",value:function(){var n=this,r=this.props.subcalendars.map(function(e){return h.prepareRowEventGrid(V()(n.props.events[e.id]||[]).sort(ye.sortEventsForDay),n.props.view,n.props.hideWeekend,n.props.currentDate,n.props.currentDate,n.props.currentDate)[0]}),e=this.props.subcalendars.map(function(e,t){return g.a.createElement(li,{key:"subcal-row-"+t,view:n.props.view,readOnly:n.props.readOnly,events:[r[t]],currentDate:n.props.currentDate,rowStartDate:n.props.currentDate,rowEndDate:n.props.currentDate,rowVisibleStartDate:n.props.currentDate,rowVisibleEndDate:n.props.currentDate,visibleStartDate:n.props.visibleStartDate,cellsCount:1,hideWeekend:n.props.hideWeekend,leftGutterWidth:n.state.leftGutterWidth,oneToManyLayoutStripe:n.props.oneToManyLayoutStripe,showDateHeader:0===t,dateHeaderData:{subcalendar_ids:e.id},subcalendarId:e.id,isPdf:n.props.isPdf,formatPdfEco:n.props.formatPdfEco})});return g.a.createElement("div",{className:this.props.rowsContainerClassName+" "+this.props.rowsContainerClassName+"-"+this.props.rowsCount},g.a.createElement("div",{className:"row",style:li.calculateHeight(r)},this.renderRowSidebar(0,this.props.currentDate,this.props.currentDate,this.props.currentDate),e))}},{key:"renderRowSidebar",value:function(e,t,n,r){return g.a.createElement(mi,{text:"year"===this.props.view?this.props.currentDate.clone().add(e,"months").format("MMMM"):(this.props.isHeaderView?j.a.translate("calendar","week_short"):"")+t.format("w"),width:this.state.leftGutterWidth,startDate:n.clone(),endDate:r.clone(),switchesTo:"year"==this.props.view?"month":"week"})}},{key:"render",value:function(){var e="";return this.props.isHeaderView||(e=this.state.showAllEvents?"show-all-events":"show-static-grid"),g.a.createElement("div",{className:"grid-view "+e},this.props.showHeader&&this.renderHeader(),g.a.createElement("div",{className:this.props.bodyClassName},"scheduler"===this.props.view?this.renderSchedulerRow():this.renderRows()),0==this.props.readOnly&&g.a.createElement(Gi,{type:"grid"}))}}])&&qi(e.prototype,t),n&&qi(e,n),h}();Zi.defaultProps={hideWeekend:!1,showWeekLinks:!0,showWeekNumbers:!0,bodyClassName:"body",rowsContainerClassName:"rows",isPdf:!1,formatPdfEco:!1};var Xi=Zi;function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var io=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=(t=no(this,ro(r).call(this,e))).initAbstractState();return t.state=Object.assign(n,{events:Ue.getState().events,subcalendars:N.a.getState().resources}),t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(r,dr),e=r,(t=[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"getCellsCount",value:function(){return this.state.hideWeekend?5:7}},{key:"getRowsCount",value:function(){return Math.ceil(this.state.visibleEndDate.diff(this.state.visibleStartDate,"days")/7)}},{key:"render",value:function(){var e="month-view"+(this.props.className?" "+this.props.className:"");return g.a.createElement("div",{className:e},g.a.createElement(Xi,{view:this.state.currentView,readOnly:this.state.readOnly,events:this.props.events||this.state.events,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,rowsCount:this.getRowsCount(),cellsCount:this.getCellsCount(),subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,showHeader:this.props.showHeader,isHeaderView:this.props.isHeaderView,leftGutterWidth:this.props.leftGutterWidth,allowTogglingShowAllEvents:!0,isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco}))}}])&&to(e.prototype,t),n&&to(e,n),r}();io.defaultProps={showHeader:!0,isHeaderView:!1,events:null,leftGutterWidth:"20px"};var oo=io;function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var po=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=uo(this,co(n).call(this,e))).state={events:Ue.getState().events,timeLineOffset:t.calculateTimeLineOffset()},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){var e=this;this.interval=window.setInterval(function(){e.setState({timeLineOffset:e.calculateTimeLineOffset()})},6e4)}},{key:"componentDidUpdate",value:function(e){this.props.grid.resolution===e.grid.resolution&&this.props.displayTimeIndicator===e.displayTimeIndicator||this.setState({timeLineOffset:this.calculateTimeLineOffset()})}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"calculateTimeLineOffset",value:function(){var e=T()();if(this.props.subcalendarId&&!this.props.displayTimeIndicator)return null;if(this.props.currentDate.isSame(e,"day")&&e.hours()>=this.props.startHour&&e.hours()<this.props.endHour){var t=this.props.grid.resolution,n=this.props.grid.options[t],r=this.props.hourIncrement||60,a=n.hourHeight/r,i=Math.max(e.hours()-this.props.startHour,0)*r;return e.hours()>=this.props.startHour&&e.hours()<=this.props.endHour&&(i+=e.minutes()),i*a-6+"px"}return null}},{key:"renderEvents",value:function(){for(var e,t,n,r,a,i=this.props.eventGroups,o=[],s=0;s<i.length;s++){t=(e=i[s]).length;for(var l=0;l<t;l++){n=e[l];for(var u=0;u<n.length;u++){if(!(r=n[u]).timegrid)throw new Error("timegrid property missing on event, this is a logic error");a={top:r.timegrid.top+"px",left:r.timegrid.left+"%",width:"calc(".concat(r.timegrid.width,"% - 1px)"),height:r.timegrid.height+"px"},o.push(g.a.createElement(ya,{event:r,resizable:!0,eventType:"time-grid",view:this.props.view,style:a,readOnly:this.props.readOnly,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,key:r.event.id+"-"+r.event.subcalendars[0].id,formatPdfEco:this.props.formatPdfEco,dragRecurEvent:this.props.dragRecurEvent}))}}}return o}},{key:"renderTimeIndicator",value:function(){return g.a.createElement("div",{className:"time-indicator",style:{marginTop:this.state.timeLineOffset}},g.a.createElement("div",{className:"time-indicator-dot"}),g.a.createElement("div",{className:"time-indicator-line"}))}},{key:"render",value:function(){return g.a.createElement("div",{className:this.props.className,"data-date":this.props.currentDate.format("YYYY-MM-DD 12:00:00"),"data-view-start-date":this.props.viewStartDate.format(),"data-view-end-date":this.props.viewEndDate.format(),"data-subcalendar-id":this.props.subcalendarId,onClick:this.props.onClick},this.props.showCurrentTime&&this.state.timeLineOffset&&this.renderTimeIndicator(),g.a.createElement("div",{className:"day-inner"},this.renderEvents()))}}])&&lo(e.prototype,t),r&&lo(e,r),n}();po.defaultProps={className:"day js-dnd-time-grid-column"};var ho=po;function mo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yo=function(){function i(e,t,n,r){var O=this,a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.getTimelineEventWidth=function(e,t,n,r,a,i,o,s,l,u,c){for(var d=0,f=+e.event.start_dt.format("mm"),p=+e.event.end_dt.format("mm"),h=T()(t.clone().set("minutes",0));h.isSameOrBefore(n.clone().set("minutes",0));h.add(1,"hours")){var m=h.day(),v=6===m||0===m,y=+h.format("HH")+h.format("mm")/60,g=y>=O.startHour,b=y<O.endHour,w=h.isSameOrAfter(r,"day")&&h.isSameOrBefore(i,"day");g&&b&&w&&!(O.hideWeekend&&v&&c)&&d++}var _=t.isAfter(a),E=o>O.startHour&&o<O.endHour,S=n.isBefore(i),k=s>O.startHour&&s<O.endHour;return _&&E&&(d-=f/60),S&&k&&(d-=(60-p)/60),e.timegrid.width=d/l*100/u,e},this.getTimelineLeftOffset=function(e,t,n,r,a,i){var o;return(o=n-O.startHour<0||n>O.endHour?0/r*100/a+100/a*i:(n-O.startHour)/r*100/a+100/a*i)<0?o=0:n>O.endHour&&(o+=100/a*1),e.event.start_dt.isBefore(t.set({h:+T()(O.startHour,"HH:mm").format("HH"),m:+T()(O.startHour,"HH:mm").format("mm")}))?e.timegrid.left=0:e.timegrid.left=o,e},this.getTimelineEventSpaning=function(e,t,n,r,a){return e.grid={spanRight:e.event.end_dt.isAfter(n),spanLeft:e.event.start_dt.isBefore(t)},(a<O.startHour||a>O.endHour)&&(e.grid.spanRight=!0),(r<O.startHour||r>O.endHour)&&(e.grid.spanLeft=!0),e},this.startHour=e,this.endHour=t,this.grid=n,this.hourIncrement=r,this.hideWeekend=a}var e,t,n;return e=i,(t=[{key:"getMinResolutioninMinutes",value:function(){var e=this.grid.resolution;return this.grid.options[e].minEventDisplayMinutes}},{key:"adjustEventStartDate",value:function(e,t){var n=t.clone().hours(this.endHour);return e.start_dt.isAfter(n)?n.subtract(this.getMinResolutioninMinutes(),"minutes"):T.a.max(e.start_dt,t.clone().hours(this.startHour))}},{key:"adjustEventEndDate",value:function(e,t,n){var r,a=2<arguments.length&&void 0!==n?n:null,i=t.clone().hours(this.startHour);if(e.end_dt.isBefore(i))return i.add(this.getMinResolutioninMinutes(),"minutes").subtract(1,"second");if((r=T.a.min(e.end_dt,t.clone().hours(this.endHour)),null!==a)&&r.diff(a,"minutes")<this.getMinResolutioninMinutes())return a.clone().add(this.getMinResolutioninMinutes(),"minutes").subtract(1,"second");return r.clone().subtract(1,"second")}},{key:"rangesOverlap",value:function(e,t,n,r){return n<=e&&e<=r||n<=t&&t<=r||e<=n&&r<=t}},{key:"collidesWith",value:function(e,t,n){var r=this.grid.resolution,a=this.adjustEventStartDate(e,n),i=this.adjustEventEndDate(e,n,a),o=this.adjustEventStartDate(t,n),s=this.adjustEventEndDate(t,n,o),l=e.start_dt.diff(t.start_dt,"minutes");i.isBefore(a)&&(i=a),s.isBefore(o)&&(s=o);var u=this.rangesOverlap(a,i,o,s),c=this.grid.options[r].minEventDisplayMinutes||0;return u||0<c&&-c<l&&l<c}},{key:"expandEvent",value:function(e,t,n,r){var a,i,o,s=1;for(i=t+1;i<n.length;i++){for(a=n[i],o=0;o<a.length;o++)if(this.collidesWith(e.event,a[o].event,r))return s;s++}return s}},{key:"getEventPositionOffsets",value:function(){return{top:0,height:-1}}},{key:"getEventBox",value:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:null,a=this.grid.resolution,i=this.grid.options[a],o=this.hourIncrement||60,s=i.minEventDisplayMinutes/(o/i.hourHeight),l=i.hourHeight/o,u=this.adjustEventStartDate(e,t),c=this.adjustEventEndDate(e,t,u),d=Math.max(u.hours()-this.startHour,0)*o,f=Math.min(c.hours()-this.startHour,this.endHour-this.startHour)*o,p=t.clone().hours(this.endHour),h=this.getEventPositionOffsets();return u.hours()>=this.startHour&&u.hours()<=this.endHour&&(d+=u.minutes()),u.hours()>=this.endHour&&(d=(this.endHour-this.startHour)*o),c<=p&&(f+=c.minutes()),r?{event:e,timegrid:{left:200,width:100,top:r.eventGutter,height:r.eventHeight}}:{event:e,timegrid:{left:0,width:100,top:d*l+h.top,height:Math.max((f-d+1)*l,s)+h.height}}}},{key:"groupEvents",value:function(s,e,t){var l=this,u=2<arguments.length&&void 0!==t?t:null,c=[],d=null,f=[];return e.sort(ye.sortEventsForDay),e.forEach(function(e){var t=l.adjustEventStartDate(e,s),n=l.adjustEventEndDate(e,s,t);null!==d&&t.isSameOrAfter(d)&&(f.push(c),c=[],d=null);for(var r=l.getEventBox(e,s,u),a=!1,i=0;i<c.length;i++){var o=c[i];if(!l.collidesWith(o[o.length-1].event,e,s)){o.push(r),a=!0;break}}a||c.push([r]),null!==d&&!n.isAfter(d)||(d=n)}),0<c.length&&f.push(c),f}},{key:"prepareData",value:function(e,t){for(var n=this.groupEvents(e,t),r=n.length,a=0;a<r;a++)for(var i=n[a],o=i.length,s=0;s<o;s++)for(var l=i[s],u=0;u<l.length;u++){var c=l[u];if(!c.timegrid)throw new Error("timegrid property missing on event, this is a logic error");var d=this.expandEvent(c,s,i,e);c.timegrid.width=100*d/o,c.timegrid.left=s/o*100,c.event.start_dt.isBefore(e)&&(c.timegrid.date=e.clone()),l[u]=c}return n}},{key:"prepareTimelineData",value:function(d,f,e,p,h,m,v,y){var g=this,t=mo(e.sort(ye.sortEventsForDay)),b=y.visibleDays;return t.map(function(e){var t=g.getEventBox(e,f,d);if("hours"===d.minorGrid.resolution){var n=g.endHour-g.startHour,r=+t.event.start_dt.format("HH")+t.event.start_dt.format("mm")/60,a=+t.event.end_dt.format("HH")+t.event.end_dt.format("mm")/60,i=t.event.start_dt.isSameOrAfter(p)?t.event.start_dt:p.clone(),o=t.event.end_dt.isSameOrBefore(v.clone().endOf("day"))?t.event.end_dt:v.clone().endOf("day"),s=y.visibleDaysBeforeEvent[i.format("YYYY-MM-DD")],l=y.numberOfWeekendDaysBeforeEvent[i.format("YYYY-MM-DD")];g.hideWeekend&&d.allowHideWeekend&&(b=y.visibleDays-y.numberOfWeekendDays,s-=l),t=t.event.all_day?g.prepareTimelineDay(t,p,h,g.hideWeekend,d.allowHideWeekend,y):(t=g.getTimelineEventWidth(t,i,o,p,m,v,r,a,n,b,d.allowHideWeekend),t=g.getTimelineLeftOffset(t,p,r,n,b,s),g.getTimelineEventSpaning(t,m,v,r,a))}else if("days"===d.minorGrid.resolution)t=g.prepareTimelineDay(t,p,h,g.hideWeekend,d.allowHideWeekend,y);else if("weeks"===d.minorGrid.resolution){var u=t.event.end_dt.diff(t.event.start_dt,"days",!0),c=t.event.start_dt.diff(t.event.start_dt.clone().startOf("month"),"days",!0);t.timegrid.width=100/30*u,t.timegrid.left=100/30*c}return t.event.start_dt.isBefore(f)&&(t.timegrid.date=f.clone()),t})}},{key:"prepareTimelineDay",value:function(e,t,n,r,a,i){for(var o=0,s=e.event.start_dt.isSameOrAfter(t)?e.event.start_dt:t.clone(),l=e.event.end_dt.isSameOrBefore(n.clone().endOf("day"))?e.event.end_dt.clone().endOf("day"):n.clone().endOf("day"),u=i.visibleDaysBeforeEvent[s.format("YYYY-MM-DD")],c=i.numberOfWeekendDaysBeforeEvent[s.format("YYYY-MM-DD")],d=i.visibleDays,f=T()(s).set({minutes:0});f.isBefore(l);f.add(1,"days")){var p=f.day(),h=6===p||0===p;!f.isSameOrAfter(t,"day")||!f.isSameOrBefore(n,"day")||this.hideWeekend&&h&&a||o++}this.hideWeekend&&a&&(d=i.visibleDays-i.numberOfWeekendDays,u-=c),e.timegrid.left=100/d*u,e.timegrid.width=100*o/d,e.grid={spanRight:!1,spanLeft:!1},e.event.start_dt.isBefore(t)&&(e.grid.spanLeft=!0),e.event.end_dt.isAfter(n.clone().endOf("day"))&&(e.grid.spanRight=!0);var m=e.event.start_dt.day(),v=e.event.end_dt.day();return r&&a&&(6===m||0===m)&&(e.grid.spanLeft=!0),r&&a&&(6===v||0===v)&&(e.grid.spanRight=!0),e}}])&&vo(e.prototype,t),n&&vo(e,n),i}();function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t){return(Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var So=function(){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=wo(this,_o(t).call(this,e))).onRowOrColClick=function(e){if(e.preventDefault(),!o.props.readOnly){var t,n;if(e.target.classList.contains("js-dnd-time-grid-column"))t=Fr.getGridColumnUnderPoint(e.clientX,e.clientY,".js-dnd-time-grid-row"),n=e.target;else{if(!e.target.classList.contains("js-dnd-time-grid-row"))return;n=Fr.getGridColumnUnderPoint(e.clientX,e.clientY,".js-dnd-time-grid-column"),t=e.target}if(n&&t){var r=T()(t.getAttribute("data-date")),a=T()(n.getAttribute("data-date"));if(r.year(a.year()).month(a.month()).date(a.date()),"scheduler"===o.props.view){var i=N.a.findById(parseInt(n.getAttribute("data-subcalendar-id")));return void(i.readonly||xe.a.openEventEditor({subcalendar_ids:[i.id],start_dt:r.format("YYYY-MM-DD HH:mm:ss")}))}xe.a.openEventEditor({start_dt:r.format("YYYY-MM-DD HH:mm:ss")})}}},o.handleREditPick=function(e){if(o.state.rEditPrompt){var t=o.state.rEditPrompt.event;t.redit=e,Ce.updateEvent(t,"move"),o.setState({rEditPrompt:null})}},o.state={rEditPrompt:null},o}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(t,g.a.Component),e=t,(n=[{key:"renderGutter",value:function(e){var t=[],n=this.props.currentDate.clone();n.hours(this.props.startHour).minutes(0).seconds(0);for(var r=this.props.startHour;r<this.props.endHour;r++){var a=n.format(ue.a.get("short_time_moment"));if(t.push(g.a.createElement("div",{className:"label",style:{height:e+"px"},key:r+a},a)),n.isDST()){var i=n.hours();if(n.clone().hours(r+1).hours()===i){var o=this.props.currentDate.clone().add(1,"day").hour(r);t[r-this.props.startHour]=g.a.createElement("div",{className:"label",style:{height:e+"px"},key:r+a},o.format(ue.a.get("short_time_moment")))}else n.hours(r+1).minutes(0).seconds(0)}else n.add(1,"hour")}return g.a.createElement("div",{className:this.props.gutterClassName},t)}},{key:"renderSchedulerColumns",value:function(e){var n,r,a=this,i=[],o=null,s=new yo(this.props.startHour,this.props.endHour,this.props.grid,this.props.hourIncrement);return this.props.subcalendars.forEach(function(e,t){r=a.props.events[e.id]||[],n=s.prepareData(a.props.viewStartDate.clone(),r),o=!(null!==o||!e.active),i.push(g.a.createElement(ho,{onClick:a.onRowOrColClick,view:a.props.view,eventGroups:n,currentDate:a.props.viewStartDate.clone(),startHour:a.props.startHour,endHour:a.props.endHour,grid:a.props.grid,hourIncrement:a.props.hourIncrement,readOnly:a.props.readOnly,viewStartDate:a.props.viewStartDate,viewEndDate:a.props.viewEndDate,subcalendarId:e.id,key:e.id,oneToManyLayoutStripe:a.props.oneToManyLayoutStripe,formatPdfEco:a.props.formatPdfEco,dragRecurEvent:function(e){a.setState({rEditPrompt:{show:!0,event:e}})},displayTimeIndicator:o,showCurrentTime:a.props.showCurrentTime}))}),g.a.createElement("div",{className:this.props.daysClassName,style:{height:e+"px"}},i)}},{key:"renderDays",value:function(e){var t=this;if("scheduler"===this.props.view)return this.renderSchedulerColumns(e);for(var n,r,a=this.props.viewStartDate.clone(),i=[],o=new yo(this.props.startHour,this.props.endHour,this.props.grid,this.props.hourIncrement);a.isSameOrBefore(this.props.viewEndDate);)r=this.props.events[a.format("YYYY-MM-DD")]||[],n=o.prepareData(a,r),i.push(g.a.createElement(ho,{onClick:this.onRowOrColClick,view:this.props.view,eventGroups:n,currentDate:a.clone(),startHour:this.props.startHour,endHour:this.props.endHour,grid:this.props.grid,hourIncrement:this.props.hourIncrement,readOnly:this.props.readOnly,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,key:a.format("YYYYMMDD"),oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,formatPdfEco:this.props.formatPdfEco,dragRecurEvent:function(e){t.setState({rEditPrompt:{show:!0,event:e}})},showCurrentTime:this.props.showCurrentTime})),a=a.add(36,"hours").startOf("day");return g.a.createElement("div",{className:this.props.daysClassName,style:{height:e+"px"}},i)}},{key:"renderRows",value:function(){var e,t,n=[],r=this.props.currentDate.clone(),a=this.props.grid.resolution,i=this.props.grid.options[a].minEventDisplayMinutes,o=Math.round(60/i),s=this.props.grid.options[a].hourHeight/o,l=[],u=5==i||10==i?3:2;r.hours(this.props.startHour);for(var c=0;c<o;c++)l.push({hourSeparatorHeight:s,border:"1px "+(0<c&&c%u!=0?"dotted":"solid")+" "+this.props.borderColor});for(var d=this.props.startHour;d<this.props.endHour;d++){e=[];for(var f=0;f<o;f++)t=d==this.props.startHour&&0==f?"none":l[f].border,e.push(g.a.createElement(ja,{onClick:this.onRowOrColClick,css:this.props.rowInnerClassName,rawStyle:{height:s+"px",borderTop:t},key:f+r.format("X"),date:r.clone(),isSchedulerView:"scheduler"===this.props.view,readOnly:this.props.readOnly})),r.minutes(r.minutes()+this.props.hourIncrement/o);n.push(g.a.createElement("div",{className:this.props.rowClassName,style:{height:this.props.grid.options[a].hourHeight+"px"},id:"time-grid-hour-"+d,key:d+r.format("X")},e))}return g.a.createElement("div",{className:this.props.rowsClassName},n)}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.rEditPrompt&&this.state.rEditPrompt.show){var t=!1;if(this.state.rEditPrompt.event){var n=this.state.rEditPrompt.event,r=T()("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return g.a.createElement(ni,{onPick:this.handleREditPick,onCancel:function(){e.setState({rEditPrompt:null})},rruleUntilMessage:t})}return null}},{key:"render",value:function(){var e=this.props.grid.resolution,t=this.props.grid.options[e].hourHeight*(this.props.endHour-this.props.startHour);return g.a.createElement("div",{className:this.props.className},this.renderREditPrompt(),this.renderRows(),g.a.createElement("div",{className:this.props.columnsClassName},this.renderGutter(this.props.grid.options[e].hourHeight),this.renderDays(t)),0==this.props.readOnly&&g.a.createElement(Gi,{type:"time"}))}}])&&bo(e.prototype,n),r&&bo(e,r),t}();So.defaultProps={className:"time-grid js-dnd-time-grid",columnsClassName:"columns",rowsClassName:"rows",rowClassName:"row",rowInnerClassName:"day-time-inner",daysClassName:"days",gutterClassName:"gutter",borderColor:"#ddd"};var ko=So;function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Po=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Do(this,To(t).call(this,e))).checkForAllDayHeight=function(){var e=document.querySelector(".grid-view .row");if(e&&e.style.minHeight){var t=document.querySelector(".calendar-body-content"),n=parseInt(e.style.minHeight,10)>t.offsetHeight/2;if(n!==a.state.scrollAllDayGrid&&(a.setState({scrollAllDayGrid:n}),n)){var r=document.querySelector(".week-content");r&&(r.scrollTop=0)}}},a.state={scrollAllDayGrid:!1},a}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(t,g.a.Component),e=t,(n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.checkForAllDayHeight,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkForAllDayHeight,!0)}},{key:"renderHeader",value:function(e){if(!this.state.scrollAllDayGrid||this.props.header)return g.a.createElement("div",{className:"week-header"},this.props.header,!this.state.scrollAllDayGrid&&e)}},{key:"render",value:function(){window.requestAnimationFrame(this.checkForAllDayHeight);var e="week-view"+(0==this.props.allDayEvents.length?" week-header-empty":""),t=g.a.createElement(Xi,{view:this.props.currentView,readOnly:this.props.readOnly,events:this.props.allDayEvents,currentDate:this.props.currentDate,visibleStartDate:this.props.visibleStartDate,visibleEndDate:this.props.visibleEndDate,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,rowsCount:1,cellsCount:this.props.cellsCount,subcalendars:this.props.subcalendars,weekStart:this.props.weekStart,hideWeekend:this.props.hideWeekend,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,showHeader:!1,isHeaderView:!0,leftGutterWidth:"49px",isPdf:this.props.isPdf,formatPdfEco:this.props.formatPdfEco});return g.a.createElement("div",{className:e},this.renderHeader(t),g.a.createElement("div",{className:"week-content"},this.state.scrollAllDayGrid&&t,g.a.createElement(ko,{view:this.props.currentView,readOnly:this.props.readOnly,currentDate:this.props.currentDate,events:this.props.hourlyEvents,startHour:this.props.startHour,endHour:this.props.endHour,subcalendars:this.props.subcalendars,grid:this.props.grid,hourIncrement:60,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,formatPdfEco:this.props.formatPdfEco,showCurrentTime:this.props.showCurrentTime})))}}])&&Co(e.prototype,n),r&&Co(e,r),t}();function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ro=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=(t=No(this,Ao(r).call(this,e))).initAbstractState();return t.state=Object.assign(n,{events:Ue.getState().events,subcalendars:N.a.getState().resources}),t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(r,dr),e=r,(t=[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"render",value:function(){var e=ye.groupEventsByAllDayType(this.state.events),t=e.allDayEvents,n=ye.groupEventsByDate(e.hourlyEvents,this.state.viewStartDate,this.state.viewEndDate,"day",this.state.oneToManyLayoutStripe,!0);return g.a.createElement(Po,{currentView:this.state.currentView,readOnly:this.state.readOnly,allDayEvents:t,hourlyEvents:n,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,cellsCount:this.state.viewEndDate.diff(this.state.viewStartDate,"days")+1,subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,startHour:this.state.startHour,endHour:this.state.endHour,grid:this.state.grid,isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco,showCurrentTime:this.state.showCurrentTime})}}])&&Mo(e.prototype,t),n&&Mo(e,n),r}();function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return!t||"object"!==Io(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ho=function(){function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(t=Vo(this,Uo(a).call(this,e))).initAbstractState(),r=N.a.getState().resources;return t.state=Object.assign(n,{events:Ue.getState().events,subcalendars:r}),t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(a,dr),e=a,(t=[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"render",value:function(){var e=ye.groupEventsByDate(this.state.events,this.state.viewStartDate,this.state.viewEndDate,"day",!0,!0)[this.state.viewStartDate.format("YYYY-MM-DD")],t=ye.groupEventsBySubcalendarAndAllDayType(e),n=this.state.subcalendars.filter(function(e){return e.visible}),r=[];return n.forEach(function(e){r.push({label:e.name,color:e.color})}),g.a.createElement(Po,{currentView:this.state.currentView,readOnly:this.state.readOnly,allDayEvents:t.allDayEvents,hourlyEvents:t.hourlyEvents,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,cellsCount:n.length,subcalendars:n,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,startHour:this.state.startHour,endHour:this.state.endHour,grid:this.state.grid,header:g.a.createElement(Mr,{cells:r,leftGutterWidth:"49px"}),isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco,showCurrentTime:this.state.showCurrentTime})}}])&&Fo(e.prototype,t),n&&Fo(e,n),a}();n(406);function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qo=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=zo(this,Go(t).call(this,e))).ref=null,n.handleREditPick=function(e){if(n.state.rEditPrompt){var t=n.state.rEditPrompt.event;t.redit=e,Ce.updateEvent(t,"move"),n.setState({rEditPrompt:null})}},n.state={rEditPrompt:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,g.a.Component),e=t,r=[{key:"calculateHeight",value:function(){return{minHeight:"44px"}}}],(n=[{key:"isCellVisible",value:function(e){return e.isSameOrAfter(this.props.rowVisibleStartDate)&&e.isSameOrBefore(this.props.rowVisibleEndDate)}},{key:"componentDidMount",value:function(){this.checkForOverflow()}},{key:"componentDidUpdate",value:function(){this.checkForOverflow()}},{key:"checkForOverflow",value:function(){this.ref&&(this.ref.offsetHeight===this.ref.scrollHeight?this.ref.classList.remove("overflowing"):this.ref.classList.add("overflowing"))}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.rEditPrompt&&this.state.rEditPrompt.show){var t=!1;if(this.state.rEditPrompt.event){var n=this.state.rEditPrompt.event,r=T()("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return g.a.createElement(ni,{onPick:this.handleREditPick,onCancel:function(){e.setState({rEditPrompt:null})},rruleUntilMessage:t})}return null}},{key:"renderCells",value:function(){for(var e=[],t=this.props.rowStartDate.clone(),n=this.props.rowStartDate.format("YYYYMMDD-"),r=this.props.rowStartDate;t.isSameOrBefore(this.props.rowEndDate);){var a=r,i=t.day(),o=6===i||0===i;"days"===this.props.timelineView.minorGrid.resolution?(a=r.clone().endOf("day").clone().weekday(7)).isSameOrAfter(this.props.viewEndDate)&&(a=this.props.viewEndDate):"weeks"===this.props.timelineView.minorGrid.resolution&&(a=r.clone().endOf("month").clone()).isSameOrAfter(this.props.viewEndDate)&&(a=this.props.viewEndDate),o&&this.props.hideWeekend&&this.props.timelineView.allowHideWeekend||e.push(g.a.createElement(Ja,{cellDate:t.clone(),view:this.props.view,rowStartDate:r,rowEndDate:a,readOnly:this.props.readOnly,currentDate:this.props.currentDate,visibleStartDate:this.props.visibleStartDate,data:this.props.dateHeaderData,showDate:this.props.showDateHeader,disabled:!this.isCellVisible(t),key:n+t.format("YYYYMMDD"),subcalendarId:this.props.subcalendarId,isPdf:this.props.isPdf,numberOfVirtualRows:this.props.numberOfVirtualRows,currentView:this.props.currentView,timelineView:this.props.timelineView})),"days"===this.props.timelineView.majorGrid.resolution||"weeks"===this.props.timelineView.majorGrid.resolution?t.add(36,"hours").startOf("day"):"months"===this.props.timelineView.majorGrid.resolution?(t.add(1,"month").startOf("day"),r=r.clone().add(45,"day").startOf("month")):t.add(36,"hours").startOf("day")}return e}},{key:"renderEvents",value:function(e){var o,s=this,l=[],u=this.props.rowStartDate.format("YYYYMMDD-");for(o=0;o<e.length;o++)(e[o]||[]).forEach(function(e,t){if(e&&!e.isSpan){var n=ue.a.diffDays(T.a.max(e.event.start_dt,s.props.rowVisibleStartDate),T.a.min(e.event.end_dt,s.props.rowVisibleEndDate))+1,r=100/s.props.cellsCount*n,a=0==o?0:100/s.props.cellsCount*Math.abs(o),i=17*t+22;l.push(g.a.createElement(ya,{event:e,view:s.props.view,eventType:"grid",readOnly:s.props.readOnly,resizable:!1,oneToManyLayoutStripe:s.props.oneToManyLayoutStripe,style:{width:"calc("+r+"% - 1px)",top:i+"px",left:a+"%"},key:u+e.event.id+"-"+e.event.subcalendars[0].id,formatPdfEco:s.props.formatPdfEco,dragRecurEvent:function(e){s.setState({rEditPrompt:{show:!0,event:e}})}}))}});return l}},{key:"render",value:function(){for(var t=this,e=re.getState(),n=e.datetime.visibleStartDate.clone(),r=e.datetime.visibleEndDate.clone(),a=this.props.timelineView.cellWidth.minZoom*Math.pow(this.props.timelineView.cellWidth.zoomStep,this.props.timelineView.cellWidth.zoomLevel-1),i=e.datetime.hideWeekend?5:7,o=[],s=T()(n);s.isSameOrBefore(r.endOf("week"));s.add(1,"week"))o.push(g.a.createElement("div",{className:s.isSame(new Date,"week")?"major-grid-header__label current":"major-grid-header__label",style:{width:a*i,fontSize:e.majorGridFontSize}},g.a.createElement("span",{className:"major-grid-header__label__wrapper",dangerouslySetInnerHTML:{__html:Pa(e.majorGridLabel||"",s)}})));return g.a.createElement("div",{className:"row-content",ref:function(e){t.ref=e}},"days"===this.props.timelineView.minorGrid.resolution&&g.a.createElement("div",{className:"major-grid-header"},o),g.a.createElement("div",{className:"days"===this.props.timelineView.minorGrid.resolution?"minor-grid-wrapper minor-days":"minor-grid-wrapper"},this.renderCells()),this.renderREditPrompt())}}])&&Wo(e.prototype,n),r&&Wo(e,r),t}();function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t){return!t||"object"!==$o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Zo(e){return(Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xo(e,t){return(Xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var es=function(){function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=Qo(this,Zo(h).call(this,e))).handleCalendarStateUpdate=function(e){t.props.allowTogglingShowAllEvents&&e.views.showAllEvents!==t.state.showAllEvents&&t.setState({showAllEvents:e.views.showAllEvents})},t.state={events:Ue.getState().events,leftGutterWidth:e.leftGutterWidth||"20px",showAllEvents:!t.props.allowTogglingShowAllEvents||re.getState().views.showAllEvents},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}(h,g.a.Component),e=h,n=[{key:"findEmptyRowIndex",value:function(e,t){for(var n=e[t]||[],r=n.length,a=0;a<r;a++)if(!n[a])return a;return r}},{key:"eventsStartOnDate",value:function(e,t,n){var r=T.a.max(e.start_dt,n);return t.isSame(r,"day")}},{key:"prepareRowEventGrid",value:function(e,t,n,l,u,r){var c=this,d=r.clone(),f=[],p=0;for(u=u.clone().endOf("day"),e=V()(e);d.isSameOrBefore(u);)f[p]=f[p]||[],e=e.filter(function(e){if(!h.eventsStartOnDate(e,d,l))return!0;var t={event:e,grid:{spanRight:e.end_dt.isAfter(u),spanLeft:e.start_dt.isBefore(l)}},n=T.a.max(e.start_dt,l),r=T.a.min(e.end_dt,u),a=ue.a.diffDays(n,r),i=h.findEmptyRowIndex(f,p);if(f[p][i]=t,0<a&&d.isBefore(u)){var o=d.clone(),s=p+1;for(f[s]=f[s]||[],f[s][i]={event:e,isSpan:!0};--a&&(o.add(36,"hours").startOf("day"),!o.isAfter(r));)36<++s&&(s=0,i=c.findEmptyRowIndex(f,s)),f[s]=f[s]||[],f[s][i]={event:e,isSpan:!0}}return!1}),p++,d.add(36,"hours").startOf("day"),n&&6==d.day()&&(d=d.add(60,"hours").startOf("day"));return f}}],(t=[{key:"componentWillReceiveProps",value:function(e){var t=!e.allowTogglingShowAllEvents||re.getState().views.showAllEvents;t!==this.state.showAllEvents&&this.setState({showAllEvents:t})}},{key:"componentDidMount",value:function(){re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleCalendarStateUpdate)}},{key:"renderHeader",value:function(){var e,t,n=[],r="year"===this.props.view,a=this.props.visibleStartDate.clone();r&&(a=Cr.getStartDateByMonth(this.props.currentDate,this.props.weekStart,0));for(var i=0;i<this.props.cellsCount;i++)e=a.format("ddd"),n.push({label:r?e.substr(0,1):e}),a.add(36,"hours").startOf("day"),this.props.hideWeekend&&6==a.day()&&(a=a.add(60,"hours").startOf("day"));return this.props.allowTogglingShowAllEvents&&(t=g.a.createElement(ct.a,{id:"generic-tooltips",message:this.state.showAllEvents?"calendar.showStaticGrid":"calendar.showAllEvents",className:"gutter-expander",component:"span"},g.a.createElement("i",{onClick:function(){y.toggleShowAllEvents()},className:this.state.showAllEvents?"sprite-arrow-collapse":"sprite-arrow-collapse-open"}))),g.a.createElement(Mr,{cells:n,leftGutterWidth:this.state.leftGutterWidth,gutterExtra:t})}},{key:"renderRows",value:function(){var e,n,r,t=[],a=this.props.visibleStartDate.clone().startOf("day"),i="year"===this.props.view,o=this.props.hideWeekend,s=i?"month":"week";r=ye.groupEventsByDate(this.props.events,this.props.visibleStartDate,this.props.visibleEndDate,s,this.props.oneToManyLayoutStripe,!0);for(var l=0;l<this.props.rowsCount;l++){this.props.timelineView.allowHideWeekend&&o&&6==a.day()&&a.add(60,"hours").startOf("day"),e=a.clone().add(24*(this.props.cellsCount-1)+12,"hours").startOf("day"),n=[];var u=i?Cr.getVisibleStartDateByMonth(this.props.currentDate,l).format("YYYY-MM-DD"):a.clone().startOf(s).format("YYYY-MM-DD");if(n=n.concat(r[u]||[]),this.props.isHeaderView){var c=e.clone().startOf(s).format("YYYY-MM-DD");u!==c&&function(){var t=[];n.forEach(function(e){t.push(e.id)}),(r[c]||[]).forEach(function(e){-1===t.indexOf(e.id)&&n.push(e)})}()}n=V()(n).sort(ye.sortEventsForDay);var d=(i?Cr.getVisibleStartDateByMonth(this.props.currentDate,l):a).clone(),f=(i?Cr.getVisibleEndDateByMonth(this.props.currentDate,l):e).clone().endOf("day"),p=h.prepareRowEventGrid(n,this.props.view,this.props.hideWeekend,d,f,a);"week"===this.props.timelineView.alignWith&&(e=this.props.visibleEndDate),t.push(g.a.createElement("div",{className:"row",key:l,style:this.state.showAllEvents?qo.calculateHeight(p):{}},this.renderRowSidebar(l,a,d,f),g.a.createElement(qo,{view:this.props.view,readOnly:this.props.readOnly,events:p,currentDate:this.props.currentDate,rowStartDate:a.clone(),rowEndDate:e.clone().endOf("day"),rowVisibleStartDate:d,rowVisibleEndDate:f,visibleStartDate:this.props.visibleStartDate,cellsCount:this.props.cellsCount,hideWeekend:this.props.hideWeekend,leftGutterWidth:this.state.leftGutterWidth,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,showDateHeader:!0,isPdf:this.props.isPdf,formatPdfEco:this.props.formatPdfEco,numberOfVirtualRows:this.props.numberOfVirtualRows,currentView:this.props.currentView,viewEndDate:this.props.viewEndDate,timelineView:this.props.timelineView})))}return g.a.createElement("div",{className:this.props.rowsContainerClassName+" "+this.props.rowsContainerClassName+"-"+this.props.rowsCount},t)}},{key:"renderRowSidebar",value:function(e,t,n,r){return g.a.createElement(mi,{text:!1,width:this.state.leftGutterWidth,startDate:n.clone(),endDate:r.clone(),switchesTo:"year"==this.props.view?"month":"week"})}},{key:"render",value:function(){var e="";return this.props.isHeaderView||(e=this.state.showAllEvents?"show-all-events":"show-static-grid"),g.a.createElement("div",{className:"grid-view "+e},this.props.showHeader&&this.renderHeader(),g.a.createElement("div",{className:this.props.bodyClassName},this.renderRows()),0==this.props.readOnly&&g.a.createElement(Gi,{type:"grid"}))}}])&&Jo(e.prototype,t),n&&Jo(e,n),h}();es.defaultProps={hideWeekend:!1,showWeekLinks:!0,showWeekNumbers:!0,bodyClassName:"body",rowsContainerClassName:"rows",isPdf:!1,formatPdfEco:!1};var ts=es,ns=n(556),rs=n.n(ns);function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function is(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t){return!t||"object"!==as(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cs=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ss(this,ls(t).call(this,e))).handleREditPick=function(e){if(n.state.rEditPrompt){var t=n.state.rEditPrompt.event;t.redit=e,Ce.updateEvent(t,"move"),n.setState({rEditPrompt:null})}},n.state={rEditPrompt:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(t,g.a.Component),e=t,(n=[{key:"shouldComponentUpdate",value:function(e,t){var n,r,a=e.timelineView.cellWidth.zoomLevel!==this.props.timelineView.cellWidth.zoomLevel,i=this.props.timelineView.id!==e.timelineView.id,o=rs()(this.props,e,function(e,t,n){return"viewEndDate"===n||void 0}),s=(null===(n=t.rEditPrompt)||void 0===n?void 0:n.show)!==(null===(r=this.state.rEditPrompt)||void 0===r?void 0:r.show);return!a&&!o||s||i}},{key:"renderEvents",value:function(e,n){var r,a=this,i=[];return e.forEach(function(e,t){r={top:e.timegrid.top+(a.props.timelineView.eventHeight+a.props.timelineView.eventGutter)*((e.event.yPosition||1)-1)+25+"px",left:e.timegrid.left+"%",width:"calc(".concat(e.timegrid.width,"% - 1px)"),height:e.timegrid.height+"px"},e.event.subcalendars[0].id===n&&i.push(g.a.createElement(ya,{event:e,resizable:!0,eventType:"time-grid",view:a.props.view,style:r,readOnly:a.props.readOnly,oneToManyLayoutStripe:a.props.oneToManyLayoutStripe,key:e.event.id+"-"+e.event.subcalendars[0].id,formatPdfEco:a.props.formatPdfEco,dragRecurEvent:function(e){a.setState({rEditPrompt:{show:!0,event:e}})},className:"timeline-event"}))}),i}},{key:"renderGutter",value:function(){var i=this,o=[];return this.props.subcalendars.forEach(function(e,t){var n=t,r=i.props.overlappingEvents.find(function(e){return e.calendarId===i.props.subcalendars[n].id}),a=(r?r.overlappingEvents:1)*(i.props.timelineView.eventHeight+i.props.timelineView.eventGutter)+10;o.push(g.a.createElement("div",{className:"label",style:{marginBottom:"".concat(a,"px")},key:t},e.name))}),g.a.createElement("div",{className:this.props.gutterClassName},o)}},{key:"renderDays",value:function(e,t){for(var n=this.props.viewStartDate.clone(),r=[],a=new yo(this.props.startHour,this.props.endHour,this.props.grid,this.props.hourIncrement,this.props.hideWeekend),i=0,o=Object.keys(this.props.events);i<o.length;i++){var s=o[i];r=[].concat(is(r),is(a.prepareTimelineData(this.props.timelineView,n,this.props.events[s],this.props.viewStartDate,this.props.viewEndDate,this.props.visibleStartDate,this.props.visibleEndDate,t)))}var l=this.renderEvents(r,e);return g.a.createElement("div",{className:this.props.daysClassName},l)}},{key:"getNumberOfWeekendDays",value:function(e,t){for(var n=0,r=e.clone().startOf("day");r.isBefore(t.clone().endOf("day"));r.add(1,"days")){var a=r.day();(6===a||0===a)&&n++}return n}},{key:"renderRows",value:function(){for(var a=this,i=[],o={visibleDays:this.props.viewEndDate.clone().endOf("day").diff(this.props.viewStartDate.clone().startOf("day"),"days")+1,numberOfWeekendDays:this.getNumberOfWeekendDays(this.props.viewStartDate,this.props.viewEndDate),visibleDaysBeforeEvent:{},numberOfWeekendDaysBeforeEvent:{}},e=0,t=T()(this.props.viewStartDate).clone().set({minutes:0});t.isSameOrBefore(this.props.viewEndDate);t.add(1,"days")){var n=t.day(),r=6===n||0===n;o.numberOfWeekendDaysBeforeEvent[t.format("YYYY-MM-DD")]=r?this.getNumberOfWeekendDays(this.props.viewStartDate,t)-1:this.getNumberOfWeekendDays(this.props.viewStartDate,t),o.visibleDaysBeforeEvent[t.format("YYYY-MM-DD")]=e,e++}return this.props.subcalendars.forEach(function(t,e){var n=a.props.overlappingEvents.find(function(e){return e.calendarId===t.id}),r=n?n.overlappingEvents:1;i.push(g.a.createElement("div",{className:a.props.rowClassName+" js-dnd-time-grid-column",style:{height:"".concat(r*(a.props.timelineView.eventHeight+a.props.timelineView.eventGutter)+a.props.timelineView.eventGutter+35,"px")},id:"subcalendar-"+t.name,key:"subcalendar-"+t.name,"data-subcalendar-id":t.id},a.renderDays(t.id,o),void 0))}),g.a.createElement("div",{className:this.props.rowsClassName},i)}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.rEditPrompt&&this.state.rEditPrompt.show){var t=!1;if(this.state.rEditPrompt.event){var n=this.state.rEditPrompt.event,r=T()("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return g.a.createElement(ni,{onPick:this.handleREditPick,onCancel:function(){e.setState({rEditPrompt:null})},rruleUntilMessage:t})}return null}},{key:"render",value:function(){return g.a.createElement("div",{className:this.props.className},this.renderREditPrompt(),this.renderRows(),g.a.createElement("div",{className:this.props.columnsClassName},this.renderGutter()),0==this.props.readOnly&&g.a.createElement(Gi,{type:"time"}))}}])&&os(e.prototype,n),r&&os(e,r),t}();cs.defaultProps={className:"time-grid time-grid-horizontal js-dnd-time-grid",columnsClassName:"columns",rowsClassName:"rows",rowClassName:"row",rowInnerClassName:"day-time-inner",daysClassName:"days",gutterClassName:"gutter",borderColor:"#ddd"};var ds=cs;function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t){return!t||"object"!==fs(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t){return(ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gs=function(){function n(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=ms(this,vs(n).call(this,e))).handleCalendarStateUpdate=function(e){a.setState({numberOfDays:e.timelineViewConfig.numberOfDays,numberOfWeeks:e.timelineViewConfig.numberOfWeeks,zoom:e.timelineViewConfig.zoom})},a.renderViewSelector=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.dateRangeLabel"})),g.a.createElement("select",{name:"date-range-selector",className:"filter-view-input filter-view__range-select",defaultValue:a.props.timelineView.id,onChange:function(t){var e=a.props.views.find(function(e){return e.id===t.target.value}),n={cellWidth:{grid:a.props.timelineView.cellWidth.grid,zoomStep:a.props.timelineView.cellWidth.zoomStep,minZoom:a.props.timelineView.cellWidth.minZoom,zoomLevel:a.state.zoom[e.id]}};if("multi-day"===t.target.value&&(n.range=a.state.numberOfDays,n.step=a.state.numberOfDays),"week"===t.target.value){var r=a.props.hideWeekend?5:7;n.range=r,n.step=1}"multi-week"===t.target.value&&(n.range=7*a.state.numberOfWeeks,n.step=a.state.numberOfWeeks),y.setTimelineViewConfig({zoom:Object.assign(Object.assign({},a.state.zoom),ps({},a.props.timelineView.id,a.props.timelineView.cellWidth.zoomLevel)),numberOfDays:a.state.numberOfDays,numberOfWeeks:a.state.numberOfWeeks,dateRange:t.target.value}),a.props.onViewChange(t.target.value,n,!0)}},a.props.views.map(function(e){return g.a.createElement("option",{value:e.id,key:e.id},e.label)})))},a.renderDaysSelector=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.multiDayLabel"})),g.a.createElement("select",{name:"number-of-days-selector",className:"filter-view-input filter-view__number-of-days",defaultValue:a.state.numberOfDays,onChange:function(e){var t={range:+e.target.value,step:+e.target.value,cellWidth:{grid:a.props.timelineView.cellWidth.grid,zoomStep:a.props.timelineView.cellWidth.zoomStep,minZoom:a.props.timelineView.cellWidth.minZoom,zoomLevel:a.props.timelineView.cellWidth.zoomLevel}};y.setTimelineViewConfig({zoom:Object.assign(Object.assign({},a.state.zoom),ps({},a.props.timelineView.id,a.props.timelineView.cellWidth.zoomLevel)),numberOfDays:+e.target.value,numberOfWeeks:a.state.numberOfWeeks,dateRange:a.props.timelineView.id}),a.props.onViewChange(a.props.timelineView.id,t,!0)}},a.state.days.map(function(e){return g.a.createElement("option",{value:e,key:e},e," ",j.a.translate("calendar","timeline_view.filters.multiDayValue"))})))},a.renderWeeksSelector=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.multiWeekLabel"})),g.a.createElement("select",{name:"number-of-weeks-selector",className:"filter-view-input filter-view__number-of-days",defaultValue:a.state.numberOfWeeks,onChange:function(e){var t={range:7*e.target.value,step:+e.target.value,cellWidth:{grid:a.props.timelineView.cellWidth.grid,zoomStep:a.props.timelineView.cellWidth.zoomStep,minZoom:a.props.timelineView.cellWidth.minZoom,zoomLevel:a.props.timelineView.cellWidth.zoomLevel}};y.setTimelineViewConfig({zoom:Object.assign(Object.assign({},a.state.zoom),ps({},a.props.timelineView.id,a.props.timelineView.cellWidth.zoomLevel)),numberOfDays:a.state.numberOfDays,numberOfWeeks:+e.target.value,dateRange:a.props.timelineView.id}),a.props.onViewChange(a.props.timelineView.id,t,!0)}},a.state.weeks.map(function(e){return g.a.createElement("option",{value:e,key:e},e," ",j.a.translate("calendar","timeline_view.filters.multiWeekValue"))})))},a.renderZoomLevel=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.zoomLabel"})),g.a.createElement("div",{className:"toolbar-content"},g.a.createElement("div",{className:"date-navigation"},g.a.createElement("div",{className:"toolbar-button zoom-out",onClick:function(){if(1<a.state.zoom[a.props.timelineView.id]){var e={range:a.props.timelineView.range,step:a.props.timelineView.step,cellWidth:{grid:a.props.timelineView.cellWidth.grid,zoomStep:a.props.timelineView.cellWidth.zoomStep,minZoom:a.props.timelineView.cellWidth.minZoom,zoomLevel:a.state.zoom[a.props.timelineView.id]-1}};if("week"===a.props.timelineView.id){var t=a.props.hideWeekend?5:7;e.range=t,e.step=1}y.setTimelineViewConfig({zoom:Object.assign(Object.assign({},a.state.zoom),ps({},a.props.timelineView.id,e.cellWidth.zoomLevel)),numberOfDays:a.state.numberOfDays,numberOfWeeks:a.state.numberOfWeeks,dateRange:a.props.timelineView.id}),a.props.onViewChange(a.props.timelineView.id,e,!1)}}},g.a.createElement("span",{className:"toolbar-button__zoom toolbar-button__zoom-out"},"")),g.a.createElement("div",{className:"toolbar-button today zoomLevel"},g.a.createElement("span",null,a.state.zoom[a.props.timelineView.id])),g.a.createElement("div",{className:"toolbar-button zoom-in",onClick:function(){if(a.state.zoom[a.props.timelineView.id]<10){var e={cellWidth:{grid:a.props.timelineView.cellWidth.grid,zoomStep:a.props.timelineView.cellWidth.zoomStep,minZoom:a.props.timelineView.cellWidth.minZoom,zoomLevel:+a.state.zoom[a.props.timelineView.id]+1}};y.setTimelineViewConfig({zoom:Object.assign(Object.assign({},a.state.zoom),ps({},a.props.timelineView.id,e.cellWidth.zoomLevel)),numberOfDays:a.state.numberOfDays,numberOfWeeks:a.state.numberOfWeeks,dateRange:a.props.timelineView.id}),a.props.onViewChange(a.props.timelineView.id,e,!1)}}},g.a.createElement("span",{className:"toolbar-button__zoom toolbar-button__zoom-in"},"+")))))};var t=re.getState();return a.state={numberOfDays:t.timelineViewConfig.numberOfDays,numberOfWeeks:t.timelineViewConfig.numberOfWeeks,zoom:t.timelineViewConfig.zoom,days:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],weeks:[1,2,3,4,5,6,7,8,9,10,15,20,25,30]},a}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleCalendarStateUpdate)}},{key:"render",value:function(){return g.a.createElement("div",{className:"filter-view"},g.a.createElement("div",{className:"filter-view-hd"},g.a.createElement("div",{className:"filter-view-flex-wrapper"},g.a.createElement("section",{className:"filter-view-section"},this.renderViewSelector(),"multi-day"===this.props.timelineView.id&&this.renderDaysSelector(),"multi-week"===this.props.timelineView.id&&this.renderWeeksSelector(),!this.props.timelineView.fitWindow&&this.renderZoomLevel()))))}}])&&hs(e.prototype,t),r&&hs(e,r),n}(),bs=(n(483),n(44));function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e,t){return!t||"object"!==ws(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ss(e){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t){return(ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Os=function(){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=Es(this,Ss(t).call(this,e))).shallowCompare=function(t,n){return Object.keys(t).concat(Object.keys(n)).every(function(e){return t[e]===n[e]})},i.handleWindowResize=function(e){var t=document.querySelector(".minor-grid__cell.no-label"),n=0;t&&(n=t.clientWidth),i.setState({cellWidth:n})},i.handleDynamicLabelling=function(){var e=document.querySelector(".minor-grid__cell.no-label"),t=document.querySelector(".major-grid-header__label"),n=bs.a.getState(),r=0,a=0;e&&(r=e.clientWidth),t&&(a=t.clientWidth),n.use24hTimes?y.setMinorGridLabel(i.props.timelineView.minorGrid.breakpoints[i.props.timelineView.minorGrid.breakpoints.length-1].labelFormat24):y.setMinorGridLabel(i.props.timelineView.minorGrid.breakpoints[i.props.timelineView.minorGrid.breakpoints.length-1].labelFormat),i.props.timelineView.minorGrid.breakpoints.some(function(e){if(r<e.cellWidth)return n.use24hTimes?y.setMinorGridLabel(e.labelFormat24):y.setMinorGridLabel(e.labelFormat),!0}),i.props.timelineView.majorGrid.breakpoints&&i.props.timelineView.majorGrid.breakpoints.some(function(e){if(a<e.cellWidth)return y.setMajorGridLabel(e.labelFormat),y.setMajorGridFontSize(e.fontSize),!0})},i.state={minorGridlabelFormat:"HH:mm",majorGridlabelFormat:"",cellWidth:0},i}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ks(e,t)}(t,g.a.Component),e=t,(n=[{key:"componentDidMount",value:function(){var e=document.querySelector(".minor-grid__cell.no-label"),t=0;e&&(t=e.clientWidth),window.addEventListener("resize",P()(this.handleWindowResize,100)),this.setState({cellWidth:t}),this.handleDynamicLabelling()}},{key:"componentDidUpdate",value:function(){this.handleDynamicLabelling()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.shallowCompare(e,this.props),r=this.shallowCompare(t,this.state);return!n||!r}},{key:"render",value:function(){return null}}])&&_s(e.prototype,n),r&&_s(e,r),t}();function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return!t||"object"!==Cs(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var js=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Ts(this,xs(n).call(this,e))).state={calendarHeaderHeight:54},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){var e,t=(null===(e=document.querySelector(".calendar-header"))||void 0===e?void 0:e.clientHeight)||0;this.setState({calendarHeaderHeight:t})}},{key:"render",value:function(){var i=this,o=0;this.props.subcalendars.forEach(function(e,t){var n=t,r=i.props.overlappingEvents.find(function(e){return e.calendarId===i.props.subcalendars[n].id}),a=r?r.overlappingEvents:1;o=o+a*(i.props.timelineView.eventHeight+i.props.timelineView.eventGutter)+10+28});var e=0;0<this.props.overlappingEvents.length&&(e=this.props.overlappingEvents.map(function(e){return e.overlappingEvents}).reduce(function(e,t){return e+t})),e=this.props.subcalendars.length-this.props.overlappingEvents.length+e;for(var t="timeline-view "+this.props.layoutClass,n=g.a.createElement(ts,{view:this.props.currentView,readOnly:this.props.readOnly,events:this.props.events,currentDate:this.props.currentDate,visibleStartDate:this.props.visibleStartDate,visibleEndDate:this.props.visibleEndDate,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,rowsCount:1,cellsCount:this.props.cellsCount,subcalendars:this.props.subcalendars,weekStart:this.props.weekStart,hideWeekend:this.props.hideWeekend,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,showHeader:!1,isHeaderView:!0,leftGutterWidth:"200px",isPdf:this.props.isPdf,formatPdfEco:this.props.formatPdfEco,numberOfVirtualRows:e,currentView:this.props.currentView,timelineView:this.props.timelineView}),r=[],a=this.props.viewStartDate.clone().startOf("day");a.diff(this.props.viewEndDate.clone().startOf("day"),"days")<=0;a.add(1,"days")){var s=a.clone().day();(6===s||0===s)&&this.props.hideWeekend&&this.props.timelineView.allowHideWeekend||r.push(g.a.createElement(Fa,{currentDate:a.clone(),resolution:this.props.timelineView.minorGrid.resolution,startDate:a.clone(),endDate:a.clone(),numberOfVirtualRows:3,showLabel:!1,subcalendarId:1,date:a.clone(),readOnly:this.props.readOnly,timelineView:this.props.timelineView,key:a.toString()}))}return g.a.createElement("div",{className:t},g.a.createElement("div",{className:"filter-wrapper",style:{top:42+this.state.calendarHeaderHeight}},g.a.createElement(gs,{onViewChange:this.props.onViewChange,views:this.props.views,timelineView:this.props.timelineView,hideWeekend:this.props.hideWeekend})),g.a.createElement("div",{className:"timeline-header"},g.a.createElement(Os,{timelineView:this.props.timelineView}),this.props.header,n),g.a.createElement("div",{className:"timeline-content",style:{display:"flex",height:o}},r,g.a.createElement(ds,{view:this.props.currentView,readOnly:this.props.readOnly,currentDate:this.props.currentDate,events:this.props.eventsByDate,startHour:this.props.startHour,endHour:this.props.endHour,subcalendars:this.props.subcalendars,grid:this.props.grid,hourIncrement:60,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,visibleEndDate:this.props.visibleEndDate,visibleStartDate:this.props.visibleStartDate,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,formatPdfEco:this.props.formatPdfEco,showCurrentTime:this.props.showCurrentTime,overlappingEvents:this.props.overlappingEvents,numberOfVirtualRows:e,timelineView:this.props.timelineView,hideWeekend:this.props.hideWeekend})))}}])&&Ds(e.prototype,t),r&&Ds(e,r),n}();function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ns(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ls(e,t){return!t||"object"!==Ms(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Rs(e){return(Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e,t){return(Is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fs=function(){function l(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(o=Ls(this,Rs(l).call(this,e))).handleEventsUpdate=function(e){o.updateEvents(e.events)},o.handleGridResolutionUpdate=function(t){if(t.grid.resolution!==o.state.grid.resolution){var n=2;5!==t.grid.resolution&&10!==t.grid.resolution||(n=3);var e=o.state.views.map(function(e){return Object.assign(Object.assign({},e),{majorDragGrid:t.grid.resolution*n,minorDragGrid:t.grid.resolution})}),r=Object.assign({},o.state.timelineView);r.majorDragGrid=t.grid.resolution*n,r.minorDragGrid=t.grid.resolution,o.setState({views:e,timelineView:r,key:Date.now().toString()})}},o.handleResourceChange=function(e){o.setState({subcalendars:e.resources.filter(function(e){return e.visible})})},o.handleTimelineViewChange=function(t,e,n){var r,a=o.state.views.find(function(e){return e.id===t});r=n?Object.assign(Object.assign({},a),e):Object.assign(Object.assign(Object.assign({},a),o.state.viewConfig),e),a&&(o.state.timelineView.id===a.id&&!n||y.setTimelineView(r));var i=2;5!==o.state.grid.resolution&&10!==o.state.grid.resolution||(i=3),r.majorDragGrid=o.state.grid.resolution*i,r.minorDragGrid=o.state.grid.resolution,r.cellWidth.minZoom=a.cellWidth.minZoom,o.setState({timelineView:r,events:Ns(o.state.events),viewConfig:Object.assign(Object.assign({},o.state.viewConfig),e)})},o.getOverlappingEvents=function(e){var s=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=[];return Object.values(e).forEach(function(e){var i=[],o=1;e.forEach(function(n){if(0===i.length)n.yPosition=1,i[0]=n;else{var r=!1,a=s?n.start_dt.clone().startOf("day"):n.start_dt.clone();i.forEach(function(e,t){(s?e.end_dt.clone().endOf("day"):e.end_dt.clone()).isSameOrBefore(a)||r?r||((i[t]=n).yPosition=t+1,r=!0):i.length===t+1&&((i[t+1]=n).yPosition=t+2,r=!0),o<i.length&&(o=i.length)})}}),t.push({calendarId:e[0].subcalendars[0].id,overlappingEvents:o})}),t};var t=o.initAbstractState(),n=re.getState(),r=2;5!==t.grid.resolution&&10!==t.grid.resolution||(r=3);var a=Object(K.a)(!1).map(function(e){return n&&n.timelineView&&(e.cellWidth.zoomLevel=n.timelineViewConfig.zoom?n.timelineViewConfig.zoom[e.id]:3),"multi-day"===e.id?(e.range=n.timelineViewConfig.numberOfDays||5,e.step=n.timelineViewConfig.numberOfDays||5):"multi-week"===e.id&&(e.range=7*n.timelineViewConfig.numberOfWeeks||35,e.step=n.timelineViewConfig.numberOfWeeks||5),Object.assign(Object.assign({},e),{majorDragGrid:t.grid.resolution*r,minorDragGrid:t.grid.resolution})}),i=N.a.getState().resources.filter(function(e){return e.visible}),s=a.filter(function(e){return e.id===n.timelineView.id})[0];return y.setTimelineView(s),o.state=Object.assign(t,{events:Ue.getState().events,subcalendars:i,timelineView:s,views:a,viewConfig:{},key:Date.now().toString()}),o}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}(l,dr),e=l,(t=[{key:"componentDidMount",value:function(){N.a.listen(this.handleResourceChange),Ue.listen(this.handleEventsUpdate),re.listen(this.handleCalendarStateUpdate),re.listen(this.handleGridResolutionUpdate)}},{key:"componentDidUpdate",value:function(){this.removeDragHandlesForShortEvents()}},{key:"componentWillUnmount",value:function(){N.a.unlisten(this.handleResourceChange),Ue.unlisten(this.handleEventsUpdate),re.unlisten(this.handleCalendarStateUpdate),re.unlisten(this.handleGridResolutionUpdate)}},{key:"removeDragHandlesForShortEvents",value:function(){document.querySelectorAll(".row .event").forEach(function(e){15===e.clientWidth&&e.classList.contains("ev-spanright")&&(e.style.left="calc(100% - 15px)")})}},{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"render",value:function(){var e=T()(this.state.viewStartDate,"DD-MM-YYYY").add(this.state.timelineView.range-1,"days"),t=T()(this.state.viewStartDate,"DD-MM-YYYY").add(this.state.timelineView.range,"days").diff(this.state.viewStartDate,"days"),n=ye.cloneEventsBySubcalendar(this.state.events),r="multi-week"===this.state.timelineView.id,a=this.getOverlappingEvents(ye.groupEventsBySubcalendar(n),r),i=ye.groupEventsByDate(n,this.state.viewStartDate,e,"day",this.state.oneToManyLayoutStripe,!1),o=this.state.timelineView.fitWindow?"fit-window":"normal";return g.a.createElement(js,{currentView:this.state.currentView,readOnly:this.state.readOnly,events:n,eventsByDate:i,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:e,cellsCount:t,subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,startHour:this.state.startHour,endHour:this.state.endHour,grid:this.state.grid,isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco,showCurrentTime:this.state.showCurrentTime,onViewChange:this.handleTimelineViewChange,views:this.state.views,timelineView:this.state.timelineView,overlappingEvents:a,layoutClass:o,key:this.state.key})}}])&&As(e.prototype,t),n&&As(e,n),l}(),Vs=n(557),Us=n.n(Vs),Ys=n(558),Hs=n.n(Ys);function Bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ws=j.a.partial("calendar"),zs=["SU","MO","TU","WE","TH","FR","SA"],Gs=function(){function o(e){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.frequency=null,this.count=null,this.until=null,this.interval=1,this.byDay=null,this.byDayWeekdays=null,this.byDayNthWeekday=null,this.byMonthDay=null,this.byMonth=null,this.rule=e){var t,n,r,a,i=0;for(n=(t=e.split(";")).length;i<n;i++)if("FREQ"===(r=t[i].split("="))[0]){this.frequency=r[1];break}for(i=0;i<n;i++)switch(a=(r=t[i].split("="))[1],r[0]){case"INTERVAL":this.interval=parseInt(a,10);break;case"COUNT":this.setCount(parseInt(a,10));break;case"UNTIL":this.setUntil(a);break;case"BYDAY":this.setByDay(a);break;case"BYMONTHDAY":this.setByMonthDay(parseInt(a,10));break;case"BYMONTH":this.byMonth=parseInt(a,10)}}}var e,t,n;return e=o,n=[{key:"getShortDay",value:function(e){return"string"==typeof e&&(e=zs.indexOf(e)),T.a.weekdaysShort()[e]}},{key:"getLongDay",value:function(e){return"string"==typeof e&&(e=zs.indexOf(e)),T.a.weekdays()[e]}}],(t=[{key:"getRule",value:function(){var e=[];return this.frequency?(e.push("FREQ="+this.frequency),1!==this.interval&&e.push("INTERVAL="+this.interval),this.byDay&&e.push("BYDAY="+this.byDay),this.byMonthDay&&e.push("BYMONTHDAY="+this.byMonthDay),this.byMonth&&e.push("BYMONTH="+this.byMonth),this.count&&e.push("COUNT="+this.count),this.until&&e.push("UNTIL="+this.until.format("YYYYMMDD")+"T235959Z"),e.join(";")+";"):""}},{key:"getDescription",value:function(e){var t=[],n="";return this.frequency&&0<this.frequency.length&&(n=this.frequency.substr(0,1).toUpperCase()+this.frequency.substr(1).toLowerCase()),e=T()(e),n&&this["getDescription"+n]&&this["getDescription"+n](t,e),this.getDescriptionCount(t,e),this.getDescriptionUntil(t,e),t.join("")}},{key:"setCount",value:function(e){this.until=null,this.count=e}},{key:"setUntil",value:function(e){this.count=this.until=null,this.until=T()(e.substring(0,15))}},{key:"setByDay",value:function(e){if(this.byMonthDay=null,this.byDayWeekdays=null,this.byDayNthWeekday=null,"string"==typeof e){this.byDay=e;var t=parseInt(e,10);isNaN(t)?this.byDayWeekdays=e.split(","):this.byDayNthWeekday=-1===t?{number:t,weekday:e.substr(2,2)}:{number:t,weekday:e.substr(1,2)}}else Array.isArray(e)?(this.byDay=e.join(","),this.byDayWeekdays=e):e instanceof Object&&void 0!==e.number&&void 0!==e.weekday&&(this.byDay=e.number+e.weekday,this.byDayNthWeekday=e)}},{key:"setByMonthDay",value:function(e){this.byDay=null,this.byDayWeekdays=null,this.byDayNthWeekday=null,this.byMonthDay=e}},{key:"getDescriptionDaily",value:function(e){1===this.interval?e.push(Ws("recurrence.rule.frequency.daily")):e.push(Ws("recurrence.rule.every")," ",this.interval.toString()," ",Ws("recurrence.rule.days"))}},{key:"getDescriptionWeekly",value:function(e,t){if(1===this.interval?e.push(Ws("recurrence.rule.frequency.weekly")):e.push(Ws("recurrence.rule.every")," ",this.interval.toString()," ",Ws("recurrence.rule.weeks")),this.byDayWeekdays){var n=this.byDayWeekdays.length;e.push(" ",Ws("recurrence.rule.on")," ");for(var r=0;r<n;r++)0<r&&r<n-1?e.push(", "):1<n&&r===n-1&&e.push(" ",Ws("recurrence.rule.and")," "),2<n?e.push(o.getShortDay(this.byDayWeekdays[r])):e.push(o.getLongDay(this.byDayWeekdays[r]))}else t&&e.push(" ",Ws("recurrence.rule.on")," ",o.getLongDay(t.day()))}},{key:"getDescriptionWeekdays",value:function(e){1===this.interval?e.push(Ws("recurrence.rule.frequency.weekdays")):e.push(Ws("recurrence.rule.every")," ",this.interval.toString()," ",Ws("recurrence.rule.weekdays"))}},{key:"getDescriptionMonthly",value:function(e){1===this.interval?e.push(Ws("recurrence.rule.frequency.monthly")):e.push(Ws("recurrence.rule.every")," ",this.interval.toString()," ",Ws("recurrence.rule.months")),null!==this.byMonthDay&&0<this.byMonthDay?e.push(" "+Ws("recurrence.rule.onDay")+" "+this.byMonthDay+Ws("recurrence.rule.onDayPostfix")):null!==this.byMonthDay&&-1===this.byMonthDay?e.push(" "+Ws("recurrence.rule.onTheLastDay")):this.byDayNthWeekday&&(0<this.byDayNthWeekday.number?e.push(" ",Ws("recurrence.rule.onThe")," ",Ws("recurrence.rule.ordinals."+this.byDayNthWeekday.number)," ",o.getLongDay(this.byDayNthWeekday.weekday)):e.push(" "+Ws("recurrence.rule.onTheLast")+" "+o.getLongDay(this.byDayNthWeekday.weekday)))}},{key:"getDescriptionYearly",value:function(e,t){1===this.interval?e.push(Ws("recurrence.rule.frequency.yearly")):e.push(Ws("recurrence.rule.every")," ",this.interval.toString()," ",Ws("recurrence.rule.years")),t&&(-1===this.byMonthDay?e.push(" ",Ws("recurrence.rule.onTheLastDay")," ",Ws("recurrence.rule.of")," ",t.format("MMMM")):this.byDayNthWeekday?0<this.byDayNthWeekday.number?e.push(" ",Ws("recurrence.rule.onThe")," ",Ws("recurrence.rule.ordinals."+this.byDayNthWeekday.number)," ",o.getLongDay(this.byDayNthWeekday.weekday)," ",Ws("recurrence.rule.of")," ",t.format("MMMM")):e.push(" ",Ws("recurrence.rule.onTheLast")," ",o.getLongDay(this.byDayNthWeekday.weekday)," ",Ws("recurrence.rule.of")," ",t.format("MMMM")):e.push(" ",Ws("recurrence.rule.on")," ",t.format(Ws("recurrence.rule.monthDayFormatMoment"))))}},{key:"getDescriptionCount",value:function(e){this.count&&e.push(", ",this.count.toString()," ",1===this.count?Ws("recurrence.rule.time"):Ws("recurrence.rule.times"))}},{key:"getDescriptionUntil",value:function(e){this.until&&e.push(", ",Ws("recurrence.rule.until")," ",this.until.format(Ws("recurrence.rule.untilFormatMoment")))}}])&&Bs(e.prototype,t),n&&Bs(e,n),o}(),Ks=n(98);function qs(e){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Js(e,t){return!t||"object"!==qs(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zs(e,t){return(Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xs=function(){function e(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Js(this,Qs(e).apply(this,arguments))).ref=null,t.handleChange=function(e){t.props.disabled||t.props.onChange&&t.props.onChange(e)},t.handleTextChange=function(e){t.ref&&t.ref.click()},t.onKeyDown=function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation())},t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){var t=this,e="form__checkbox";return this.props.className&&(e+=" "+this.props.className),g.a.createElement("div",{className:e,style:this.props.style},g.a.createElement("input",{type:"checkbox",ref:function(e){t.ref=e},id:this.props.id||this.props.name,name:this.props.name,onChange:this.handleChange,checked:this.props.value,className:this.props.disabled?"form__checkbox-disabled":this.props.value?"form__checkbox-on":"form__checkbox-off"}),g.a.createElement("label",{htmlFor:this.props.id||this.props.name,title:j.a.trans(this.props.text),tabIndex:this.props.tabIndex,onKeyDown:this.onKeyDown}),this.props.textIsClickable?g.a.createElement(We.a,{message:this.props.text,onClick:this.handleTextChange}):g.a.createElement(We.a,{message:this.props.text}))}}])&&$s(t.prototype,n),r&&$s(t,r),e}();Xs.defaultProps={disabled:!1,style:{},textIsClickable:!0};var el=Object(Ks.a)(Xs),tl=n(243);function nl(e){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e,t){return!t||"object"!==nl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sl(e,t){return(sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ll=function(){function n(e){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=il(this,ol(n).call(this,e))).isMenuOpen=!1,a.handleCalendarStateUpdate=function(e){a.setState({numberOfDays:e.tableViewConfig.numberOfDays,numberOfWeeks:e.tableViewConfig.numberOfWeeks,startDate:e.datetime.viewStartDate,endDate:e.datetime.viewEndDate})},a.renderViewSelector=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.dateRangeLabel"})),g.a.createElement("select",{name:"date-range-selector",className:"filter-view-input filter-view__range-select",defaultValue:a.props.tableView.id,onChange:function(e){var t={};if("multi-day"===e.target.value&&(t.range=a.state.numberOfDays,t.step=a.state.numberOfDays),"week"===e.target.value){var n=a.props.hideWeekend?5:7;t.range=n,t.step=1}"multi-week"===e.target.value&&(t.range=7*a.state.numberOfWeeks,t.step=a.state.numberOfWeeks),y.setTableViewConfig({numberOfDays:a.state.numberOfDays,numberOfWeeks:a.state.numberOfWeeks,dateRange:e.target.value,wrapContent:a.state.wrapContent,showSum:a.state.showSum,tableCells:a.state.tableCells,customStartDate:a.state.startDate,customEndDate:a.state.endDate}),a.props.onViewChange(e.target.value,t,!0,a.state.wrapContent)}},a.props.views.map(function(e){return g.a.createElement("option",{value:e.id,key:e.id},e.label)})))},a.renderDaysSelector=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.multiDayLabel"})),g.a.createElement("select",{name:"number-of-days-selector",className:"filter-view-input filter-view__number-of-days",defaultValue:a.state.numberOfDays,onChange:function(e){var t={range:+e.target.value,step:+e.target.value};y.setTableViewConfig({numberOfDays:+e.target.value,numberOfWeeks:a.state.numberOfWeeks,dateRange:a.props.tableView.id,wrapContent:a.state.wrapContent,showSum:a.state.showSum,tableCells:a.state.tableCells,customStartDate:a.state.startDate,customEndDate:a.state.endDate}),a.props.onViewChange(a.props.tableView.id,t,!0,a.state.wrapContent)}},a.state.days.map(function(e){return g.a.createElement("option",{value:e,key:e},e," ",j.a.translate("calendar","timeline_view.filters.multiDayValue"))})))},a.renderWeeksSelector=function(){return g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"timeline_view.filters.multiWeekLabel"})),g.a.createElement("select",{name:"number-of-weeks-selector",className:"filter-view-input filter-view__number-of-days",defaultValue:a.state.numberOfWeeks,onChange:function(e){var t={range:7*e.target.value,step:+e.target.value};y.setTableViewConfig({numberOfDays:a.state.numberOfDays,numberOfWeeks:+e.target.value,dateRange:a.props.tableView.id,wrapContent:a.state.wrapContent,showSum:a.state.showSum,tableCells:a.state.tableCells,customStartDate:a.state.startDate,customEndDate:a.state.endDate}),a.props.onViewChange(a.props.tableView.id,t,!0,a.state.wrapContent)}},a.state.weeks.map(function(e){return g.a.createElement("option",{value:e,key:e},e," ",j.a.translate("calendar","timeline_view.filters.multiWeekValue"))})))},a.renderCustomDateSelector=function(){return g.a.createElement("div",{className:"filter-view__custom-range"},g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"table_view.filter.startDate"})),g.a.createElement(tl.a,{key:a.state.startDate.toString(),ref:function(e){a.startDatePicker=e},name:"start_date",defaultValue:a.state.startDate,onChange:function(e){var t=a.state.endDate.endOf("day"),n=e.startOf("day");e.isAfter(a.state.endDate)&&(t=e.clone().add(1,"day").endOf("day")),a.setState({startDate:n,endDate:t});var r={range:t.diff(n,"days")+1,step:t.diff(n,"days")+1,startDate:n,endDate:t};y.setTableViewConfig({numberOfDays:a.state.numberOfDays,numberOfWeeks:a.state.numberOfWeeks,dateRange:a.props.tableView.id,wrapContent:a.state.wrapContent,showSum:a.state.showSum,tableCells:a.state.tableCells,customStartDate:n,customEndDate:t}),a.props.onViewChange(a.props.tableView.id,r,!0,a.state.wrapContent)},weekStart:re.getState().datetime.weekStart})),g.a.createElement("div",{className:"filter-view-input-wrapper"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"table_view.filter.endDate"})),g.a.createElement(tl.a,{key:a.state.endDate.toString(),ref:function(e){a.endDatePicker=e},name:"end_date",defaultValue:a.state.endDate,onChange:function(e){var t=a.state.startDate.startOf("day");e.isBefore(a.state.startDate)&&(t=e.startOf("day").clone().subtract(1,"day")),a.setState({startDate:t,endDate:e.endOf("day")});var n={range:e.endOf("day").diff(t.startOf("day"),"days")+1,step:e.endOf("day").diff(t.startOf("day"),"days")+1,startDate:t,endDate:e.endOf("day")};y.setTableViewConfig({numberOfDays:a.state.numberOfDays,numberOfWeeks:a.state.numberOfWeeks,dateRange:a.props.tableView.id,wrapContent:a.state.wrapContent,showSum:a.state.showSum,tableCells:a.state.tableCells,customStartDate:a.state.startDate,customEndDate:a.state.endDate}),a.props.onViewChange(a.props.tableView.id,n,!0,a.state.wrapContent)},weekStart:re.getState().datetime.weekStart})))},a.openReactEditorToAddEvent=function(){xe.a.openEventEditor({start_dt:re.getState().datetime.currentDate.format("YYYY-MM-DD")})},a.renderAddEventButton=function(){return g.a.createElement("a",{onClick:a.openReactEditorToAddEvent,className:"btn__state-green filter-view-input add-event-btn"},g.a.createElement("span",{className:"filter-view-input__plus"},"+"),g.a.createElement(We.a,{message:"agenda_view.addBtnText"}))},a.renderWrapContent=function(){return g.a.createElement("section",{className:"wrap-content"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement("label",{className:"wrap-contnent-checkbox-label",htmlFor:"table-wrap-content-toggle"},g.a.createElement(We.a,{message:"table_view.filter.wrapContent"}))),g.a.createElement(M.a,{type:"checkbox",name:"table-wrap-content-toggle",className:"filter-view-input filter-view-checkbox",id:"table-wrap-content-toggle",defaultChecked:a.state.wrapContent,onChange:function(e){y.setTableViewConfig({numberOfDays:a.state.numberOfDays,numberOfWeeks:+e.target.value,dateRange:a.props.tableView.id,wrapContent:e.target.checked,showSum:a.state.showSum,tableCells:a.state.tableCells,customStartDate:a.state.startDate,customEndDate:a.state.endDate}),a.props.onViewChange(a.props.tableView.id,{},!1,e.target.checked)}}))},a.showMenu=function(e){e.preventDefault(),e.stopPropagation();var t=a.menuRef.getBoundingClientRect();a.isMenuOpen?Object(At.e)({id:"settingsMenu"}):(Object(At.e)({id:"column-visibility-menu"}),Object(At.f)({position:{x:t.right,y:t.bottom},target:a.menuRef,id:"column-visibility-menu",data:{}}))},a.renderShowHideColumns=function(){return g.a.createElement("span",{className:"column-visibility-label",onClick:function(e){a.showMenu(e)},ref:function(e){a.menuRef=e}},g.a.createElement(We.a,{message:"table_view.filter.showHideColumns"}),g.a.createElement(At.a,{className:"column-visibility-menu",id:"column-visibility-menu",onShow:function(){a.isMenuOpen=!0},onHide:function(){setTimeout(function(){a.isMenuOpen=!1},50)}},a.props.tableCells.map(function(e,n){return g.a.createElement("li",{className:"column-visibility-item",key:e.id,onClick:function(e){var t=rl(a.props.tableCells);t[n].visible=t[n].visible,a.props.onColumVisibilityChange(e,t)}},g.a.createElement(el,{name:"column-selector-".concat(n),id:"column-selector-".concat(n),text:e.label,defaultChecked:e.visible,onChange:function(e){e.stopPropagation();var t=rl(a.props.tableCells);t[n].visible=e.target.checked,a.props.onColumVisibilityChange(e,t)},value:e.visible}))})))};var t=re.getState();return a.state={startDate:t.tableViewConfig.customStartDate,endDate:t.tableViewConfig.customEndDate,numberOfDays:t.tableViewConfig.numberOfDays,numberOfWeeks:t.tableViewConfig.numberOfWeeks,days:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],weeks:[1,2,3,4,5,6,7,8,9,10,15,20,25,30],wrapContent:t.tableViewConfig.wrapContent,showSum:t.tableViewConfig.showSum,tableCells:t.tableViewConfig.tableCells},a}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sl(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleCalendarStateUpdate)}},{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"filter-view"},g.a.createElement("div",{className:"filter-view-hd"},g.a.createElement("div",{className:"filter-view-flex-wrapper"},g.a.createElement("section",{className:"filter-view-section"},g.a.createElement("div",{className:"filter-view-section__left"},this.renderViewSelector(),"multi-day"===this.props.tableView.id&&this.renderDaysSelector(),"multi-week"===this.props.tableView.id&&this.renderWeeksSelector(),"custom-range"===this.props.tableView.id&&this.renderCustomDateSelector(),this.renderWrapContent(),0==this.props.readOnly&&this.renderAddEventButton()),g.a.createElement("div",{className:"filter-view-section__right"},this.renderShowHideColumns()))))))}}])&&al(e.prototype,t),r&&al(e,r),n}();function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fl(e,t){return!t||"object"!==ul(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hl(e,t){return(hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ml=function(){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=fl(this,pl(t).call(this,e))).colMenus=[],a.showMenu=function(e,t){e.preventDefault(),e.stopPropagation();var n=a.colMenus[t].menuRef.getBoundingClientRect();a.colMenus[t].isOpen?Object(At.e)({id:"settingsMenu"}):(Object(At.e)({id:"column-menu-".concat(t)}),Object(At.f)({position:{x:n.right,y:n.bottom},target:a.colMenus[t].menuRef,id:"column-menu-".concat(t),data:{}}))},a.handleDragMove=function(e){var t;if(a.state.isDragging){e.currentTarget.style.width="800px",e.currentTarget.style.height="800px",e.currentTarget.style.right="-400px",e.currentTarget.parentElement.parentElement.style.zIndex="1000";var n="".concat((window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft))-e.currentTarget.parentElement.getBoundingClientRect().left,"px");document.querySelectorAll('[data-key="'.concat(null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.dataset.key,'"]')).forEach(function(e){e.style.width=n})}},a.handleDragEnd=function(n){var e=n.currentTarget.parentElement.parentElement;a.setState({isDragging:!1}),n.currentTarget.style.width="10px",n.currentTarget.style.height="100%",n.currentTarget.style.right="-5px",e.style.zIndex="100";var t=cl(a.props.tableCells),r=n.currentTarget.parentElement.clientWidth+1;t.forEach(function(e){var t;e.id===(null===(t=n.currentTarget.parentElement)||void 0===t?void 0:t.dataset.key)&&(e.width=r)}),a.props.onColumnVisibilityChange(n,t)},a.renderContextMenu=function(t,n){return g.a.createElement("span",{onClick:function(e){a.showMenu(e,t.id)},ref:function(e){a.colMenus[t.id].menuRef=e},onMouseLeave:function(){return a.setState({isDragging:!1})}},g.a.createElement("span",{className:"column-menu-trigger"},""),g.a.createElement(At.a,{className:"column-menu",id:"column-menu-".concat(t.id),onShow:function(){a.colMenus[t.id].isOpen=!0},onHide:function(){setTimeout(function(){a.colMenus[t.id].isOpen=!1},50)}},g.a.createElement(At.c,{onClick:function(){return a.props.onColumnSort(t.id,"asc",!1)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-sort-az"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.sort_a_z"}))),g.a.createElement(At.c,{onClick:function(){return a.props.onColumnSort(t.id,"desc",!1)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-sort-za"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.sort_z_a"}))),0<a.props.sortBy.length&&!a.props.sortBy.some(function(e){return e.cell===t.id})&&g.a.createElement(At.d,{title:g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-plus"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.sort_additional_col"}))},g.a.createElement(At.c,{onClick:function(){return a.props.onColumnSort(t.id,"asc",!0)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-sort-azplus"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.sort_additional_col_a_z"}))),g.a.createElement(At.c,{onClick:function(){return a.props.onColumnSort(t.id,"desc",!0)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-sort-zaplus"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.sort_additional_col_z_a"})))),0<n&&g.a.createElement(At.c,{onClick:function(e){return a.props.onColumnMoveLeft(e,n)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-move-left"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.move_col_left"}))),n<a.props.tableCells.filter(function(e){return e.visible}).length-1&&g.a.createElement(At.c,{onClick:function(e){return a.props.onColumnMoveRight(e,n)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-move-right"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.move_col_right"}))),g.a.createElement(At.c,{onClick:function(e){return a.props.onColumnHide(e,n)}},g.a.createElement("a",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-eye"})),g.a.createElement(We.a,{section:"calendar",message:"table_view.table.header.context_menu.hide_col"})))))},a.state={isDragging:!1},a}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hl(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var n=this;return g.a.createElement("div",{className:"table__row header",style:{width:this.props.rowWidth}},g.a.createElement("div",{className:"table__cell header select",onClick:function(e){return n.props.onCheckAll(e,!1)}},g.a.createElement(el,{name:"row-selector-all",id:"row-selector-all",text:"",defaultChecked:this.props.checkAll,value:this.props.checkAll,onChange:function(e){return n.props.onCheckAll(e,!0)}})),this.props.tableCells.map(function(t,e){if(n.colMenus[t.id]={menuRef:void 0,isOpen:!1},t.visible)return g.a.createElement("div",{className:"table__cell header","data-key":t.id,style:{width:t.width},onClick:function(){return n.props.onClickSort(t.id)},key:t.id},g.a.createElement("div",{className:"table__cell__label"},t.label),0<n.props.sortBy.length&&n.props.sortBy.some(function(e){return e.cell===t.id})&&g.a.createElement("span",{className:"icon-wrapper sorting ".concat(n.props.sortBy.filter(function(e){return e.cell===t.id})[0].direction)},g.a.createElement("i",{className:"sprite-icon-arrow-gray-down"})),n.renderContextMenu(t,e),g.a.createElement("span",{className:"drag-handle",onClick:function(e){return e.stopPropagation()},onMouseDown:function(){return n.setState({isDragging:!0})},onMouseMove:function(e){return n.handleDragMove(e)},onMouseUp:function(e){return n.handleDragEnd(e)}}))}))}}])&&dl(e.prototype,n),r&&dl(e,r),t}();function vl(e){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(e){return(gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _l=function(){function a(e){var t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=this,r=gl(a).call(this,e),(t=!r||"object"!==vl(r)&&"function"!=typeof r?bl(n):r).colMenus=[],t.doubleClick=!1,t.getContextMenuData=function(e){return{event:e,component:bl(t)}},t.handleRowClick=function(){t.doubleClick=!1,setTimeout(function(){t.doubleClick||t.props.onRowCheck(t.props.event.id)},200)},t.handleDoubleClick=function(e){t.doubleClick=!0,t.props.onEventEditorOpen(e,t.props.event)},t}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}(a,g.a.Component),e=a,(t=[{key:"render",value:function(){var n=this;return g.a.createElement(At.b,{id:"eventContextMenuReact",collect:function(){return n.getContextMenuData(n.props.event)},holdToDisplay:-1},g.a.createElement("div",{className:"table__row ".concat(this.props.event.selected?"selected":""),key:"".concat(this.props.index),onClick:function(){return n.handleRowClick()},onDoubleClick:function(e){return n.handleDoubleClick(e)},style:{width:this.props.rowWidth}},g.a.createElement("div",{className:"table__cell select"},g.a.createElement(el,{name:"row-selector-".concat(this.props.index),id:"row-selector-".concat(this.props.index),text:"",defaultChecked:this.props.event.selected,onChange:function(e){e.stopPropagation(),n.props.onRowCheck(n.props.event.id)},value:this.props.event.selected})),this.props.event.tableCells&&this.props.event.tableCells.map(function(e){var t=e.typeData;if(e.visible)return g.a.createElement("div",{className:"table__cell align-".concat(e.align?e.align:"left"," ").concat(n.props.wrapContent?"wrap-content":""," ").concat("choices"===e.customFieldType?"choices":""),key:e.id,"data-key":e.id,style:{width:e.width}},e.displayValue&&t&&(t.prefix||t.postfix||t.decimals)?ye.renderNumberField(parseFloat(e.displayValue),t.prefix,t.postfix,t.decimals):e.displayValue)})))}}])&&yl(e.prototype,t),n&&yl(e,n),a}();function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kl(e,t){return!t||"object"!==El(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ol(e){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dl=function(){function t(e){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=kl(this,Ol(t).call(this,e))).renderAggregatedCellLabel=function(e,t){var n,r=e.typeData;if(t&&"start"===e.id&&i.props.showSum){var a=t;n=g.a.createElement("span",{className:"duration-labels"},g.a.createElement("span",{className:"duration-labels__time"},0<a.allDay&&"".concat(a.allDay," days")," ",a.allDay&&a.hourly?" / ":"",0<a.hourly&&Object(q.a)(a.hourly)),g.a.createElement("a",{className:"duration-labels__link",href:"https://calendar.teamup.com/kb/sum-of-event-duration",target:"_blank"},g.a.createElement("i",{className:"sprite-icon-help"})))}else n=t&&e.typeData&&(r.prefix||r.postfix||r.decimals)?ye.renderNumberField(t,r.prefix,r.postfix,r.decimals):"number"!=typeof t||isNaN(t)?"":Math.round(100*t)/100;return n},i}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var n=this,t=[],o=[],e=Object.keys(this.props.events).filter(function(e){return n.props.events[+e].selected}).length,r=0===e?Object.keys(this.props.events).length:e,s=0===e;return Object.keys(this.props.events).map(function(e){return t.push({cells:n.props.events[+e].tableCells,allDay:n.props.events[+e].all_day})}),0<t.length&&t.forEach(function(i){i.cells.forEach(function(e,t){if(e.aggregatable){var n=e.aggregatable(e.value);if(s)if("start"===e.id){o[t]=o[t]||{allDay:0,hourly:0};var r=o[t];o[t]=i.allDay?{allDay:r.allDay+n,hourly:r.hourly}:{allDay:r.allDay,hourly:r.hourly+n}}else o[t]=(o[t]||0)+n;else if(e.selected)if("start"===e.id){o[t]=o[t]||{allDay:0,hourly:0};var a=o[t];o[t]=i.allDay?{allDay:a.allDay+n,hourly:a.hourly}:{allDay:a.allDay,hourly:a.hourly+n}}else o[t]=(o[t]||0)+n}else o[t]=!1})}),g.a.createElement("div",{className:"table__row footer ".concat(this.props.rowsSelected?"rows-selected":""),style:{width:this.props.rowWidth}},g.a.createElement("div",{className:"table__cell select footer"},r),this.props.tableCells.map(function(e,t){if(e.visible)return g.a.createElement("div",{className:"table__cell footer",key:e.id,"data-key":e.id,style:{width:e.width}},n.renderAggregatedCellLabel(e,o[t]))}))}}])&&Sl(e.prototype,n),r&&Sl(e,r),t}();function Tl(e){return(Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ml(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}j.a.partial("calendar");var Al=function(){function r(e){var c,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,n=jl(r).call(this,e),(c=!n||"object"!==Tl(n)&&"function"!=typeof n?Ml(t):n).handleEventsUpdate=function(e){c.updateEvents(e.events)},c.setAllowTooltip=function(e){c.setState({allowTooltip:e})},c.renderCellStartDate=function(e,t,n,r,a){return e.displayValue=t?t.start_dt.format(ue.a.get(a).replace("%time%",ue.a.get("time_moment"))):void 0,e.value=t?t.all_day?Math.round(T.a.duration(r.diff(n),"milliseconds").asDays()):T.a.duration(r.diff(n)).asHours():void 0,e.aggregatable=function(e){return+e},e.sortValue=t?T()(t.start_dt).unix():"",e},c.renderCellEndDate=function(e,t,n,r){return e.displayValue=t?t.end_dt.format(ue.a.get(r).replace("%time%",ue.a.get("time_moment"))):void 0,e.value=t?n.format(ue.a.get(r).replace("%time%",ue.a.get("time_moment"))):void 0,e.sortValue=t?T()(t.end_dt).unix():"",e},c.renderCellDuratuion=function(e,t,n,r){return e.displayValue=t?t.all_day?"".concat(Math.round(T.a.duration(r.diff(n),"milliseconds").asDays())," days"):Object(q.a)("".concat(T.a.duration(r.diff(n)).asHours())):void 0,e.value=t?t.all_day?Math.round(T.a.duration(r.diff(n),"milliseconds").asDays()):T.a.duration(r.diff(n)).asHours():void 0,e.aggregatable=function(e){return+e},e.sortValue=t?T.a.duration(T.a.utc(t.end_dt.diff(t.start_dt)).format("HH:mm")).asHours():"",e},c.renderCellRecurrence=function(e,t){return e.displayValue=t?new Gs(t.rrule).getDescription(t.start_dt):void 0,e.value=t?new Gs(t.rrule).getDescription(t.start_dt):void 0,e.sortValue=t?t.rrule:"",e},c.renderCellTitle=function(e,t){return e.displayValue=t?g.a.createElement("div",{className:"agenda-event-text-wrapper"},g.a.createElement("span",{className:"table-event__title"},g.a.createElement(At.b,{id:"eventContextMenuReact",collect:function(){return jn(t,Ml(c))},holdToDisplay:-1},g.a.createElement(ct.a,{component:"a",id:"event-tooltip",onClick:function(e){return xn(e,t)},collect:function(){return Pn(t)},className:"event-title-link cal-text-"+ye.getVisibleSubcalendars(t)[0].color+" teamup-event-id-"+t.id,disabled:!c.state.allowTooltip},0<t.title.length?g.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(fe.b)(Object(de.b)(t.title))}}):g.a.createElement(We.a,{message:"calendar.defaultEventTitleText"}),Mn(t,c.props.readOnly,"table-title__icons",!1,!1))))):void 0,e.value=t?t.title:void 0,e.sortValue=t?t.title:"",e.width=200,e.active=!0,e.visible=!0,e},c.renderCellCalendars=function(e,t){return e.displayValue=t?g.a.createElement("div",null,t.subcalendars.map(function(t){var e=t.virtual?"blue":"white";return g.a.createElement("span",{className:"calendar cal-bg-".concat(t.color),key:t.id},t.name,g.a.createElement(ct.a,{component:"i",className:"show-only-button sprite-icon-eye-"+e,onClick:function(e){e.preventDefault(),e.stopPropagation(),ut.a.showOnlyResource(t)},message:t.children.length?"subcalendar_list.show_only_this_group":"subcalendar_list.show_only_this",id:"generic-tooltips"}))})):void 0,e.value=t?t.subcalendars:void 0,e.sortValue=t?t.subcalendars[0].name:"",e.width=150,e.active=!0,e.visible=!0,e},c.renderCellLocation=function(e,t){return e.displayValue=t?t.location:void 0,e.value=t?t.location:void 0,e.sortValue=t?t.location:"",e.width=100,e.active=!0,e.visible=!0,e},c.renderCellWho=function(e,t){return e.displayValue=t?t.who:void 0,e.value=t?t.who:void 0,e.sortValue=t?t.who:"",e.width=100,e.active=!0,e.visible=!0,e},c.renderCellNotes=function(e,t){return e.displayValue=t?Object(de.e)(t.notes||""):void 0,e.value=t?Object(de.e)(t.notes||""):void 0,e.sortValue=t?t.notes:"",e.width=200,e.active=!0,e.visible=!0,e},c.renderCellSignup=function(e,t){return e.displayValue=t&&t.signups?t.signups.length:0,e.value=t&&t.signups?t.signups.length:0,e.sortValue=t&&t.signups?t.signups.length:0,e.aggregatable=function(e){return+e},e.align="right",e.width=100,e.active=!0,e.visible=!1,e},c.renderCellComments=function(e,t){return(e=c.renderCellSignup(e,t)).displayValue=t&&t.comments?t.comments.length:0,e.value=t&&t.comments?t.comments.length:0,e.sortValue=t&&t.comments?t.comments.length:0,e.aggregatable=function(e){return+e},e.align="right",e.width=100,e.active=!0,e.visible=!1,e},c.renderCellNumberField=function(e,t){return e.align="right",e.aggregatable=function(e){return+e},e.sortValue=t&&t.custom&&t.custom[e.id]?+t.custom[e.id]:"",e.displayValue=t&&t.custom&&t.custom[e.id]?t.custom[e.id]:"",e.value=t&&t.custom&&t.custom[e.id]?t.custom[e.id]:"",e.customFieldType="number",e},c.renderCellTextField=function(e,t){return e.value=t&&t.custom&&t.custom[e.id]?t.custom[e.id]:"",e.displayValue=t&&t.custom&&t.custom[e.id]?t.custom[e.id]:"",e.customFieldType="text",e.aggregatable=!1,e.sortValue=t&&t.custom&&t.custom[e.id]?t.custom[e.id]:"",e},c.renderCellChoicesField=function(n,t){if(t&&t.custom&&t.custom[n.id]){var r=n.typeData.options.filter(function(e){return e.active||-1!==t.custom[n.id].indexOf(e.id)}).map(function(e){return{id:e.id,name:e.name,color:e.color,emoji:e.emoji,readonly:!1,visible:!0}});n.displayValue=g.a.createElement("div",{className:"choices"},t.custom[n.id].map(function(t){var e=r.filter(function(e){return e.id===t})[0];return n.sortValue=t||"",g.a.createElement("div",{className:"choices__single Select-value cal-bg-".concat(e.color)},g.a.createElement("span",{className:"choices__single__emoji"},e.emoji),g.a.createElement("span",{className:"choices__single__value cal-text-".concat(e.color)},e.name))}))}return n.aggregatable=!1,n.sortValue=t&&t.custom&&t.custom[n.id]?t.custom[n.id]:"",n},c.getTableCellStates=function(e,n){var r=re.getState(),a={};return e.map(function(t){a[t.id]={current:n.filter(function(e){return e.id===t.id})[0],storage:r.tableViewConfig.tableCells.filter(function(e){return e.id===t.id})[0],default:t}}),a},c.setTableCellState=function(e,t){var n=t[e.id];return n.current?(e.visible=n.current.visible,e.width=n.current.width,e.position=n.current.position):n.storage&&(e.visible=n.storage.visible,e.width=n.storage.width,-1===n.storage.position?e.position=n.default.position:e.position=n.storage.position),e},c.getTableCells=function(t,e){var n=xl(c.props.definitions),r=(null==t?void 0:t.all_day)?"date_year_moment":"date_year_time_moment",a=null==t?void 0:t.start_dt,i=null==t?void 0:t.end_dt,o=c.props.viewStartDate.clone().startOf("day"),s=c.props.viewEndDate.clone().add(1,"day").startOf("day");i=(null==t?void 0:t.all_day)?(a=(null==t?void 0:t.start_dt.isBefore(c.props.viewStartDate,"day"))?c.props.viewStartDate.clone().set({h:null==t?void 0:t.start_dt.hours(),m:null==t?void 0:t.start_dt.minutes()}):null==t?void 0:t.start_dt,(null==t?void 0:t.end_dt.isAfter(c.props.viewEndDate,"day"))?c.props.viewEndDate.clone().set({h:null==t?void 0:t.end_dt.hours(),m:null==t?void 0:t.end_dt.minutes()}):null==t?void 0:t.end_dt):(a=(null==t?void 0:t.start_dt.isBefore(c.props.viewStartDate,"day"))?o:null==t?void 0:t.start_dt,(null==t?void 0:t.end_dt.isAfter(c.props.viewEndDate,"day"))?s:null==t?void 0:t.end_dt);var l=Object(q.b)(n,!1),u=c.getTableCellStates(l,e);return l.map(function(e){e.selected=!!t&&t.selected,e.aggregatable=!1,"start"===e.id&&a&&i?e=c.renderCellStartDate(e,t,a,i,r):"end"===e.id&&a&&i?e=c.renderCellEndDate(e,t,i,r):"duration"===e.id&&a&&i?e=c.renderCellDuratuion(e,t,a,i):"recurrence"===e.id?e=c.renderCellRecurrence(e,t):"builtin_title"===e.id?e=c.renderCellTitle(e,t):"builtin_calendars"===e.id?e=c.renderCellCalendars(e,t):"builtin_location"===e.id?e=c.renderCellLocation(e,t):"builtin_who"===e.id?e=c.renderCellWho(e,t):"builtin_notes"===e.id?e=c.renderCellNotes(e,t):"builtin_signup"===e.id?e=c.renderCellSignup(e,t):"builtin_comments"===e.id&&(e=c.renderCellComments(e,t)),"number"===(e=c.setTableCellState(e,u)).definitionType?e=c.renderCellNumberField(e,t):"single_line_text"===e.definitionType?e=c.renderCellTextField(e,t):"choices"===e.definitionType&&(e=c.renderCellChoicesField(e,t))}),l.sort(function(e,t){return e.position-t.position}),l},c.getRowWidth=function(){var t=0;return c.state.tableCells.forEach(function(e){e.visible&&(t+=e.width)}),t},c.handleColumnVisibilityChange=function(e,t){e.stopPropagation();var n=re.getState();y.setTableViewConfig({dateRange:n.tableViewConfig.dateRange,numberOfDays:n.tableViewConfig.numberOfDays,numberOfWeeks:n.tableViewConfig.numberOfWeeks,wrapContent:n.tableViewConfig.wrapContent,showSum:n.tableViewConfig.showSum,tableCells:t,customStartDate:n.tableViewConfig.customStartDate,customEndDate:n.tableViewConfig.customEndDate}),c.setState({tableCells:t})},c.moveColumnLeft=function(e,n){var r=xl(c.state.tableCells),t=r.reduce(function(e,t){return Math.abs(t.position-r[n].position)<Math.abs(e.position-r[n].position)&&t.position<r[n].position&&t.visible?t:e}).position;if(0<=t){var a=r.findIndex(function(e){return e.position===t});r[a].position=r[n].position,r[n].position=t,r.sort(function(e,t){return e.position-t.position}),c.handleColumnVisibilityChange(e,r)}},c.moveColumnRight=function(e,n){var r=xl(c.state.tableCells),t=r.filter(function(e){return e.position>r[n].position}).reduce(function(e,t){return Math.abs(t.position-r[n].position)<Math.abs(e.position-r[n].position)&&t.position>r[n].position&&t.visible?t:e}).position;if(t<=r.length){var a=r.findIndex(function(e){return e.position===t});r[a].position=r[n].position,r[n].position=t,r.sort(function(e,t){return e.position-t.position}),c.handleColumnVisibilityChange(e,r)}},c.hideColumn=function(e,t){var n=xl(c.state.tableCells);n[t].visible=!1,c.handleColumnVisibilityChange(e,n)},c.clickSort=function(t){var e=xl(c.state.sortBy);0<c.state.sortBy.filter(function(e){return e.cell===t}).length?(e.map(function(e){e.cell===t&&(e.direction="asc"===e.direction?"desc":"asc")}),c.setState({sortBy:e})):c.sortColumn(t,"asc",!1)},c.sortColumn=function(e,t,n){var r;r=n?[].concat(xl(c.state.sortBy),[{cell:e,direction:t}]):[{cell:e,direction:t}],c.setState({sortBy:r})},c.checkSingleRow=function(t){var n=Object.assign({},c.state.events);Object.keys(n).map(function(e){n[+e].id===t&&(n[+e].selected=!n[+e].selected)}),c.setState({events:n})},c.checkAllRows=function(e,t){var n=Object.assign({},c.state.events);t&&e.stopPropagation(),Object.keys(n).map(function(e){n[+e].selected=!c.state.checkAll}),c.setState({checkAll:!c.state.checkAll})},c.getSortedEvents=function(e){var n=[],r=[];return c.state.sortBy.forEach(function(t){n.push(function(e){return e.tableCells?e.tableCells.filter(function(e){return e.id===t.cell})[0].sortValue:0}),r.push(t.direction)}),Us()(e,n,r)},c.renderBodyRows=function(n,r){return g.a.createElement(g.a.Fragment,null,Object.keys(n).map(function(e,t){return g.a.createElement(Hs.a,{scrollContainer:".calendar-body-content--table-view",height:30,offset:2e3},g.a.createElement(_l,{rowWidth:r,wrapContent:c.props.wrapContent,event:n[+t],index:t,onRowCheck:function(e){return c.checkSingleRow(e)},onEventEditorOpen:function(e,t){return xn(e,t)},key:n[+t].id}))}))},c.renderNoEventsMessage=function(){return g.a.createElement("div",{className:"no-events-message"},g.a.createElement(We.a,{component:"div",className:"no-results",message:"agenda_view.noEventsText"}))},c.state={calendarHeaderHeight:54,checkAll:!1,events:Ue.getState().events,allowTooltip:!0,tableCells:c.getTableCells(void 0,[]),sortBy:[{cell:"start",direction:"asc"}]},c}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(r,g.a.Component),e=r,(t=[{key:"componentDidMount",value:function(){var e,t=(null===(e=document.querySelector(".calendar-header"))||void 0===e?void 0:e.clientHeight)||0;this.setState({calendarHeaderHeight:t}),Ue.listen(this.handleEventsUpdate)}},{key:"componentWillUnmount",value:function(){Ue.unlisten(this.handleEventsUpdate)}},{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"render",value:function(){var r=this,t=Object.assign({},this.state.events),e=this.getRowWidth(),n=Object.keys(t).some(function(e){return t[e].selected}),a=0<this.state.sortBy.length,i=0<Object.keys(t).length;return Object.keys(t).forEach(function(e){return t[+e].tableCells=r.getTableCells(t[+e],r.state.tableCells)}),a&&(t=this.getSortedEvents(t)),g.a.createElement("div",{className:"table-view ".concat(this.props.sidebarExpanded?"":"collapsed")},g.a.createElement("div",{className:"filter-wrapper",style:{top:40+this.state.calendarHeaderHeight}},g.a.createElement(ll,{onViewChange:this.props.onViewChange,onColumVisibilityChange:function(e,t){return r.handleColumnVisibilityChange(e,t)},views:this.props.views,tableView:this.props.tableView,hideWeekend:this.props.hideWeekend,readOnly:this.props.readOnly,tableCells:this.state.tableCells,rowsSelected:n})),g.a.createElement("div",{className:"table"},g.a.createElement(ml,{rowWidth:e,checkAll:this.state.checkAll,tableCells:this.state.tableCells,sortBy:this.state.sortBy,onColumnMoveLeft:function(e,t){return r.moveColumnLeft(e,t)},onColumnMoveRight:function(e,t){return r.moveColumnRight(e,t)},onColumnHide:function(e,t){return r.hideColumn(e,t)},onClickSort:function(e){return r.clickSort(e)},onColumnSort:function(e,t,n){return r.sortColumn(e,t,n)},onCheckAll:function(e,t){return r.checkAllRows(e,t)},onColumnVisibilityChange:function(e,t){return r.handleColumnVisibilityChange(e,t)}}),i?this.renderBodyRows(t,e):this.renderNoEventsMessage(),g.a.createElement(Dl,{rowWidth:e,showSum:this.props.showSum,rowsSelected:n,events:t,tableCells:this.state.tableCells})))}}])&&Pl(e.prototype,t),n&&Pl(e,n),r}();function Ll(e){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(e,t){return!t||"object"!==Ll(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Fl(e){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vl(e,t){return(Vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ul=function(){function i(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(o=Il(this,Fl(i).call(this,e))).handleTableViewChange=function(t,e,n,r){var a,i=o.state.views.find(function(e){return e.id===t});a=n?Object.assign(Object.assign({},i),e):Object.assign(Object.assign(Object.assign({},i),o.state.viewConfig),e),i&&(o.state.tableView.id===i.id&&!n||y.setTableView(a)),o.setState({tableView:a,viewConfig:Object.assign(Object.assign({},o.state.viewConfig),e),wrapContent:r})};var t=o.initAbstractState(),n=re.getState(),r=Object(q.c)(!1).map(function(e){return"multi-day"===e.id?(e.range=n.tableViewConfig.numberOfDays||5,e.step=n.tableViewConfig.numberOfDays||5):"multi-week"===e.id&&(e.range=7*n.tableViewConfig.numberOfWeeks||35,e.step=n.tableViewConfig.numberOfWeeks||5),e}),a=r.filter(function(e){return e.id===n.tableView.id})[0];return o.state=Object.assign(t,{viewConfig:{},key:Date.now().toString(),tableView:a,views:r,definitions:n.fields.definitions,sidebarExpanded:n.sidebar.expanded,viewStartDate:n.datetime.viewStartDate,viewEndDate:n.datetime.viewEndDate,wrapContent:n.tableViewConfig.wrapContent,showSum:n.tableViewConfig.showSum}),o}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vl(e,t)}(i,dr),e=i,(t=[{key:"componentDidMount",value:function(){re.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleCalendarStateUpdate)}},{key:"updateEvents",value:function(){}},{key:"render",value:function(){return g.a.createElement(Al,{currentView:this.state.currentView,readOnly:this.state.readOnly,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,startHour:this.state.startHour,endHour:this.state.endHour,grid:this.state.grid,isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco,showCurrentTime:this.state.showCurrentTime,onViewChange:this.handleTableViewChange,views:this.state.views,tableView:this.state.tableView,key:this.state.key,definitions:this.state.definitions,wrapContent:this.state.wrapContent,showSum:this.state.showSum,sidebarExpanded:this.state.sidebarExpanded})}}])&&Rl(e.prototype,t),n&&Rl(e,n),i}(),Yl=n(454),Hl=n.n(Yl);function Bl(e){return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zl(e,t){return!t||"object"!==Bl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Gl(e){return(Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kl(e,t){return(Kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ql=function(){function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=zl(this,Gl(r).call(this,e))).monthsHandler=function(e){var t=parseInt(e.currentTarget.value);y.setViewSetting("year","number",t,!0),n.setState({months:t})};var t=n.initAbstractState();return n.state=Object.assign(t,{events:Ue.getState().events,subcalendars:N.a.getState().resources,months:re.getState().views.year.number}),n}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kl(e,t)}(r,dr),e=r,(t=[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"renderHeader",value:function(){return g.a.createElement("div",{className:"filter-view"},g.a.createElement("div",{className:"filter-view-hd"},g.a.createElement("div",{className:"filter-view-flex-wrapper"},g.a.createElement("section",null,g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"year_view.numberOfMonthsText",component:"label"})),g.a.createElement("select",{name:"month-count",className:"filter-view-input filter-view__range-select",defaultValue:this.state.months.toString(),onChange:this.monthsHandler},Hl()(1,13).map(function(e){return g.a.createElement("option",{value:e,key:"value"+e},e)}))))))}},{key:"render",value:function(){var e=re.getState().views.year,t=void 0===e.showHeader||e.showHeader;return g.a.createElement("div",{className:this.props.className},t&&this.renderHeader(),g.a.createElement("div",{className:"year-view-body"},g.a.createElement(Xi,{view:this.state.currentView,readOnly:this.state.readOnly,events:this.state.events,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,rowsCount:this.state.months,cellsCount:37,subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,showHeader:!0,isHeaderView:!1,leftGutterWidth:this.props.leftGutterWidth,isPdf:this.state.isPdf,formatPdfEco:this.state.formatPdfEco})))}}])&&Wl(e.prototype,t),n&&Wl(e,n),r}();ql.defaultProps={className:"year-view",leftGutterWidth:"70px"};var $l=ql;n(576),n(577);function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zl(e,t){return!t||"object"!==Jl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Xl(e,t,n){return(Xl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=eu(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nu=function(){function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=Zl(this,eu(n).call(this,e))).handleStateUpdate=function(e){e.views.search.query!==r.state.query&&(r.setState({query:e.views.search.query}),r.queryEl&&(r.queryEl.value=e.views.search.query||"")),e.datetime.visibleStartDate.isSame(r.state.minEndDate)||r.setState({minEndDate:e.datetime.visibleStartDate})},r.queryHandler=function(e){var t=e.currentTarget.value,n=r.validateQuery(t);r.setState({errors:n})},r.startDateHandler=function(e){r.endDatePicker.getValue().isBefore(e)&&r.endDatePicker.setValue(e.clone().add(r.endDatePicker.getValue().diff(r.state.minEndDate,"hours")+12,"hours").startOf("day")),r.setState({minEndDate:e})},r.showDetailsHandler=function(e){y.setSearchShowDetails(e.currentTarget.checked),r.setState({showDetails:e.currentTarget.checked})},r.handleSearch=function(){var e=r.getValues();0==r.state.errors.length&&y.doSearch(e.query,e.showDetails,e.startDate,e.endDate)},r.cancelSearch=function(){y.setView(re.getState().views.lastNonSearchViewId)};var t=r.initAbstractState();return r.state=Object.assign(t,{events:Ue.getState().events,query:re.getState().views.search.query,showDetails:re.getState().views.search.showDetails,errors:[],minEndDate:t.visibleStartDate}),r}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(n,dr),e=n,(t=[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"componentDidMount",value:function(){Xl(eu(n.prototype),"componentDidMount",this).call(this),re.listen(this.handleStateUpdate)}},{key:"componentWillUnmount",value:function(){Xl(eu(n.prototype),"componentWillUnmount",this).call(this),re.unlisten(this.handleStateUpdate)}},{key:"componentDidUpdate",value:function(e,t){this.startDatePicker&&!this.state.visibleStartDate.isSame(t.visibleStartDate)&&this.startDatePicker.setValue(this.state.visibleStartDate),this.endDatePicker&&!this.state.visibleEndDate.isSame(t.visibleEndDate)&&this.endDatePicker.setValue(this.state.visibleEndDate)}},{key:"handleKeyPress",value:function(e){27!==e.keyCode||e.defaultPrevented?13!==e.keyCode||e.defaultPrevented||this.handleSearch():this.cancelSearch()}},{key:"getValues",value:function(){return{query:this.queryEl.value,showDetails:this.state.showDetails,startDate:this.startDatePicker.getValue(),endDate:this.endDatePicker.getValue()}}},{key:"validateQuery",value:function(e){if((e=e.replace(/(from|to): ?(.*?) /gi,"").trim()).length<2)return[j.a.trans("calendar:search.queryField.tooShort")];if(100<e.length)return[j.a.trans("calendar:search.queryField.tooLong")];var t=e.match(/([+-]\"[^\"]+\"|\"[^\"]+\"|[+-]\w+|\w+)\s*/g);return t&&8<t.length?[j.a.trans("calendar:search.queryField.tooManyTerms")]:[]}},{key:"renderErrors",value:function(){var e=[];return 0<this.state.errors.length&&(e=this.state.errors.map(function(e,t){return g.a.createElement("span",{key:"search-error-"+t,className:"search-query-errors"},e)})),g.a.createElement("nav",{className:"react-contextmenu tooltip-renderer error-wrapper"},e)}},{key:"renderHeader",value:function(){var t=this;return g.a.createElement("div",{className:"filter-view-hd"+(0<this.state.errors.length?" has-error":"")},g.a.createElement("div",{className:"filter-view-flex-wrapper"},g.a.createElement("section",{className:"filter-view-row1"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"calendar:search.queryField.label",component:"label"}),g.a.createElement("a",{href:"http://calendar.teamup.com/kb/searching-teamup-calendar/",target:"_blank"},g.a.createElement("i",{className:"sprite-icon-bookmark icon-offset-normal"}),j.a.trans("calendar:search.searchGuide"))),g.a.createElement("input",{type:"text",ref:function(e){t.queryEl=e},name:"query",className:"search-query-input",defaultValue:this.state.query,onChange:this.queryHandler,onBlur:this.queryHandler,onKeyDown:this.handleKeyPress.bind(this),placeholder:j.a.trans("calendar:search.queryField.emptyText"),autoFocus:!0}),this.renderErrors()),g.a.createElement("section",{className:"filter-view-flex-row2"},g.a.createElement("div",{className:"search__date-picker"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"search.dateRangeField.startDate",component:"label"})),g.a.createElement(tl.a,{ref:function(e){t.startDatePicker=e},name:"start_date",defaultValue:this.state.visibleStartDate,onChange:this.startDateHandler,weekStart:this.state.weekStart})),g.a.createElement("div",{className:"search__date-picker"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement(We.a,{message:"search.dateRangeField.endDate",component:"label"})),g.a.createElement(tl.a,{ref:function(e){t.endDatePicker=e},name:"end_date",defaultValue:this.state.visibleEndDate,weekStart:this.state.weekStart,minDate:this.state.minEndDate})),g.a.createElement("div",{className:"search__show-details"},g.a.createElement("div",{className:"filter-view__filters-label"},g.a.createElement("label",{className:"list-show-details-checkbox-label",htmlFor:"agenda-show-details-checkbox"},g.a.createElement(We.a,{message:"agenda_view.showDetailsText"}))),g.a.createElement(M.a,{type:"checkbox",name:"agenda-show-details-toggle",className:"filter-view-input filter-view--checkbox",id:"agenda-show-details-checkbox",defaultChecked:this.state.showDetails,onChange:this.showDetailsHandler})),g.a.createElement("div",{className:"buttons-section"},g.a.createElement("a",{className:"btn__state-green",onClick:this.handleSearch},j.a.trans("calendar:search.searchBtn")),g.a.createElement("a",{className:"btn__state",onClick:this.cancelSearch},j.a.trans("calendar:search.closeBtn"))))))}},{key:"render",value:function(){var e=[],t=re.getState();return 0<t.views.search.offset&&e.push(g.a.createElement(We.a,{component:"a",key:"prev",onClick:y.searchPrevPage,className:"previous-link",section:"calendar",message:"agenda_view.prevLinkText"})),this.state.events.length>=t.views.search.limit&&(e.length&&e.push(g.a.createElement("span",{key:"sep"},"|")),e.push(g.a.createElement(We.a,{component:"a",key:"next",onClick:y.searchNextPage,className:"next-link",section:"calendar",message:"agenda_view.nextLinkText"}))),g.a.createElement("div",{className:"search-view agenda-view list-view"},g.a.createElement("div",{className:"filter-view "},this.renderHeader()),g.a.createElement(ir,{events:ye.splitEventsByListGrouping(this.state.events,this.state.viewStartDate,this.state.viewEndDate,"month",!1,!0),subcalendars:N.a.getState().resources,groupBySelectValue:"month",showDetails:this.state.showDetails,oneToManyLayoutStripe:!1,isAgendaView:!1,pageLinks:e,readOnly:this.state.readOnly}))}}])&&Ql(e.prototype,t),r&&Ql(e,r),n}(),ru=n(403);function au(e){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ou(e,t){return!t||"object"!==au(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function su(e){return(su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uu=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ou(this,su(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){return g.a.createElement(Xt.a,{title:this.props.title?this.props.title:"calendar:event.delete_confirm.title",yesText:"core_js:yes",noText:"core_js:cancel",onEnter:this.props.onConfirm,onYes:this.props.onConfirm,onNo:this.props.onCancel},this.props.text?g.a.createElement("p",null,this.props.text):g.a.createElement(a.Fragment,null,g.a.createElement(We.a,{section:"calendar",message:"event.delete_confirm.text_1"}),g.a.createElement(We.a,{section:"calendar",message:"calendar:event.delete_confirm.text_2",params:{kb_url:"https://calendar.teamup.com/kb/delete-confirmation/"},className:"note",component:"p"})))}}])&&iu(e.prototype,n),r&&iu(e,r),t}();function cu(e){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t&&fu(e.prototype,t),n&&fu(e,n),e}function hu(e,t){return!t||"object"!==cu(t)&&"function"!=typeof t?mu(e):t}function mu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vu(e){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bu=function(){function n(e){var t;return du(this,n),(t=hu(this,vu(n).call(this,e))).onShowMenu=function(e){t.setState({event:e.detail.data.event,triggerComponent:e.detail.data.component}),e.detail.data.component.setAllowTooltip(!1)},t.onHideMenu=function(){t.state.triggerComponent&&t.state.triggerComponent.setAllowTooltip(!0),t.setState({event:void 0,triggerComponent:void 0})},t.handleShowREditPrompt=function(e){t.setState({reditPromptHandler:e})},t.handleShowDeletePrompt=function(e){t.setState({deletePromptHandler:e})},t.renderMenu=function(){return t.state.event?g.a.createElement(wu,{event:t.state.event,onShowREditPrompt:t.handleShowREditPrompt,onDeleteEventPrompt:t.handleShowDeletePrompt,onExport:t.props.onExport}):g.a.createElement("div",null)},t.state={event:void 0,triggerComponent:void 0,reditPromptHandler:!1,deletePromptHandler:!1},t}return yu(n,g.a.Component),pu(n,[{key:"renderREditPrompt",value:function(){var e=this;if(this.state.reditPromptHandler)return g.a.createElement(ni,{onPick:this.state.reditPromptHandler,onCancel:function(){e.setState({reditPromptHandler:!1})}})}},{key:"renderDeletePrompt",value:function(){var e=this;if(this.state.deletePromptHandler)return g.a.createElement(uu,{onConfirm:this.state.deletePromptHandler,onCancel:function(){e.setState({deletePromptHandler:!1})}})}},{key:"render",value:function(){return g.a.createElement("div",null,g.a.createElement(At.a,{className:"event-context-menu",id:"eventContextMenuReact",onShow:this.onShowMenu,onHide:this.onHideMenu},this.renderMenu()),this.renderREditPrompt(),this.renderDeletePrompt())}}]),n}(),wu=function(){function t(e){var n;return du(this,t),(n=hu(this,vu(t).call(this,e))).printClick=function(){xe.a.printEvent(n.props.event.id)},n.initMoveDatePicker=function(e){if(e){var t=Y()(n.baseDatePickerOpts);t.onChange=n.handleMoveDateChange.bind(mu(n)),n.moveDatePicker=gt()(e,t)}else Object(bt.a)(null,null,n.moveDatePicker),n.moveDatePicker.destroy()},n.initCopyDatePicker=function(e){if(e){var t=Y()(n.baseDatePickerOpts);t.onChange=n.handleCopyDateChange.bind(mu(n)),n.copyDatePicker=gt()(e,t)}else Object(bt.a)(null,null,n.copyDatePicker),n.copyDatePicker.destroy()},n.handleCopyDateChange=function(e){Ce.copyEventToDate(n.props.event,T()(e[0])),Object(At.e)()},n.handleMoveDateChange=function(e){Ce.shiftEventToDate(n.props.event,T()(e[0])),Object(At.e)()},n.deleteEventClick=function(){n.props.event.rrule?n.props.onShowREditPrompt(n.deleteRecurrentEvent):re.getState().eventDeleteConfirmationEnabled?n.props.onDeleteEventPrompt(n.deleteEvent):n.deleteEvent(),n.forceUpdate(),Object(At.e)()},n.duplicateEvent=function(){var e=Object.assign({},n.props.event);e.id="",e.rrule="",delete e.subcalendar_id,delete e.tableCells,e.subcalendar_ids=[],xe.a.openEventEditor(e)},n.deleteRecurrentEvent=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(n.props.event.redit=e),Ce.deleteEvent(n.props.event).then(function(){return n.props.onShowREditPrompt(!1)})},n.deleteEvent=function(){Ce.deleteEvent(n.props.event).then(function(){return n.props.onDeleteEventPrompt(!1)})},n.renderSharingMenu=function(){var e=ru.a.getAvailableServices(re);return e.length?g.a.createElement(At.d,{className:"event-share-menu",title:g.a.createElement("span",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-share"})),g.a.createElement(We.a,{component:"a",message:"event.menu.export"}))},e.map(n.renderExportItem)):null},n.renderExportItem=function(e,t){return g.a.createElement(At.c,{key:t,onClick:function(){return n.handleExportItemClick(e)}},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:e.icon})),g.a.createElement(We.a,{message:e.label,component:"a"}))},n.handleExportItemClick=function(e){n.props.onExport&&n.props.onExport(n.props.event,e)},n.initOptions(e),n}return yu(t,g.a.Component),pu(t,[{key:"componentDidUpdate",value:function(e){this.initOptions(e)}},{key:"initOptions",value:function(e){var t=e.event.ristart_dt?e.event.ristart_dt.toDate():e.event.start_dt.toDate(),n={firstDayOfWeek:re.getState().datetime.weekStart,weekdays:{shorthand:T.a.weekdaysShort(),longhand:T.a.weekdays()},months:{shorthand:T.a.monthsShort(),longhand:T.a.months()}};this.baseDatePickerOpts={allowInput:!1,dateFormat:"Y-m-d",defaultDate:t,inline:!0,locale:n,onReady:bt.b};try{this.moveDatePicker&&this.moveDatePicker.setDate(t)}catch(e){this.initMoveDatePicker(null)}try{this.copyDatePicker&&this.copyDatePicker.setDate(t)}catch(e){this.initCopyDatePicker(null)}}},{key:"render",value:function(){var e=this,t=this.props.event.readonly,n=N.a.getState().resources.filter(function(e){return!e.readonly}).map(function(e){return e.id}),r=this.props.event.subcalendar_ids.filter(function(e){return-1!==n.indexOf(e)}).length===this.props.event.subcalendar_ids.length;return g.a.createElement("div",null,g.a.createElement(At.c,{onClick:this.printClick},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-print"})),g.a.createElement(We.a,{component:"a",message:"event.menu.print"})),this.renderSharingMenu(),!1===t&&g.a.createElement(At.c,{onClick:this.deleteEventClick},g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-verify-no"})),g.a.createElement(We.a,{component:"a",message:"event.menu.delete"})),g.a.createElement(At.c,{divider:!0}),!1===t&&g.a.createElement(At.d,{title:g.a.createElement("span",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-move"})),g.a.createElement(We.a,{component:"a",message:"event.menu.moveTo"}))},g.a.createElement("div",{className:"event-context-menu__date-picker"},g.a.createElement("div",{ref:this.initMoveDatePicker}),g.a.createElement("a",{className:"event-context-menu__date-picker__today-button",onClick:function(){return e.handleMoveDateChange([new Date])}},g.a.createElement(We.a,{message:"today"})))),1==r&&g.a.createElement(At.d,{title:g.a.createElement("span",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-copy"})),g.a.createElement(We.a,{component:"a",message:"event.menu.copyTo"}))},g.a.createElement("div",{className:"event-context-menu__date-picker"},g.a.createElement("div",{ref:this.initCopyDatePicker}),g.a.createElement("a",{className:"event-context-menu__date-picker__today-button",onClick:function(){return e.handleCopyDateChange([new Date])}},g.a.createElement(We.a,{message:"today"})))),!0!==window.CALENDAR_SETTINGS.readOnly&&g.a.createElement(At.c,{onClick:this.duplicateEvent},g.a.createElement("span",null,g.a.createElement("span",{className:"icon-wrapper"},g.a.createElement("i",{className:"sprite-icon-copy"})),g.a.createElement(We.a,{component:"a",message:"event.menu.duplicate"}))))}}]),t}(),_u=n(389),Eu=n.n(_u),Su=n(481);function ku(e){return(ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cu(e,t){return!t||"object"!==ku(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tu(e,t){return(Tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xu={timeline:Fs,table:Ul,scheduler:Ho,day:Ro,multiday:Ro,week:Ro,multiweek:oo,month:oo,year:$l,list:kr,agenda:gr,search:nu},Pu=!!navigator.platform.match(/(iPhone|iPod|iPad)/i),ju=!(!navigator.platform.match(/Mac/i)&&!Pu),Mu=Eu()(),Nu=navigator.userAgent.match(/AppleWebKit\/(\d+(\.\d+)?)(.\d+)?/),Au=!!navigator.userAgent.match(/Chrome\/.*/)&&!navigator.userAgent.match(/Midori\/.*/),Lu=ju&&-1!==Mu.browser.name.indexOf("Safari")&&parseFloat(Mu.browser.version)<11||Pu&&parseFloat(Mu.os.version)<11||!!navigator.userAgent.match(/SMART-TV/)||"Chrome"===Mu.browser.name&&parseFloat(Mu.browser.version)<51||!Au&&Nu&&parseFloat(Nu[1])<=604.1&&!(604.1===parseFloat(Nu[1])&&Nu[3]&&.38<=parseFloat(Nu[3])),Ru=function(){function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=Cu(this,Du(n).call(this,e))).scrollPositions={},r.safariResizeListener=function(){r.fixSafariHeightBug(),r.forceUpdate()},r.setTimelineViewOffset=function(){var e=document.querySelector(".calendar-body-content");"timeline"===r.state.view?e.style.marginTop="63px":e.style.marginTop="0"},r.handleStoreUpdate=function(e){var t=e.views.current;t!==r.state.view&&r.setState({view:t}),e.timelineView&&e.timelineView.id!==r.state.timelineView.id&&r.setState({timelineView:e.timelineView});var n=e.datetime.currentDate;n.isSame(r.state.currentDate)||r.setState({currentDate:n})},r.handleExport=function(e,t){"teamup"===t.name?r.setState({eventForCopyPrompt:e}):ru.a.exportTo(t.name,e,{appBaseUrl:window.APP_BASE_URL,timezone:re.getState().timezone.value,appKey:window.APP_KEY})},r.handleCopyPromptCancel=function(){r.setState({eventForCopyPrompt:null})},r.handleCopyExport=function(e,t){ru.a.exportToTeamup(e,t),r.setState({eventForCopyPrompt:null})};var t=re.getState();return Object.keys(xu).forEach(function(e){r.scrollPositions[e]=!1}),r.state={view:t.views.current,currentDate:t.datetime.currentDate,scrollStartHour:Math.max(t.datetime.startHour,t.datetime.scrollStartHour),height:"100%",timelineView:t.timelineView,eventForCopyPrompt:null},r}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tu(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){re.listen(this.handleStoreUpdate),Lu&&(window.addEventListener("resize",this.safariResizeListener,!0),this.fixSafariHeightBug()),this.scrollToStartHour(),this.setTimelineViewOffset()}},{key:"componentWillUnmount",value:function(){re.unlisten(this.handleStoreUpdate),Lu&&window.removeEventListener("resize",this.safariResizeListener,!0)}},{key:"componentDidUpdate",value:function(e,t){t.view!==this.state.view&&this.scrollToStartHour(),this.fixSafariHeightBug(),this.setTimelineViewOffset()}},{key:"fixSafariHeightBug",value:function(){if(Lu){var e=document.querySelector(".calendar-body-content");if(this.elementRef){var t=this.elementRef.getBoundingClientRect();if(e){var n=e.getBoundingClientRect().height-2;t&&n!=t.height&&this.setState({height:n+"px"});var r=document.querySelector(".agenda-view__body")||document.querySelector(".year-view-body"),a=document.querySelector(".filter-view");if(r&&a){var i=a.getBoundingClientRect().height;r.setAttribute("height",n-i+"px")}}}}}},{key:"scrollToStartHour",value:function(){var r=this;!0!==this.scrollPositions[this.state.view]&&window.requestAnimationFrame(function(){var e=document.getElementById("time-grid-hour-"+r.state.scrollStartHour),t=document.querySelector(".week-content"),n=document.querySelector(".week-content .grid-view");e&&t&&!n&&(t.scrollTop=e.offsetTop,r.scrollPositions[r.state.view]=!0)})}},{key:"render",value:function(){var t=this,e="100%";return"timeline"!==this.state.view||this.state.timelineView.fitWindow||(e="auto"),"table"===this.state.view?document.querySelector(".calendar-body-content").classList.add("calendar-body-content--table-view"):document.querySelector(".calendar-body-content").classList.remove("calendar-body-content--table-view"),g.a.createElement("div",{style:{height:this.state.height,width:e},ref:function(e){t.elementRef=e}},g.a.createElement(xu[this.state.view]),g.a.createElement(bu,{onExport:this.handleExport}),this.state.eventForCopyPrompt&&g.a.createElement(Su.a,{eventId:this.state.eventForCopyPrompt.id,onCancel:this.handleCopyPromptCancel,onConfirm:function(e){return t.state.eventForCopyPrompt&&t.handleCopyExport(t.state.eventForCopyPrompt,e)}}))}}])&&Ou(e.prototype,t),r&&Ou(e,r),n}(),Iu=n(466),Fu=n(70),Vu=n(158),Uu=n(114),Yu=n(43),Hu=n(318),Bu=n(530);function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zu=b.a.getBaseUrl()+"/"+b.a.getAppKey(),Gu=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"updateDefaultSubscriptions",value:function(e){return Object(H.a)("GET",zu+"/reminders/default"+(e?"/"+e:""))}},{key:"saveDefaultSubscriptions",value:function(e,t){return Object(H.a)("PUT",zu+"/reminders/default"+(e?"/"+e:""),t)}},{key:"saveEventSubscriptions",value:function(e,t){return Object(H.a)("PUT",zu+"/events/"+e+"/reminder-subscriptions",t)}}])&&Wu(t.prototype,n),r&&Wu(t,r),e}());function Ku(e){return(Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $u(e,t){return!t||"object"!==Ku(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qu(e,t){return(Qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zu=j.a.partial("settings"),Xu=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$u(this,Ju(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qu(e,t)}(e,l["a"]),t=e,(n=[{key:"actionFailed",value:function(e){return le.a.flashStatus(Zu("preferences:reminders.status_failure"),"error"),Promise.reject(e)}},{key:"saveDefaultSubscriptions",value:function(e,t){return this.dispatch({resId:e,reminders:t}),le.a.flashStatus(Zu("preferences:reminders.status_saving"),"saving"),Gu.saveDefaultSubscriptions(e,t).then(function(e){return ec.defaultSubscriptionsSaved(e),e})}},{key:"defaultSubscriptionsSaved",value:function(e){return this.dispatch(e),le.a.flashStatus(Zu("preferences:reminders.status_saved"),"success"),Promise.resolve(e)}},{key:"updateReminders",value:function(e){return Gu.updateDefaultSubscriptions(e).then(function(e){ec.defaultSubscriptionsUpdated(e)}).catch(this.actions.actionFailed)}},{key:"defaultSubscriptionsUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}}])&&qu(t.prototype,n),r&&qu(t,r),e}(),ec=o.a.createActions(Xu),tc=ec;function nc(e){return(nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ac(e,t){return!t||"object"!==nc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oc(e,t){return(oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sc=function(){function n(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=ac(this,ic(n).call(this)),t=window.preferences&&null!==window.preferences.reminders?window.preferences.reminders.map(e.formatReminder):[];var r=new Map;return t.forEach(function(e){var t,n=null!==(t=e.res_id)&&void 0!==t?t:0;r.has(n)||r.set(n,[]),r.get(n).push(e)}),e.state={allReminders:t,remindersPerResource:r},e.bindActions({handleDefaultSubscriptionsSaved:tc.defaultSubscriptionsSaved,handleRemindersUpdated:tc.defaultSubscriptionsUpdated}),e}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oc(e,t)}(n,G["a"]),e=n,(t=[{key:"formatReminder",value:function(e){return e.all_day="1"==e.all_day,e}},{key:"updateReminders",value:function(e){var t,n,r=this.state.allReminders,a=this.state.remindersPerResource;a.set(null!==(t=e.resId)&&void 0!==t?t:0,e.reminders),e.reminders.forEach(function(t){(n=r.findIndex(function(e){return e.id===t.id}))&&(r[n]=t)}),this.state={allReminders:r,remindersPerResource:a}}},{key:"handleDefaultSubscriptionsSaved",value:function(e){this.updateReminders(e)}},{key:"handleRemindersUpdated",value:function(e){this.updateReminders(e)}}])&&rc(e.prototype,t),r&&rc(e,r),n}(),lc=o.a.createStore(sc,"ReminderStore"),uc=n(255),cc=n(63),dc=n(465),fc=n(402),pc=n(212);function hc(e){return(hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vc(e,t){return!t||"object"!==hc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gc(e,t){return(gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bc=function(){function n(e){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=vc(this,yc(n).call(this,e))).copyBtnClassname="btn__settings-edit",i.handleFocus=function(e){e.currentTarget.select()},i.doCopy=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-url");if(t){var n=i.state.btnsClass,r=parseInt(e.currentTarget.getAttribute("data-id")||"0");n[r]="btn__settings-ok",i.setState({btnsClass:n}),setTimeout(function(){n[r]=i.copyBtnClassname,i.setState({btnsClass:n})},1e3);var a=document.createElement("textarea");a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="2em",a.style.height="2em",a.style.padding="0",a.style.border="none",a.style.outline="none",a.style.boxShadow="none",a.style.background="transparent",a.value=t,a.id="temp-link-textarea",document.body.appendChild(a),document.createRange().selectNode(a),a.select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy "+t)}document.body.removeChild(a)}};var t=[];return t[0]=i.copyBtnClassname,i.props.resources.forEach(function(e){t[e.id]=i.copyBtnClassname}),i.state={btnsClass:t},i}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gc(e,t)}(n,g.a.Component),e=n,(t=[{key:"render",value:function(){var n=this,e=re.getState().authentication,r=window.ICS_BASE_URL+"feed/"+(e.passwordRequired?e.icalHash+"/":"")+window.CALENDAR_SETTINGS.feedsKey+"/",t=r+"0.ics",a=this.props.resources.map(function(e){var t=r+e.id+".ics";return g.a.createElement("tr",{key:t},g.a.createElement("td",{title:e.name},g.a.createElement("div",{className:"calendar-circle-wrapper"},g.a.createElement("i",{className:"cal-circle-"+e.color}),e.name)),g.a.createElement("td",{className:"ical__reveal"},g.a.createElement("div",null,g.a.createElement("input",{type:"text",onFocus:n.handleFocus,defaultValue:t,className:"settings__input-big"}),g.a.createElement("a",{onClick:n.doCopy,"data-url":t,"data-id":e.id,className:n.state.btnsClass[e.id],target:"_blank"},j.a.translate("core_js","copy")))))},this);return g.a.createElement("div",{className:"icalendar-feeds"},g.a.createElement("div",{className:"page__settings-header page__settings-header-info"},g.a.createElement(We.a,{message:"ical.title",component:"h2"})),g.a.createElement(pc.a,null,g.a.createElement(We.a,{component:"p",message:"ical.description.a"}),g.a.createElement(We.a,{component:"p",message:"ical.description.b"}),g.a.createElement(We.a,{component:"p",message:"ical.description.c"})),g.a.createElement("div",{className:"page__settings__content-main page__settings-info"},g.a.createElement("table",{className:"page__settings-selector-wrapper"},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",{style:{width:"25%"}},g.a.createElement(We.a,{message:"ical.name",component:"div"})),g.a.createElement("th",null,g.a.createElement(We.a,{message:"ical.url",component:"div"})))),g.a.createElement("tbody",null,a,g.a.createElement("tr",null,g.a.createElement("td",null,g.a.createElement(We.a,{message:"ical.all_calendars"})),g.a.createElement("td",{className:"ical__reveal"},g.a.createElement("div",null,g.a.createElement("input",{type:"text",onFocus:this.handleFocus,defaultValue:t,className:"settings__input-big"}),g.a.createElement("a",{onClick:this.doCopy,"data-url":t,"data-id":0,className:this.state.btnsClass[0],target:"_blank"},j.a.translate("core_js","copy")))))))))}}])&&mc(e.prototype,t),r&&mc(e,r),n}(),wc=(n(382),n(22)),_c=n(78);function Ec(e){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kc(e,t){return!t||"object"!==Ec(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dc=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kc(this,Oc(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){var r=this,e=this.props.resources;return 0===e.length?g.a.createElement(We.a,{message:"notifications.no_permissions"}):g.a.createElement("table",{className:"page__settings-selector-wrapper"},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",null,g.a.createElement(We.a,{message:"notifications.calendar_name",component:"div"})),g.a.createElement("th",null,g.a.createElement(We.a,{message:"notifications.calendar_changes",component:"div"})))),g.a.createElement("tbody",null,e.map(function(e,t){var n=r.props.selectedResources["contents."+e.id]||"none";return g.a.createElement("tr",{key:t},g.a.createElement("td",null,g.a.createElement("div",{className:"calendar-circle-wrapper",title:e.name},g.a.createElement("i",{className:"cal-circle-"+e.color}),e.name)),g.a.createElement("td",null,g.a.createElement("select",{name:"contents."+e.id,value:n,className:"settings__select",onChange:r.props.onChange},g.a.createElement(We.a,{message:"notifications.option_none",component:"option",value:""}),g.a.createElement(We.a,{message:"notifications.option_all_changes",component:"option",value:"all"}),g.a.createElement(We.a,{message:"notifications.option_new_events",component:"option",value:"new_events"}),g.a.createElement(We.a,{message:"notifications.option_important_changes",component:"option",value:"non_trivial"}))))})))}}])&&Sc(t.prototype,n),r&&Sc(t,r),e}(),Tc=n(75);function xc(e){return(xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(e,t){return!t||"object"!==xc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ac=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jc(this,Mc(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){return g.a.createElement("div",{className:this.props.className},g.a.createElement("i",{className:"sprite-illustration-flag"}),g.a.createElement("p",{className:"wide",dangerouslySetInnerHTML:{__html:this.props.message}}))}}])&&Pc(t.prototype,n),r&&Pc(t,r),e}(),Lc=n(46);function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vc(e,t){return!t||"object"!==Rc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Uc(e){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hc(e,t)}function Hc(e,t){return(Hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bc=function(e){function i(e){var a;Ic(this,i),(a=Vc(this,Uc(i).call(this,e))).handleSubmit=function(e){var t,n=a.state,r="slack"===a.props.transport?"immediate":a.state.schedule;if(e&&e.preventDefault(),"email"===a.props.transport&&"immediate"==r)r="delayed_5min";else if("slack"===a.props.transport&&null==n.slack.webhook)return a.addNotification("notifications.slack.missing_webhook","error"),!1;t={transport:a.props.transport,recipient:null==n.slack.webhook?n.recipient:n.slack.webhook,subscriptions:[]},"pick"===n.calendars?a.props.resources.forEach(function(e){void 0!==n.selectedResources["contents."+e.id]&&""!==n.selectedResources["contents."+e.id]&&t.subscriptions.push({subcalendar_id:e.id,schedule:r,contents:n.selectedResources["contents."+e.id],timezone:a.state.timezone,active:null===a.state.userSubscription||a.state.active})}):t.subscriptions.push({schedule:r,contents:n.contents,timezone:a.state.timezone,active:null===a.state.userSubscription||a.state.active}),a.replaceNotification("notifications.saving_message","success"),Object(H.a)("POST",b.a.getBaseUrl()+"/"+b.a.getAppKey()+"/subscriptions/notifications",t).then(function(){a.replaceNotification("notifications.success_message","success"),setTimeout(function(){a.clearNotifications()},3e3)}).catch(function(e){a.handleError(e)})},a.handleChange=function(e){var t={};"email"===e.target.name||"phone"===e.target.name?t.recipient=e.target.value:"active"===e.target.name?(t.active=!a.state.active,t.displayForm=!a.state.userLoggedIn||t.active):t[e.target.name]=e.target.value,a.setState(t)};var t=[],n=b.a.getLoggedInUser(),r=!n;return e.resources.forEach(function(e){t["contents."+e.id]=""}),a.state={recipient:n?n.email:"",active:r,schedule:"immediate",calendars:"all",contents:"new_events",timezone:re.getState().timezone.value,selectedResources:t,slack:{webhook:null,team_name:"",channel:"",error:""},userSubscription:null,spinner:!1,displayForm:!n||r,userLoggedIn:n},a}var t,n,r;return Yc(i,e),t=i,(n=[{key:"componentDidMount",value:function(){var e=window.preferences.slack;e&&(this.setState({slack:e}),""!==e.error&&this.addNotification(e.error,"error")),this.loadUserSubscription()}},{key:"componentDidUpdate",value:function(e){e.transport!==this.props.transport&&this.loadUserSubscription()}},{key:"loadUserSubscription",value:function(){var u=this;this.state.userLoggedIn&&(this.setState({spinner:!0}),Object(H.a)("GET",b.a.getBaseUrl()+"/user/"+b.a.getAppKey()+"/subscriptions/notification/"+this.props.transport).then(function(e){var t;if(e.subscription&&0<Object.keys(e.subscription).length){var n=e.subscription,r="0"==n.resources,a=[];if(!r){var i=n.resources.split(",").map(function(e){return parseInt(e,10)}),o=n.contents.split(","),s=n.resources_active.split(",");i.forEach(function(e,t){1==parseInt(s[t],10)&&(a["contents."+e]=o[t])})}if(t={recipient:n.recipient,active:n.active,userSubscription:n,spinner:!1,schedule:n.schedule,calendars:r?"all":"pick",contents:r?n.contents:"",selectedResources:a,displayForm:n.active},"slack"===n.transport&&n.recipient.match(/hooks.slack.com/)&&n.attributes){t.recipient=n.recipient;var l=JSON.parse(n.attributes);t.slack={webhook:n.recipient,team_name:l.team_name,channel:l.incoming_webhook.channel}}}else t={spinner:!1,recipient:u.state.userLoggedIn.email,active:!1,userSubscription:{},displayForm:!1};u.setState(t)}).catch(function(e){var t={spinner:!1};["login_required","reauth_required","two_factor_authentication_code_required"].includes(e.response.error.id)&&(t.userLoggedIn=null),u.setState(t)}))}},{key:"getSelectedCalendarsOptions",value:function(){var n=this;return g.a.createElement(Dc,{resources:this.props.resources,selectedResources:this.state.selectedResources,onChange:function(e){var t=n.state.selectedResources;t[e.target.name]=e.target.value,n.setState({selectedResources:t})}})}},{key:"getAllCalendarsOptions",value:function(){return g.a.createElement("div",null,g.a.createElement("select",{value:this.state.contents,name:"contents",className:"settings__select",onChange:this.handleChange},g.a.createElement(We.a,{message:"notifications.option_new_events",component:"option",value:"new_events"}),g.a.createElement(We.a,{message:"notifications.option_important_changes",component:"option",value:"non_trivial"}),g.a.createElement(We.a,{message:"notifications.option_all_changes",component:"option",value:"all"})),g.a.createElement(We.a,{message:"notifications.select_notification_type",component:"p",className:"page__settings__content-text"}),g.a.createElement(_c.a,{text:j.a.translate("preferences","notifications.important_changes_description"),iconClassName:"sprite-info",type:"info"}))}},{key:"getWhatDropdown",value:function(){return g.a.createElement(wc.a,{message:"notifications.what_title",htmlFor:"notifications-what"},g.a.createElement("select",{className:"settings__select",name:"calendars",value:this.state.calendars,onChange:this.handleChange},g.a.createElement(We.a,{message:"notifications.all_subcalendars",component:"option",value:"all"}),g.a.createElement(We.a,{message:"notifications.selected_subcalendars",component:"option",value:"pick"})),g.a.createElement(We.a,{message:"notifications.what_description",component:"p",className:"page__settings__content-text"}),"all"==this.state.calendars?this.getAllCalendarsOptions():this.getSelectedCalendarsOptions())}},{key:"renderSlackButton",value:function(){var e=xe.a.getAbsoluteBaseUrl()+"/slack/register/preferences/"+(0===b.a.getAppKey().indexOf("ks")?b.a.getAppKey():"c/"+b.a.getAppIdentifier()),t="https://slack.com/oauth/authorize?scope=incoming-webhook,commands,bot&client_id="+b.a.getSlackClientId()+"&redirect_uri="+encodeURI(e);return g.a.createElement("a",{href:t},g.a.createElement("img",{alt:"Add to Slack",height:"40",width:"139",src:"https://platform.slack-edge.com/img/add_to_slack.png",srcSet:"https://platform.slack-edge.com/img/add_to_slack.png 1x, https://platform.slack-edge.com/img/add_to_slack@2x.png 2x"}))}},{key:"renderSubmitButton",value:function(){return g.a.createElement(wc.a,{spacer:!0},g.a.createElement(We.a,{message:"save",section:"core_js",component:"button",type:"submit",className:"btn__settings-ok"}))}},{key:"renderRecipient",value:function(){if("email"===this.props.transport){var e=this.state.userLoggedIn;return g.a.createElement(wc.a,{message:"notifications.your_email",htmlFor:"notifications-email"},g.a.createElement("div",{className:"user-preview"},g.a.createElement("div",{className:e.avatar.startsWith("data:image/")?"sprite-calendar-img-avatar-initial":"sprite-settings-img-avatar"},g.a.createElement("img",{src:e.avatar,alt:""})),g.a.createElement("div",{className:"user-preview-name"},g.a.createElement("h6",null,e.fullname),g.a.createElement("span",null,e.email))))}var t=this.state.slack;return g.a.createElement(wc.a,{message:"notifications.slack.webhook",htmlFor:"notifications-webhook"},t.webhook?g.a.createElement("span",{className:"webhook",title:t.webhook},t.team_name+" - "+t.channel):this.renderSlackButton())}},{key:"renderActiveField",value:function(){if(null!==this.state.userSubscription&&this.state.userSubscription!=={})return g.a.createElement(wc.a,{message:"notifications.active.title"},g.a.createElement(Lc.a,{type:"toggle",name:"active",onChange:this.handleChange,enabledTitle:"deactivate",disabledTitle:"activate",localeSection:"core_js",defaultChecked:this.state.active}))}},{key:"renderHeader",value:function(e){return g.a.createElement("div",{className:"page__settings-header page__settings-header-info"},e&&g.a.createElement(We.a,{message:"save",section:"core_js",component:"button",type:"submit",className:"btn__settings-ok"}),g.a.createElement(We.a,{message:"notifications."+this.props.transport+".title",component:"h2"}))}},{key:"renderSectionInfo",value:function(){return g.a.createElement(pc.a,null,g.a.createElement(We.a,{message:"notifications."+("slack"===this.props.transport?"slack.":"")+"notification_info",component:"p"}),g.a.createElement(We.a,{message:"notifications."+("slack"===this.props.transport?"slack.":"")+"unsubscribe_info",component:"p"}))}},{key:"render",value:function(){if(!this.state.userLoggedIn)return g.a.createElement("div",{className:"notification-login-page"},this.renderHeader(!1),this.renderSectionInfo(),g.a.createElement("div",{style:{paddingTop:"40px"}},g.a.createElement(Ac,{className:"content",message:j.a.translate("preferences","notifications."+("slack"===this.props.transport?"slack.":"")+"login_required",{login_url:b.a.getLoginUrl()})})));var e="form "+this.props.transport+"-form";return g.a.createElement("form",{className:e,ref:"form",onSubmit:this.handleSubmit},this.renderNotifications(),g.a.createElement(Tc.a,{loading:this.state.spinner}),g.a.createElement("div",{className:this.state.spinner?"loading ":""},this.renderHeader(!0),this.renderSectionInfo(),this.renderRecipient(),this.renderActiveField(),this.state.displayForm&&"email"===this.props.transport&&g.a.createElement(wc.a,{message:"notifications.when_title",htmlFor:"notifications-when"},g.a.createElement("select",{className:"settings__select",name:"schedule",value:this.state.schedule,id:"notifications-when",onChange:this.handleChange},g.a.createElement(We.a,{message:"notifications.immediately",component:"option",value:"immediate"}),g.a.createElement(We.a,{message:"notifications.daily_summary",component:"option",value:"daily"})),g.a.createElement(We.a,{message:"notifications.when_description",component:"p",className:"page__settings__content-text"})),this.state.displayForm&&this.getWhatDropdown(),this.renderSubmitButton()))}}])&&Fc(t.prototype,n),r&&Fc(t,r),i}(Object(cc.a)(function(){function e(){return Ic(this,e),Vc(this,Uc(e).apply(this,arguments))}return Yc(e,g.a.Component),e}())),Wc=n(384);function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qc(e,t){return!t||"object"!==zc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zc=function(e){function r(e){var a;Gc(this,r),(a=qc(this,$c(r).call(this,e))).handleSubmit=function(e){e&&e.preventDefault();var t={transport:a.state.transport,recipient:a.state.recipient,subscriptions:[]};"pick"===a.state.calendars?a.state.selectedSubcalendars.forEach(function(e){t.subscriptions.push({subcalendar_id:e,timezone:a.state.timezone,days:parseInt(a.state.days),time_of_day:a.state.timeOfDay,active:null===a.state.userSubscription||a.state.active})}):t.subscriptions.push({timezone:a.state.timezone,days:parseInt(a.state.days),time_of_day:a.state.timeOfDay,active:null===a.state.userSubscription||a.state.active}),a.replaceNotification("agenda.saving_message","success"),Object(H.a)("POST",b.a.getBaseUrl()+"/"+b.a.getAppKey()+"/subscriptions/agenda",t).then(function(e){a.replaceNotification("agenda.success_message","success")}).catch(function(e){a.handleError(e)})},a.handleChange=function(e){a.clearNotifications();var t={};"active"===e.target.name?(t.active=!a.state.active,t.displayForm=!a.state.userLoggedIn||t.active):t[e.target.name]=e.target.value,a.setState(t)},a.handleSubcalendarSelection=function(e,t){var n=a.state.selectedSubcalendars;if(e.currentTarget.checked)n.push(t);else{var r=n.indexOf(t);n.splice(r,1)}a.setState({selectedSubcalendars:n})};var t=b.a.getLoggedInUser(),n=!t;return a.state={transport:"email",active:n,recipient:t?t.email:"",days:"1",timeOfDay:"04:00",calendars:"all",timezone:re.getState().timezone.value,selectedSubcalendars:[],spinner:!1,userSubscription:null,displayForm:!t||n,userLoggedIn:t},a}var t,n,a;return Jc(r,e),t=r,(n=[{key:"componentDidMount",value:function(){var i=this;this.state.userLoggedIn&&(this.setState({spinner:!0}),Object(H.a)("GET",b.a.getBaseUrl()+"/user/"+b.a.getAppKey()+"/subscriptions/agenda/email").then(function(e){var t;if(e.subscription&&0<Object.keys(e.subscription).length){var n=e.subscription,r="0"==n.resources,a=[];r||(a=n.resources.split(",").map(function(e){return parseInt(e,10)})),t={recipient:n.recipient,active:n.active,userSubscription:n,spinner:!1,days:n.days,timeOfDay:n.time_of_day,calendars:r?"all":"pick",selectedSubcalendars:a,displayForm:n.active}}else t={spinner:!1,recipient:i.state.userLoggedIn.email,active:!1,userSubscription:{},displayForm:!1};i.setState(t)}).catch(function(e){var t={spinner:!1};["login_required","reauth_required","two_factor_authentication_code_required"].includes(e.response.error.id)&&(t.userLoggedIn=null),i.setState(t)}))}},{key:"renderHeader",value:function(e,t){return g.a.createElement("div",{className:"page__settings-header page__settings-header-info"},t&&g.a.createElement(We.a,{disabled:e,message:"save",section:"core_js",component:"button",type:"submit",className:"btn__settings-ok"}),g.a.createElement(We.a,{message:"agenda.title",component:"h2"}))}},{key:"renderSectionInfo",value:function(e){var t=null;return e&&(t=g.a.createElement(_c.a,{text:j.a.translate("core_js","badge.plus"),iconClassName:"sprite-premium",type:"success"})),g.a.createElement(pc.a,{fullWidth:!0,outerHtml:t},g.a.createElement(We.a,{message:"agenda.info",component:"span"}))}},{key:"render",value:function(){var a=this,e=!0!==window.CALENDAR_SETTINGS.licenseFeatures.daily_agenda,i=[],o=this.state.selectedSubcalendars,t=this.state.userLoggedIn;return t?(this.props.resources.forEach(function(e){var t=e.id,n=e.name,r=g.a.createElement("div",{key:"agenda-res-"+t},g.a.createElement(Lc.a,{type:"small",name:"resource_"+t,text:n,onChange:function(e){a.handleSubcalendarSelection(e,t)},defaultChecked:-1!==o.indexOf(t)||!1}));i.push(r)}),g.a.createElement("form",{className:"form daily_agenda_form",ref:"form",onSubmit:this.handleSubmit},this.renderNotifications(),g.a.createElement(Tc.a,{loading:this.state.spinner}),g.a.createElement("div",{className:this.state.spinner?"loading ":""},this.renderHeader(e,!0),this.renderSectionInfo(e),g.a.createElement(wc.a,{message:"agenda.form.email.label"},g.a.createElement("div",{className:"user-preview",style:{marginBottom:"20px"}},g.a.createElement("div",{className:t.avatar.startsWith("data:image/")?"sprite-calendar-img-avatar-initial":"sprite-settings-img-avatar"},g.a.createElement("img",{src:t.avatar,alt:""})),g.a.createElement("div",{className:"user-preview-name"},g.a.createElement("h6",null,t.fullname),g.a.createElement("span",null,t.email)))),null!==this.state.userSubscription&&this.state.userSubscription!=={}&&g.a.createElement(wc.a,{message:"notifications.active.title"},g.a.createElement(Lc.a,{type:"toggle",name:"active",onChange:this.handleChange,enabledTitle:"deactivate",disabledTitle:"activate",localeSection:"core_js",defaultChecked:this.state.active})),this.state.displayForm&&g.a.createElement(wc.a,{message:"agenda.form.days.label"},g.a.createElement("select",{disabled:e,onChange:this.handleChange,value:this.state.days,className:"settings__select",name:"days"},g.a.createElement(We.a,{message:"agenda.form.days.1day",component:"option",value:"1"}),g.a.createElement(We.a,{message:"agenda.form.days.2days",component:"option",value:"2"}),g.a.createElement(We.a,{message:"agenda.form.days.3days",component:"option",value:"3"})),g.a.createElement(We.a,{message:"agenda.days_help",component:"p",className:"page__settings__content-text"})),this.state.displayForm&&g.a.createElement(wc.a,{message:"agenda.form.time_of_day.label"},g.a.createElement(Wc.a,{name:"time_of_day",value:T()(T()().format("YYYY-MM-DD")+" "+this.state.timeOfDay,"YYYY-MM-DD h:mm A"),onChange:function(e){a.setState({timeOfDay:e})},resolution:60}),g.a.createElement(We.a,{message:"agenda.form.time_of_day.help",component:"p",className:"page__settings__content-text"})),this.state.displayForm&&g.a.createElement(wc.a,{message:"agenda.form.calendars.label"},g.a.createElement("select",{disabled:e,onChange:this.handleChange,className:"settings__select",name:"calendars",value:this.state.calendars},g.a.createElement(We.a,{message:"notifications.all_subcalendars",component:"option",value:"all"}),g.a.createElement(We.a,{message:"notifications.selected_subcalendars",component:"option",value:"pick"})),g.a.createElement(We.a,{message:"agenda.form.calendars.text",component:"p",className:"page__settings__content-text"}),"pick"===this.state.calendars?i:null),g.a.createElement(wc.a,{spacer:!0},g.a.createElement(We.a,{disabled:e,message:"save",section:"core_js",component:"button",type:"submit",className:"btn__settings-ok"}))))):g.a.createElement("div",{className:"notification-login-page"},this.renderHeader(e,!1),this.renderSectionInfo(e),g.a.createElement("div",{style:{paddingTop:"40px"}},g.a.createElement(Ac,{className:"content",message:j.a.translate("preferences","agenda.login_required",{login_url:b.a.getLoginUrl()})})))}}])&&Kc(t.prototype,n),a&&Kc(t,a),r}(Object(cc.a)(function(){function e(){return Gc(this,e),qc(this,$c(e).apply(this,arguments))}return Jc(e,g.a.Component),e}()));function Xc(e){return(Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function td(e,t){return!t||"object"!==Xc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function nd(e){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rd(e,t){return(rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ad=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),td(this,nd(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rd(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var a=this;return g.a.createElement("div",{className:"reminders"},g.a.createElement("div",{className:"page__settings-header page__settings-header-info"},g.a.createElement(We.a,{message:"reminders.title",component:"h2"})),g.a.createElement(pc.a,{fullWidth:!0},g.a.createElement(We.a,{component:"p",message:"reminders.description"})),g.a.createElement("div",{className:"page__settings__content-main",style:{paddingTop:b.a.getLoggedInUser()?"0":"40px"}},b.a.getLoggedInUser()?g.a.createElement("table",null,g.a.createElement("tbody",null,this.props.resources.map(function(e){var t,n,r=null!==(n=null===(t=a.props.reminders.get(e.id))||void 0===t?void 0:t.length)&&void 0!==n?n:0;return g.a.createElement("tr",{key:e.id},g.a.createElement("td",null,g.a.createElement("div",{className:"calendar-circle-wrapper"},g.a.createElement(Yu.a,{to:xe.a.getUrl("preferences.reminders.edit",{resource_id:e.id})},g.a.createElement("i",{className:"cal-circle-"+e.color}),e.name))),g.a.createElement("td",{style:{textAlign:"right",paddingRight:"20px"}},g.a.createElement("i",{className:"sprite-settings-reminder-icon"}),g.a.createElement(We.a,{message:"reminders.count",params:{count:r}})),g.a.createElement("td",{style:{width:"36px"}},g.a.createElement(Yu.a,{className:"btn__settings-icon-edit",to:xe.a.getUrl("preferences.reminders.edit",{resource_id:e.id})},g.a.createElement("i",{className:"sprite-settings-edit"}))))}))):g.a.createElement(Ac,{className:"content",message:j.a.translate("preferences","reminders.login_required",{login_url:b.a.getLoginUrl()})})))}}])&&ed(e.prototype,n),r&&ed(e,r),t}(),id=(n(310),n(66)),od=n(285),sd=n(479);function ld(e){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cd(e,t){return!t||"object"!==ld(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fd(e,t){return(fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pd=function(){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=cd(this,dd(t).call(this,e))).onChange=function(e,t){var n=r.state.reminder;n[e]="time_of_day"===e?T()("2016-01-01 "+t,"YYYY-MM-DD HH:mm").format("HH:mm"):t,r.props.onUpdate(n),r.setState({reminder:n})},r.state={reminder:e.reminder},r}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fd(e,t)}(t,id["a"].makeFormValues()),e=t,(n=[{key:"getValue",value:function(){return Object.assign(this.getFormValues(),this.state.reminder)}},{key:"render",value:function(){var t=this,e=this.state.reminder,n=[{value:"email",label:j.a.translate("preferences","reminders.edit.transport.email")}],r=j.a.translate("preferences","reminders.edit.before_at"),a=window.CALENDAR_SETTINGS.reminders.default;return g.a.createElement("li",null,g.a.createElement("form",{id:"form-"+e.id},g.a.createElement(od.a,{name:"transport",options:n,defaultValue:e.transport,className:"reminder-input",onChange:function(e){t.onChange("transport",e.currentTarget.value)}}),g.a.createElement(sd.a,{name:"offset",defaultValue:e.offset,className:"reminder-input",onChange:function(e){t.onChange("offset",e||"P1D")},intervalOptions:this.props.isAllDay?a.optionsAllDay.map(function(e){return{value:e,label:"interval."+e}}):a.optionsHourly.map(function(e){return{value:e,label:"interval."+e}})}),this.props.isAllDay?[g.a.createElement("div",{className:"before-label",key:"separator-"+e.id,title:r},r),g.a.createElement(Wc.a,{name:"time_of_day",value:T()(T()().format("YYYY-MM-DD")+" "+e.time_of_day,"YYYY-MM-DD HH:mm"),resolution:60,onChange:function(e){t.onChange("time_of_day",e)},key:"timepicker-"+e.id})]:null,g.a.createElement("a",{onClick:this.props.removeHandler,className:"button ghost"},g.a.createElement("i",{className:"sprite-event-close"}))))}}])&&ud(e.prototype,n),r&&ud(e,r),t}();pd.defaultProps={reminder:null};var hd=pd;function md(e){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gd(e,t){return!t||"object"!==md(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function bd(e){return(bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_d(e,t)}function _d(e,t){return(_d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ed=function(e){function r(e){var a;vd(this,r),(a=gd(this,bd(r).call(this,e))).handleSave=function(e){var t=parseInt(a.props.match.params.resource_id),n=a.state.reminders.map(function(e){return{id:e.id,res_id:t,transport:e.transport,offset:e.offset,time_of_day:e.all_day?e.time_of_day:null,all_day:e.all_day,tz:e.tz}});tc.saveDefaultSubscriptions(t,n).then(function(e){return tc.updateReminders(e.resId)}).then(function(){xe.a.openUrl("preferences.reminders.list")}).catch(function(e){a.handleError(e)})},a.addNewReminderHandler=function(e,t){var n=a.state.reminders;n.push({id:null,res_id:parseInt(a.props.match.params.resource_id),transport:"email",offset:t?"P1D":"PT10M",time_of_day:"08:00:00",tz:re.getState().timezone.value,all_day:t}),a.setState({reminders:n})},a.removeHandler=function(t,e){var n=a.state.reminders,r=n.findIndex(function(e){return e&&e.id==t.id});-1!==r&&n.splice(r,1),a.setState({reminders:n})},a.onUpdate=function(n){var r=a.state.reminders;r.forEach(function(e,t){e.id&&e.id===n.id&&(r[t]=n)}),a.setState({reminders:r})};var t=parseInt(e.match.params.resource_id),n=[];return e.reminders.has(t)&&(n=e.reminders.get(t)),a.state={resource:null,reminders:n},a}var t,n,a;return wd(r,e),t=r,(n=[{key:"componentDidMount",value:function(){var t=this,e=this.props.resources.findIndex(function(e){return e.id===parseInt(t.props.match.params.resource_id)});void 0!==e&&this.setState({resource:this.props.resources[e]})}},{key:"notFound",value:function(){return g.a.createElement("div",{className:"reminders"},g.a.createElement("div",{className:"page__settings-header"},g.a.createElement(Yu.a,{className:"btn__settings-edit",to:xe.a.getUrl("preferences.reminders.list"),key:"cancelBtn"},j.a.translate("core_js","back")),g.a.createElement(We.a,{message:"reminders.not_found",component:"h2"}),g.a.createElement(_c.a,{text:j.a.translate("preferences","reminders.not_found_msg"),iconClassName:"sprite-icon-alert",type:"warning"})))}},{key:"userNotLoggedIn",value:function(){return g.a.createElement("div",{className:"reminders"},g.a.createElement("div",{className:"page__settings-header"},g.a.createElement(We.a,{message:"reminders.title",component:"h2"}),g.a.createElement(pc.a,{fullWidth:!0},g.a.createElement(We.a,{message:"calendar:event.reminders.not_logged_in_text",params:{login_url:b.a.getLoginUrl()},component:"p"}))))}},{key:"renderButtons",value:function(){return[g.a.createElement(We.a,{message:"save",component:"button",type:"button",className:"btn__settings-ok",key:"submitBtn",onClick:this.handleSave}),g.a.createElement(Yu.a,{className:"btn__settings-edit",to:xe.a.getUrl("preferences.reminders.list"),key:"cancelBtn"},j.a.translate("core_js","cancel"))]}},{key:"addNewReminderButton",value:function(t){var n=this;return g.a.createElement("a",{onClick:function(e){n.addNewReminderHandler(e,t)},className:"add-reminder-btn",key:(t?"allday":"hourly")+"-add-reminder-btn"},g.a.createElement("i",{className:"sprite-icon-plus-green icon-offset-normal"}),j.a.translate("preferences","reminders.edit.add_reminder"))}},{key:"noReminderWrapper",value:function(e){return g.a.createElement("div",{className:"no-reminder"},g.a.createElement("div",{className:"content"},g.a.createElement("i",{className:"sprite-illustration-flag"}),g.a.createElement(We.a,{message:"reminders.edit.no_"+(e?"allday":"hourly")+"_reminders",component:"p"})),this.addNewReminderButton(e))}},{key:"render",value:function(){var n=this;if(!this.state.resource)return this.notFound();if(!b.a.getLoggedInUser())return this.userNotLoggedIn();var t=[],r=[];return this.state.reminders.forEach(function(e){!0===e.all_day?r.push(e):t.push(e)}),g.a.createElement("div",{className:"reminders"},this.renderNotifications(),g.a.createElement("div",{className:"page__settings-header"},this.renderButtons().reverse(),g.a.createElement(We.a,{message:"reminders.edit.title",component:"h2",params:{title:this.state.resource.name}})),g.a.createElement("div",{className:"page__settings__content-main"},g.a.createElement(We.a,{message:"reminders.edit.hourly_reminders",className:"page__settings__content-title",component:"p"}),g.a.createElement("div",{className:"page__settings__content-input"},0===t.length?this.noReminderWrapper(!1):g.a.createElement("ul",{key:"hourly-reminders-list"},t.map(function(e,t){return g.a.createElement(hd,{reminder:e,isAllDay:!1,removeHandler:function(){n.removeHandler(e,!1)},onUpdate:n.onUpdate,key:e.id})}))),this.addNewReminderButton(!1),g.a.createElement("div",{className:"clear"})),g.a.createElement("div",{className:"page__settings__content-main"},g.a.createElement(We.a,{message:"reminders.edit.allday_reminders",className:"page__settings__content-title",component:"p"}),g.a.createElement("div",{className:"page__settings__content-input"},0===r.length?this.noReminderWrapper(!0):g.a.createElement("ul",{key:"allday-reminder-list"},r.map(function(e,t){return g.a.createElement(hd,{reminder:e,isAllDay:!0,removeHandler:function(){n.removeHandler(e,!0)},onUpdate:n.onUpdate,key:e.id})}))),this.addNewReminderButton(!0),g.a.createElement("div",{className:"clear"})),g.a.createElement(wc.a,{spacer:!0},this.renderButtons()))}}])&&yd(t.prototype,n),a&&yd(t,a),r}(Object(cc.a)(function(){function e(){return vd(this,e),gd(this,bd(e).apply(this,arguments))}return wd(e,g.a.Component),e}()));function Sd(e){return(Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Od(e,t){return!t||"object"!==Sd(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Cd(e){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dd(e,t){return(Dd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Td=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Od(this,Cd(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dd(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){var t={reminders:this.props.reminders,resources:this.props.resources};return g.a.createElement(Vu.d,null,g.a.createElement(Vu.b,{exact:!0,path:xe.a.getRawPath("preferences.reminders.list"),render:function(e){return g.a.createElement(ad,Object.assign({},t,e))}}),g.a.createElement(Vu.b,{exact:!0,path:xe.a.getRawPath("preferences.reminders.edit"),render:function(e){return g.a.createElement(Ed,Object.assign({},t,e))}}),g.a.createElement(Vu.a,{exact:!0,from:xe.a.getRawPath("preferences.reminders"),to:xe.a.getRawPath("preferences.reminders.list")}))}}])&&kd(t.prototype,n),r&&kd(t,r),e}();function xd(e){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Md(e,t){return!t||"object"!==xd(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ad(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ld(e,t)}function Ld(e,t){return(Ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rd={saving:{buttonClass:"btn__state-save",buttonIcon:"sprite-settings-save"},saved:{buttonClass:"btn__state-success",buttonIcon:"sprite-verify-yes"},error:{buttonClass:"btn__state-error",buttonIcon:"sprite-verify-no"}},Id=function(e){function n(e){var t;return Pd(this,n),(t=Md(this,Nd(n).call(this,e))).handleStatusUpdate=function(e){t.setState({status:e.status})},t.handleKeyUp=function(e){27!==e.keyCode||e.defaultPrevented||(xe.a.backToCalendar(),e.preventDefault(),e.stopImmediatePropagation())},t.handleResourceChange=function(e){t.setState({resources:e.resources})},t.handleReminderChange=function(e){t.setState({remindersPerResource:e.remindersPerResource})},t.toggleSidebar=function(e){e&&e.preventDefault(),t.setState({sidebarCollapsed:!t.state.sidebarCollapsed})},t.closeSidebar=function(){t.setState({sidebarCollapsed:!0})},t.state=Object.assign({},N.a.getState(),{sidebarCollapsed:!0,remindersPerResource:lc.getState().remindersPerResource,status:null,lastRouterPath:""}),t}var t,r,a;return Ad(n,e),t=n,(r=[{key:"componentDidMount",value:function(){N.a.listen(this.handleResourceChange),uc.a.listen(this.handleStatusUpdate),lc.listen(this.handleReminderChange),document.body.addEventListener("keyup",this.handleKeyUp,!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=document.location.pathname;this.state.lastRouterPath!==e&&(this.setState({lastRouterPath:e}),le.a.clear())}},{key:"componentWillUnmount",value:function(){N.a.unlisten(this.handleResourceChange),uc.a.unlisten(this.handleStatusUpdate),lc.unlisten(this.handleReminderChange),document.body.removeEventListener("keyup",this.handleKeyUp,!1)}},{key:"renderCloseButton",value:function(){return g.a.createElement(Yu.a,{to:xe.a.getUrl("calendar"),className:"button ghost close-icon"},g.a.createElement("i",{className:"sprite-event-close"}))}},{key:"render",value:function(){var e,t=this,n=((e=[]).push({name:"preferences.reminders",message:"reminders.title",icon:"sprite-settings-reminder"}),window.CALENDAR_SETTINGS.userSignupEnabled&&e.push({name:"preferences.email-notifications",message:"notifications.email.title",icon:"sprite-preferences-notifications"}),window.CALENDAR_SETTINGS.userSignupEnabled&&e.push({name:"preferences.agenda",message:"agenda.title",icon:"sprite-preferences-agenda"}),window.CALENDAR_SETTINGS.userSignupEnabled&&e.push({name:"preferences.slack-notifications",message:"notifications.slack.title",icon:"sprite-settings-slack"}),window.CALENDAR_SETTINGS.icsFeedsEnabled&&e.push({name:"preferences.ical-feeds",message:"ical.title",icon:"sprite-preferences-ical-feeds"}),e),r=this.renderCloseButton();return g.a.createElement(Hu.a,{className:"modal__window-preferences"},g.a.createElement(Bu.a,{title:"preferences.title",statusTypeMap:Rd,showStatus:!1,closeButton:r,toggleSidebar:this.toggleSidebar,sidebarCollapsed:this.state.sidebarCollapsed},g.a.createElement("div",{className:"page__settings__category"},g.a.createElement(fc.a,{routes:n,route:"auto"}),n.map(function(e){return g.a.createElement(Vu.b,{key:e.name,path:xe.a.getRawPath(e.name),render:function(){return g.a.createElement(We.a,{message:e.message})}})})),g.a.createElement("section",{className:"page__settings__content"},g.a.createElement("section",{className:"page__settings__content-left"+(this.state.sidebarCollapsed?"":" opened")},g.a.createElement(dc.a,{routes:n,closeSidebar:this.closeSidebar})),g.a.createElement("section",{className:"page__settings__content-right preferences"},g.a.createElement(Vu.d,null,g.a.createElement(Vu.b,{path:xe.a.getRawPath("preferences.reminders"),render:function(){return g.a.createElement(Td,Object.assign({reminders:t.state.remindersPerResource,resources:t.state.resources},t.props))}}),g.a.createElement(Vu.b,{path:xe.a.getRawPath("preferences.email-notifications"),render:function(){return g.a.createElement(Bc,{transport:"email",resources:t.state.resources})}}),g.a.createElement(Vu.b,{path:xe.a.getRawPath("preferences.agenda"),render:function(){return g.a.createElement(Zc,{resources:t.state.resources})}}),g.a.createElement(Vu.b,{path:xe.a.getRawPath("preferences.slack-notifications"),render:function(){return g.a.createElement(Bc,{transport:"slack",resources:t.state.resources})}}),g.a.createElement(Vu.b,{path:xe.a.getRawPath("preferences.ical-feeds"),render:function(){return g.a.createElement(bc,{resources:t.state.resources})}}))))))}}])&&jd(t.prototype,r),a&&jd(t,a),n}(Object(cc.a)(function(){function e(){return Pd(this,e),Md(this,Nd(e).apply(this,arguments))}return Ad(e,g.a.Component),e}())),Fd=(n(476),n(551)),Vd=n.n(Fd),Ud=n(53),Yd=n.n(Ud);function Hd(e){return(Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t){return!t||"object"!==Hd(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function zd(e){return(zd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gd(e,t){return(Gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kd(e,t){return g.a.createElement("a",{key:e,href:e,target:"_blank",rel:"noreferrer noopener external"},t||e)}function qd(e){var t=e.match(/(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i);if(t){var n=t[1],r=t[2];return"www."===n?"https://www.".concat(r):/@$/.test(n)&&!/^mailto:/.test(n)?"mailto:".concat(n).concat(r):e}return null}var $d=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wd(this,zd(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gd(e,t)}(e,g.a.Component),t=e,(n=[{key:"parseString",value:function(e){return""===e?[null]:e.split(" ").map(function(e){var t=qd(e);return t?Kd(t,e):e}).map(function(e,t,n){return t<n.length-1?g.a.createElement(g.a.Fragment,null,e," "):e})}},{key:"parse",value:function(e,t){var n=this,r=1<arguments.length&&void 0!==t?t:0;return"string"==typeof e?this.parseString(e):g.a.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?g.a.cloneElement(e,{key:r},this.parse(e.props.children)):Array.isArray(e)?e.map(function(e,t){return n.parse(e,t)}):e}},{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,this.parse(this.props.children))}}])&&Bd(t.prototype,n),r&&Bd(t,r),e}();function Jd(e){return(Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zd(e,t){return!t||"object"!==Jd(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Xd(e){return(Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tf=0===Eu()().browser.name.indexOf("IE"),nf=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Zd(this,Xd(n).call(this,e))).ref=null,t.updateTimeout=null,t.handleLangUpdate=function(){t.forceUpdate()},t.handleKeyDown=function(e){13==e.keyCode&&e.preventDefault()},t.handleInput=function(){t.updateTimeout||(t.updateTimeout=window.setTimeout(function(){t.ref&&(t.ref.style.height="auto",t.ref.style.height=t.ref.scrollHeight+2+"px",t.updateTimeout=null)},tf?200:80))},t.handleChange=function(e){t.props.onChange&&t.props.onChange(e.target.value)},t.onFocus=function(e){t.props.editable&&!t.state.editing&&t.setState({editing:!0})},t.onBlur=function(e){t.state.editing&&t.setState({editing:!1})},t.state={editing:!1},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ef(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){bs.a.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){bs.a.unlisten(this.handleLangUpdate)}},{key:"getValue",value:function(){return this.props.editable&&this.ref?this.ref.value:this.props.defaultValue}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"getInput",value:function(){return this.ref}},{key:"renderValue",value:function(e){var t=this;if(!this.props.editable){var n=this.props.defaultValue;return""==n&&this.props.readonlyPlaceholder&&(n=g.a.createElement(We.a,{message:this.props.readonlyPlaceholder})),this.props.parseLinks?g.a.createElement("p",{className:"textarea readonly"},g.a.createElement($d,null,n)):g.a.createElement("p",{className:"textarea readonly"},n)}var r="textarea";""==this.props.defaultValue&&(r+=" is-placeholder");var a=this.props.placeholder;return this.props.translate&&a&&(a=j.a.trans(a)),g.a.createElement("textarea",{ref:function(e){t.ref=e,t.handleInput()},id:e,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onChange:this.handleChange,onFocus:this.onFocus,onBlur:this.onBlur,name:this.props.name,className:r,placeholder:a,rows:1,defaultValue:this.props.defaultValue,maxLength:this.props.maxLength,required:this.props.required,tabIndex:this.props.tabIndex?this.props.tabIndex:0})}},{key:"render",value:function(){var e=this.props.id||this.props.name,t=this.props.label;return this.props.translate&&t&&(t=j.a.trans(t)),this.props.required&&this.props.editable&&(t=j.a.translate("core_js","required_field_label",{label:t})),g.a.createElement("div",{className:"visual-input "+(this.state.editing?"editing ":"")+(this.props.className||"")},this.props.icon&&g.a.createElement("i",{className:this.props.icon+" visual-input-icon"}),t?g.a.createElement("label",{htmlFor:e},t):null,this.props.children,g.a.createElement("div",{className:"value"},this.renderValue(e)))}}])&&Qd(e.prototype,t),r&&Qd(e,r),n}();function rf(e){return(rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t){return!t||"object"!==rf(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lf(e,t){return(lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}nf.defaultProps={placeholder:"",label:"",translate:!0,required:!1,emojis:!1};var uf=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=of(this,sf(n).call(this,e))).ref=null,t.handleLangUpdate=function(){t.forceUpdate()},t.handleKeyDown=function(e){13==e.keyCode&&e.preventDefault()},t.onFocus=function(e){t.props.editable&&!t.state.editing&&t.setState({editing:!0})},t.onBlur=function(e){t.state.editing&&t.setState({editing:!1})},t.state={editing:!1},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){bs.a.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){bs.a.unlisten(this.handleLangUpdate)}},{key:"getValue",value:function(){return this.props.editable&&this.ref?this.ref.value:this.props.defaultValue}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"getInput",value:function(){return this.ref}},{key:"renderValue",value:function(e){var t=this;if(!this.props.editable){var n=this.props.defaultValue;return""==(n=ye.renderNumberField(parseFloat(this.props.defaultValue),"".concat(this.props.prefix),"".concat(this.props.postfix),this.props.decimals?this.props.decimals:void 0))&&this.props.readonlyPlaceholder&&(n=g.a.createElement(We.a,{message:this.props.readonlyPlaceholder})),g.a.createElement("p",{className:"textarea readonly"},n)}var r="textarea";""==this.props.defaultValue&&(r+=" is-placeholder");var a=this.props.placeholder;return this.props.translate&&a&&(a=j.a.trans(a)),g.a.createElement("div",{className:"number-wrapper"},this.props.prefix&&g.a.createElement("span",{className:"number-prefix"},this.props.prefix),g.a.createElement("input",{type:"number",ref:function(e){t.ref=e},id:e,name:this.props.name,className:r,placeholder:a,defaultValue:this.props.defaultValue,required:this.props.required,tabIndex:this.props.tabIndex?this.props.tabIndex:0}),this.props.postfix&&g.a.createElement("span",{className:"number-postfix"},this.props.postfix))}},{key:"render",value:function(){var e=this.props.id||this.props.name,t=this.props.label;return this.props.translate&&t&&(t=j.a.trans(t)),this.props.required&&this.props.editable&&(t=j.a.translate("core_js","required_field_label",{label:t})),g.a.createElement("div",{className:"visual-input "+(this.state.editing?"editing ":"")+(this.props.className||"")},this.props.icon&&g.a.createElement("i",{className:this.props.icon+" visual-input-icon"}),t?g.a.createElement("label",{htmlFor:e},t):null,this.props.children,g.a.createElement("div",{className:"value"},this.renderValue(e)))}}])&&af(e.prototype,t),r&&af(e,r),n}();uf.defaultProps={placeholder:"",label:"",translate:!0,required:!1};var cf=n(104);function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pf(e,t){return!t||"object"!==df(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function hf(e){return(hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mf(e,t){return(mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vf=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pf(this,hf(t).call(this,e))).dateFromPicker=null,n.dateToPicker=null,n.onAllDayChange=function(e){var t={allDay:!n.state.allDay};t.allDay?(t.dateFrom=n.state.dateFrom.clone().startOf("day"),t.dateTo=n.state.dateTo.clone().endOf("day").subtract(59,"seconds").millisecond(0)):(t.dateFrom=n.state.dateFrom.clone().set(Object(cf.b)(n.props.defaultDateFrom.toObject(),["hours","minutes","seconds"])).millisecond(0),t.dateTo=n.state.dateTo.clone().set(Object(cf.b)(n.props.defaultDateTo.toObject(),["hours","minutes","seconds"])).millisecond(0),t.dateFrom.isSame(t.dateFrom.clone().startOf("day"))&&t.dateTo.isSameOrAfter(t.dateTo.clone().endOf("day").subtract(59,"seconds").millisecond(0))&&(t.dateFrom=t.dateFrom.clone().startOf("day").hours(12),t.dateTo=t.dateTo.clone().startOf("day").hours(12).add(30===n.props.resolution?60:n.props.resolution,"minutes"))),n.setState(t)},n.onFromDateChange=function(e){n.updateFromDate(T()(e.format("YYYY-MM-DD")+" "+n.state.dateFrom.format("HH:mm:ss")))},n.onToDateChange=function(e){n.setState({dateTo:T()(e.format("YYYY-MM-DD")+" "+n.state.dateTo.format("HH:mm:ss"))})},n.setDatePickerReference=function(e,t){n["date"+t+"Picker"]=e},n.onFromTimeChange=function(e){var t=e.match(/^(\d+):(\d+)/);n.updateFromDate(n.state.dateFrom.clone().hours(parseInt(t[1],10)).minutes(parseInt(t[2],10)))},n.onToTimeChange=function(e){var t=e.match(/^(\d+):(\d+)/);n.setState({dateTo:n.state.dateTo.clone().hours(parseInt(t[1],10)).minutes(parseInt(t[2],10))})},n.state={allDay:n.props.defaultAllDay,dateFrom:n.props.defaultDateFrom.clone(),dateTo:n.props.defaultDateTo.clone()},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mf(e,t)}(t,g.a.Component),e=t,(n=[{key:"getValue",value:function(){return{allDay:this.state.allDay,dateFrom:this.state.dateFrom.clone(),dateTo:this.state.dateTo.clone()}}},{key:"componentDidUpdate",value:function(e,t){!this.props.onChange||t.allDay===this.state.allDay&&t.dateFrom.isSame(this.state.dateFrom)&&t.dateTo.isSame(this.state.dateTo)||this.props.onChange()}},{key:"updateFromDate",value:function(e){var t=e.diff(this.state.dateFrom,"minutes"),n=this.state.dateTo.clone().add(t,"minutes");0!=t&&this.dateToPicker&&(this.dateToPicker.setMinDate(e),this.dateToPicker.setValue(n.clone())),this.setState({dateFrom:e,dateTo:n})}},{key:"renderDatePicker",value:function(t,e){var n=this;return g.a.createElement(tl.a,{name:"date"+t,ref:function(e){n.setDatePickerReference(e,t)},defaultValue:this.state["date"+t],weekStart:re.getState().datetime.weekStart,minDate:"To"===t?this.state.dateFrom:void 0,onChange:this["on"+t+"DateChange"],tabIndex:e})}},{key:"renderTimePicker",value:function(e,t){var n;return"To"===e&&this.state.dateFrom.isSame(this.state.dateTo,"day")&&(n=this.state.dateFrom),g.a.createElement(Wc.a,{value:this.state["date"+e],resolution:Math.min(15,this.props.resolution),startDateTime:n,onChange:this["on"+e+"TimeChange"],tabIndex:t})}},{key:"render",value:function(){if(!this.props.editable)return g.a.createElement("div",{className:"visual-input readonly datepicker"},g.a.createElement("div",null,g.a.createElement("i",{className:"sprite-event-time visual-input-icon"}),g.a.createElement("time",{dateTime:this.state.dateFrom.format(),className:"value date-readonly-value"},ue.a.renderShortTime(this.state.dateFrom,this.state.dateTo,this.state.allDay))),g.a.createElement("div",null,this.props.children));var e=this.props.tabIndex||null;return g.a.createElement("div",{className:"visual-input datepicker editable"},g.a.createElement("div",null,g.a.createElement("i",{className:"sprite-event-time visual-input-icon"}),g.a.createElement("time",{dateTime:this.state.dateFrom.format(),className:"value date-readonly-value print-only"},ue.a.renderShortTime(this.state.dateFrom,this.state.dateTo,this.state.allDay)),g.a.createElement(We.a,{component:"label",className:"date-label",message:"calendar:event.editor.fromLabelText"}),g.a.createElement("div",{className:"value date-from-value"},this.renderDatePicker("From",e||0),this.state.allDay?null:this.renderTimePicker("From",e?e+1:0)),g.a.createElement("br",null),g.a.createElement(We.a,{component:"label",className:"date-label",message:"calendar:event.editor.toLabelText"}),g.a.createElement("div",{className:"value date-to-value"},this.renderDatePicker("To",e?e+2:0),this.state.allDay?null:this.renderTimePicker("To",e?e+3:0))),g.a.createElement("div",null,g.a.createElement(Lc.a,{type:"small",name:"all_day",onChange:this.onAllDayChange,defaultChecked:this.state.allDay,text:"calendar:event.editor.allDay",className:"all-day-label "+(this.state.allDay?"":"print-hidden"),tabIndex:e?e+4:0}),this.props.children))}}])&&ff(e.prototype,n),r&&ff(e,r),t}(),yf=n(433);function gf(e){return(gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wf(e,t){return!t||"object"!==gf(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ef(e,t){return(Ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sf=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=wf(this,_f(n).call(this,e))).handleLangUpdate=function(){t.forceUpdate()},t.onChange=function(e){return t.setState({contents:e})},t.setupTinyMCE=function(e){e.on("focus",function(){t.setState({editing:!0})}),e.on("blur",function(){t.setState({editing:!1})})},t.state={editing:!1,contents:t.props.defaultValue||""},t}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ef(e,t)}(n,g.a.Component),e=n,(t=[{key:"componentDidMount",value:function(){bs.a.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){bs.a.unlisten(this.handleLangUpdate)}},{key:"getValue",value:function(){return this.state.contents}},{key:"render",value:function(){var e=this.props.id||this.props.name,t=this.props.label,n=this.props.tabIndex?this.props.tabIndex:0;return this.props.translate&&t&&(t=j.a.trans(t)),this.props.required&&this.props.editable&&(t=j.a.translate("core_js","required_field_label",{label:t})),g.a.createElement("div",{className:"wysiwyg visual-input "+(this.state.editing?"editing":"")},this.props.icon,t&&g.a.createElement("label",{htmlFor:e},t),this.props.editable?g.a.createElement("div",null,g.a.createElement("div",{className:"print-hidden "+(this.state.editing?"tinymce-editing":"tinymce-reading")+(this.props.required?" required":"")},g.a.createElement(yf.a,{onInit:this.setupTinyMCE,autoFocus:!1,id:this.props.id,onChange:this.onChange,editorType:this.props.editorType,defaultValue:this.state.contents,placeholder:this.props.placeholder,tabIndex:n}),g.a.createElement("input",{type:"hidden",name:this.props.name,value:this.state.contents})),g.a.createElement("div",{className:"preview readonly print-only",dangerouslySetInnerHTML:{__html:this.state.contents}})):g.a.createElement("div",{className:"preview readonly",dangerouslySetInnerHTML:{__html:this.state.contents}}))}}])&&bf(e.prototype,t),r&&bf(e,r),n}();Sf.defaultProps={editorType:"event",placeholder:"",label:"",translate:!0};var kf=n(250);function Of(e){return(Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t,n){return t&&Df(e.prototype,t),n&&Df(e,n),e}function xf(e,t){return!t||"object"!==Of(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Pf(e){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mf(e,t)}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nf=j.a.partial("calendar"),Af=["DAILY","WEEKDAYS","WEEKLY","MONTHLY","YEARLY"],Lf=["SU","MO","TU","WE","TH","FR","SA"];function Rf(e,t){for(var n=0,r=e.split(";"),a=r.length;n<a;n++)if(0===r[n].indexOf(t))return r[n];return null}function If(e,t,n){var r=2<arguments.length&&void 0!==n?n:null,a=Rf(e,t);if(!a)return r;var i=a.split("=")[1];return isNaN(parseInt(i,10))&&parseInt(i,10)==i?parseInt(i,10):i}var Ff=function(){function t(e){var r;return Cf(this,t),(r=xf(this,Pf(t).call(this,e))).updateValue=function(e){var t=parseInt(e.target.value,10),n=t<parseInt(e.target.getAttribute("max")||"999");n?r.setState({value:t,valid:n},r.props.onChange):r.setState({valid:n})},r.state={value:If(r.props.defaultValue,"INTERVAL",1),valid:!0},r}return jf(t,g.a.Component),Tf(t,[{key:"getValue",value:function(){return 1<this.state.value?"INTERVAL="+this.state.value:null}},{key:"render",value:function(){var e=ue.a.get("date_year_moment");return g.a.createElement("p",null,g.a.createElement(We.a,{message:"recurrence.interval.repeatEvery",section:"calendar"})," ",g.a.createElement("input",{className:"settings__input number-input"+(this.state.valid?"":" has-error"),type:"number",defaultValue:this.state.value.toString(),"aria-required":"true",min:"1",max:"999",autoComplete:"off",onChange:this.updateValue,tabIndex:this.props.tabIndex?this.props.tabIndex:0})," ",g.a.createElement(We.a,{message:"recurrence.interval."+this.props.type+(1<this.state.value?"s":""),section:"calendar"})," ",g.a.createElement(We.a,{message:"recurrence.interval.beginning",section:"calendar"})," ",this.props.dateFrom.format(e))}}]),t}(),Vf=function(){function a(e){var r;Cf(this,a),(r=xf(this,Pf(a).call(this,e))).updateCountValue=function(e){var t=parseInt(e.target.value,10),n=t<parseInt(e.target.getAttribute("max")||"999");n?r.setState({count:t,countIsValid:n},r.props.onChange):r.setState({countIsValid:n})};var t=If(r.props.defaultValue,"COUNT",null),n=If(r.props.defaultValue,"UNTIL",null);return r.state={count:t||1,until:n?T()(n.substring(0,15)):r.props.dateFrom.clone().add(5,r.props.type),selected:t?"count":n?"until":"forever",countIsValid:!0},r}return jf(a,g.a.Component),Tf(a,[{key:"getValue",value:function(){return"count"===this.state.selected?"COUNT="+this.state.count:"until"===this.state.selected?"UNTIL="+this.state.until.endOf("day").format("YYYYMMDDTHHmmss"):null}},{key:"renderCountOption",value:function(e){return g.a.createElement("span",null,g.a.createElement("input",{className:"settings__input number-input"+(this.state.countIsValid?"":" has-error"),type:"number",defaultValue:this.state.count.toString(),"aria-required":"true",min:"1",max:"999",autoComplete:"off",onChange:this.updateCountValue,tabIndex:e||0})," ",g.a.createElement(We.a,{message:"recurrence.duration.occurrences",section:"calendar"}))}},{key:"renderUntilOption",value:function(e){var t=this;return g.a.createElement(tl.a,{name:"untilDate",defaultValue:this.state.until,weekStart:re.getState().datetime.weekStart,minDate:this.props.dateFrom,onChange:function(e){t.setState({until:e},t.props.onChange)},tabIndex:e||0})}},{key:"render",value:function(){var t=this,e=this.props.tabIndex||null;return g.a.createElement("div",null,g.a.createElement(We.a,{message:"recurrence.duration.andContinuing",section:"calendar"})," ",g.a.createElement("select",{onChange:function(e){t.setState({selected:e.target.value},t.props.onChange)},defaultValue:this.state.selected,className:"settings__select",tabIndex:e?e+1:0},g.a.createElement(We.a,{component:"option",value:"forever",message:"recurrence.duration.forever",section:"calendar"}),g.a.createElement(We.a,{component:"option",value:"count",message:"recurrence.duration.forText",section:"calendar"}),g.a.createElement(We.a,{component:"option",value:"until",message:"recurrence.duration.until",section:"calendar"}))," ","count"===this.state.selected?this.renderCountOption(e?e+2:0):null,"until"===this.state.selected?this.renderUntilOption(e?e+3:0):null)}}]),a}(),Uf=function(){function t(e){var n;return Cf(this,t),(n=xf(this,Pf(t).call(this,e))).updateValue=function(e){var t=n.state.values;e.target.checked?(t.push(e.target.value),t.sort(function(e,t){return Lf.indexOf(e)-Lf.indexOf(t)})):t.splice(t.indexOf(e.target.value),1),n.setState({values:t},n.props.onChange)},n.state={values:If(n.props.defaultValue,"BYDAY",n.getDefaultValue()).split(",")},n}return jf(t,g.a.Component),Tf(t,[{key:"getValue",value:function(){var e=this.state.values.filter(function(e){return Lf.includes(e)});return 0==e.length?"":1<e.length?"BYDAY="+e.join(","):this.getDefaultValue()!==e[0]?"BYDAY="+e[0]:""}},{key:"getDayValue",value:function(e){return Lf[e]}},{key:"getDefaultValue",value:function(){return this.getDayValue(parseInt(this.props.dateFrom.format("d"),10))}},{key:"renderBoxes",value:function(){for(var e=[],t=re.getState().datetime.weekStart,n=0;n<7;n++){var r=this.getDayValue(t);e.push(g.a.createElement(Lc.a,{type:"small",name:r,value:r,text:Gs.getShortDay(r),onChange:this.updateValue,defaultChecked:-1!==this.state.values.indexOf(r),tabIndex:this.props.tabIndex?this.props.tabIndex+n:0,key:"DAY_"+r,className:"checkbox-label"})),t=6===t?0:t+1}return e}},{key:"render",value:function(){return g.a.createElement("div",{className:"weekly-days"},g.a.createElement(We.a,{message:"recurrence.weekly.on",section:"calendar"})," ",this.renderBoxes())}}]),t}(),Yf=function(){function a(e){var t;Cf(this,a),(t=xf(this,Pf(a).call(this,e))).select=null;var n=[];n.push(Rf(t.props.defaultValue,"BYMONTH")),n.push(Rf(t.props.defaultValue,"BYDAY")),n.push(Rf(t.props.defaultValue,"BYMONTHDAY"));var r=n.filter(function(e){return!!e}).join(";");return t.state={value:r},t}return jf(a,g.a.Component),Tf(a,[{key:"getValue",value:function(){return this.select&&this.select.value||null}},{key:"renderOption",value:function(e,t){return this.props.isYearly&&(e+=" "+Nf("recurrence.monthly.inText")+" "+this.props.dateFrom.format("MMMM")),g.a.createElement("option",{key:"opt_"+t,value:t},e)}},{key:"render",value:function(){var t=this,e=this.props.dateFrom.clone().endOf("month").date(),n=this.props.dateFrom.date(),r=Math.ceil(n/7),a=Lf[this.props.dateFrom.day()],i=this.props.isYearly?"BYMONTH="+this.props.dateFrom.format("M"):"",o=this.props.isYearly?";":"",s=[this.renderOption(this.props.dateFrom.format(Nf("recurrence.monthly.monthDayDateFormatMoment"))+" "+Nf("recurrence.monthly.day"),""),this.renderOption(T()("2000-01-0"+r).format(Nf("recurrence.monthly.monthDayDateFormatMoment"))+" "+this.props.dateFrom.format("dddd"),i+o+"BYDAY="+r+a)];return e-n<7&&s.push(this.renderOption(Nf("recurrence.monthly.last")+" "+this.props.dateFrom.format("dddd"),i+o+"BYDAY=-1"+a)),e===n&&s.push(this.renderOption(Nf("recurrence.monthly.lastDay"),i+o+"BYMONTHDAY=-1")),g.a.createElement("p",null,g.a.createElement(We.a,{message:"recurrence.monthly.onThe",section:"calendar"})," ",g.a.createElement("select",{ref:function(e){t.select=e},className:"settings__select",defaultValue:this.state.value,onChange:this.props.onChange,tabIndex:this.props.tabIndex?this.props.tabIndex:0},s)," ",g.a.createElement(We.a,{message:"recurrence.monthly.ofEach",section:"calendar"})," ",g.a.createElement(We.a,{message:"recurrence.monthly."+(this.props.isYearly?"year":"month"),section:"calendar"}))}}]),a}();Yf.defaultProps={isYearly:!1};var Hf=function(){function n(e){var r;Cf(this,n),(r=xf(this,Pf(n).call(this,e))).frequency=null,r.until=null,r.options=null,r.doneBtnRef=null,r.handleTabSwitch=function(e){r.setState({frequency:e},r.handleRRuleUpdate)},r.handleToggleEditing=function(e){var t,n={editing:!r.state.editing,recurring:!0};e&&!e.target.checked?(n.editing=!1,n.recurring=!1):r.state.editing?n.rrule=r.computeValue():r.state.editing||r.state.rrule||(t=r.handleRRuleUpdate),r.setState(n,t)},r.handleKeyDown=function(e){13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),r.doneBtnRef&&r.doneBtnRef.click())},r.handleRRuleUpdate=function(){r.setState({rrule:r.computeValue()})},r.handleTimezoneChange=function(){r.setState({openTzModal:!0})};var t=If(r.props.defaultValue,"FREQ","DAILY");return"WEEKLY"===t&&"MO,TU,WE,TH,FR"===If(r.props.defaultValue,"BYDAY","")&&(t="WEEKDAYS"),r.state={frequency:Af.indexOf(t),recurring:!!r.props.defaultValue,editing:!1,rrule:r.props.defaultValue,timezone:r.props.timezone,openTzModal:!1,selectedTz:null},r}return jf(n,g.a.Component),Tf(n,[{key:"componentDidUpdate",value:function(e){e.dateFrom.isSame(this.props.dateFrom)&&e.recurrenceStartDate.isSame(this.props.recurrenceStartDate)||this.handleRRuleUpdate()}},{key:"getValue",value:function(){return this.state.recurring?this.state.rrule:null}},{key:"computeValue",value:function(){var e=Af[this.state.frequency],t=["FREQ="+e];"FREQ=WEEKDAYS"===t[0]&&(t[0]="FREQ=WEEKLY",t.push("BYDAY=MO,TU,WE,TH,FR")),this.frequency&&t.push(this.frequency.getValue()),this.until&&t.push(this.until.getValue()),this.options&&t.push(this.options.getValue()),"WEEKLY"!=e||2===t.filter(function(e){return e&&(e.match("BYDAY")||e.match("INTERVAL"))}).length&&t.push("WKST="+Lf[this.props.weekStart]);return t.filter(function(e){return!!e}).join(";")}},{key:"renderTzModal",value:function(){var t=this;return g.a.createElement(Xt.a,{title:"calendar:timezone.title",yesText:"calendar:timezone.saveButtonText",onYes:function(){t.props.onTimezoneChange&&t.state.selectedTz?t.setState({openTzModal:!1},function(){t.props.onTimezoneChange(t.state.selectedTz)}):t.setState({openTzModal:!1})},onClose:function(){t.setState({openTzModal:!1})}},g.a.createElement(en.a,{id:"tz_picker",ref:"timezone",timezone:this.state.timezone,onChange:function(e){t.setState({selectedTz:e})}}))}},{key:"renderFooter",value:function(){var t=this,e=this.props.timezone,n=this.props.tabIndex||null;return g.a.createElement("div",null,g.a.createElement("a",{onClick:function(){t.handleToggleEditing()},onKeyDown:this.handleKeyDown,className:"button primary",tabIndex:n?n+9:0,id:"recurrence-done-btn",ref:function(e){t.doneBtnRef=e}},j.a.translate("core_js","done")),e&&g.a.createElement("span",{className:"timezone-display"},g.a.createElement(We.a,{message:"calendar:timezone.timezoneLabelText"}),": ",g.a.createElement("a",{onClick:this.handleTimezoneChange},e)))}},{key:"renderForm",value:function(){var t=this,e=this.props.tabIndex||null;return g.a.createElement("div",{className:"recurrence-editor"},g.a.createElement(kf.d,{onSelect:this.handleTabSwitch,selectedIndex:this.state.frequency},g.a.createElement(kf.b,null,g.a.createElement(kf.a,null,g.a.createElement(We.a,{message:"calendar:recurrence.rule.frequencyName.daily"})),g.a.createElement(kf.a,null,g.a.createElement(We.a,{message:"calendar:recurrence.rule.frequencyName.weekdays"})),g.a.createElement(kf.a,null,g.a.createElement(We.a,{message:"calendar:recurrence.rule.frequencyName.weekly"})),g.a.createElement(kf.a,null,g.a.createElement(We.a,{message:"calendar:recurrence.rule.frequencyName.monthly"})),g.a.createElement(kf.a,null,g.a.createElement(We.a,{message:"calendar:recurrence.rule.frequencyName.yearly"}))),g.a.createElement(kf.c,null,g.a.createElement(Ff,{onChange:this.handleRRuleUpdate,ref:function(e){t.frequency=e},defaultValue:this.state.rrule,type:"day",dateFrom:this.props.recurrenceStartDate,tabIndex:e||0}),g.a.createElement(Vf,{onChange:this.handleRRuleUpdate,ref:function(e){t.until=e},defaultValue:this.state.rrule,type:"day",dateFrom:this.props.recurrenceStartDate,tabIndex:e?e+1:0}),this.renderFooter()),g.a.createElement(kf.c,null,g.a.createElement(Ff,{onChange:this.handleRRuleUpdate,ref:function(e){t.frequency=e},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate,tabIndex:e||0}),g.a.createElement(Vf,{onChange:this.handleRRuleUpdate,ref:function(e){t.until=e},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate,tabIndex:e?e+1:0}),this.renderFooter()),g.a.createElement(kf.c,null,g.a.createElement(Ff,{onChange:this.handleRRuleUpdate,ref:function(e){t.frequency=e},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate,tabIndex:e||0}),g.a.createElement(Uf,{onChange:this.handleRRuleUpdate,ref:function(e){t.options=e},defaultValue:this.state.rrule,dateFrom:this.props.dateFrom,tabIndex:e?e+1:0}),g.a.createElement(Vf,{onChange:this.handleRRuleUpdate,ref:function(e){t.until=e},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate,tabIndex:e?e+7:0}),this.renderFooter()),g.a.createElement(kf.c,null,g.a.createElement(Ff,{onChange:this.handleRRuleUpdate,ref:function(e){t.frequency=e},defaultValue:this.state.rrule,type:"month",dateFrom:this.props.recurrenceStartDate,tabIndex:e||0}),g.a.createElement(Yf,{onChange:this.handleRRuleUpdate,ref:function(e){t.options=e},defaultValue:this.state.rrule,dateFrom:this.props.dateFrom,tabIndex:e?e+1:0}),g.a.createElement(Vf,{onChange:this.handleRRuleUpdate,ref:function(e){t.until=e},defaultValue:this.state.rrule,type:"month",dateFrom:this.props.recurrenceStartDate,tabIndex:e?e+8:0}),this.renderFooter()),g.a.createElement(kf.c,null,g.a.createElement(Ff,{onChange:this.handleRRuleUpdate,ref:function(e){t.frequency=e},defaultValue:this.state.rrule,type:"year",dateFrom:this.props.recurrenceStartDate,tabIndex:e||0}),g.a.createElement(Yf,{onChange:this.handleRRuleUpdate,ref:function(e){t.options=e},defaultValue:this.state.rrule,dateFrom:this.props.dateFrom,isYearly:!0,tabIndex:e?e+1:0}),g.a.createElement(Vf,{onChange:this.handleRRuleUpdate,ref:function(e){t.until=e},defaultValue:this.state.rrule,type:"year",dateFrom:this.props.recurrenceStartDate,tabIndex:e?e+8:0}),this.renderFooter())))}},{key:"renderPrettyRRule",value:function(){var e=this;if(this.state.recurring){var t=new Gs(this.getValue());return g.a.createElement("div",null,g.a.createElement(Lc.a,{type:"small",name:"recurs",text:"calendar:recurrence.repeats",onChange:this.handleToggleEditing,defaultChecked:!0,className:"recurrence-label",disabled:!this.props.editable,tabIndex:this.props.tabIndex?this.props.tabIndex:0}),this.props.editable?g.a.createElement("a",{onClick:function(){e.handleToggleEditing()},className:"soft-button recurrence-value"},t.getDescription(this.props.dateFrom)):g.a.createElement("span",{className:"recurrence-value"},t.getDescription(this.props.dateFrom)))}return this.props.editable?g.a.createElement("div",null,g.a.createElement(Lc.a,{type:"small",name:"recurs",text:"calendar:recurrence.repeats",onChange:this.handleToggleEditing,defaultChecked:!1,className:"recurrence-label print-hidden",tabIndex:this.props.tabIndex?this.props.tabIndex:0}),g.a.createElement("span",{className:"recurrence-value"},"")):null}},{key:"render",value:function(){return g.a.createElement("div",{className:"visual-input recurrence "+(this.state.editing?"editing ":"")+(this.state.recurring?"is-recurring":"")},this.renderPrettyRRule(),this.state.openTzModal&&this.renderTzModal(),this.state.editing?this.renderForm():g.a.createElement("div",{style:{display:"none"}},this.renderForm()))}}]),n}(),Bf=n(532);function Wf(e){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t){return!t||"object"!==Wf(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Kf(e){return(Kf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qf(e,t){return(qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $f=function(){function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Gf(this,Kf(r).call(this,e))).handleToggleBtn=function(e){var t={};t[e.target.name]=e.target.checked,n.setState(t)},n.onDateChange=function(e){n.setState({deadline:T()(e.format("YYYY-MM-DD")+" "+n.state.deadline.format("HH:mm:ss"))})},n.onTimeChange=function(e){var t=e.match(/^(\d+):(\d+)/);t&&n.setState({deadline:n.state.deadline.clone().hours(parseInt(t[1])).minutes(parseInt(t[2]))})},n.onVisibilityChange=function(e){n.setState({visibility:e.target.value})},n.onLimitChange=function(e){n.setState({limit:+e.target.value})},n.onShowLimitChange=function(e){n.setState({limit:e.target.checked?10:0,showLimit:e.target.checked})},n.onSave=function(){n.props.handleSave({enabled:n.state.enabled,deadline:n.state.deadline.clone().format("YYYY-MM-DDTHH:mm:ss"),visibility:n.state.visibility,limit:n.state.limit})};var t=n.props.options;return n.state={enabled:t.enabled,deadline:t.deadline?T()(t.deadline):T()(),visibility:t.visibility||"users_with_modify_permission",limit:t.limit||0,showLimit:0<t.limit,error:null},n}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qf(e,t)}(r,g.a.Component),e=r,(t=[{key:"render",value:function(){var e=this;return g.a.createElement(Xt.a,{className:"eventsignup-options",title:"calendar:event.signup.title",yesText:"core_js:done",yesClassName:"button primary",onYes:this.onSave,noText:"core_js:help",noClassName:"button help",onNo:function(){window.open("https://calendar.teamup.com/kb/signup-for-an-event/","_blank")},onClose:function(){e.props.onCancel()},onEnter:this.onSave},g.a.createElement("section",{className:"eventsignup-options__content visual-input"},g.a.createElement(wc.a,{section:"calendar",message:"calendar:event.signup.enabled.label",htmlFor:"enabled",spacer:!1,fullWidth:!1},g.a.createElement(Lc.a,{type:"toggle",name:"enabled",onChange:this.handleToggleBtn,defaultChecked:this.state.enabled,enabledTitle:j.a.translate("core_js","enabled"),disabledTitle:j.a.translate("core_js","disabled")}),g.a.createElement(We.a,{component:"span",message:"core_js:"+(this.state.enabled?"enabled":"disabled")})),g.a.createElement(wc.a,{section:"calendar",message:"calendar:event.signup.deadline",htmlFor:"deadline_dt",spacer:!1,fullWidth:!1},g.a.createElement(tl.a,{name:"deadline_dt",defaultValue:this.state.deadline,weekStart:re.getState().datetime.weekStart,onChange:this.onDateChange}),g.a.createElement(Wc.a,{name:"deadline_tm",value:this.state.deadline,resolution:15,onChange:this.onTimeChange})),g.a.createElement(wc.a,{section:"calendar",message:"calendar:event.signup.limit",htmlFor:"limit",spacer:!1,fullWidth:!1},g.a.createElement(Lc.a,{type:"toggle",name:"limit_enabled",defaultChecked:0<this.state.limit,onChange:this.onShowLimitChange,enabledTitle:j.a.translate("core_js","enabled"),disabledTitle:j.a.translate("core_js","disabled")}),this.state.showLimit&&g.a.createElement("input",{type:"number",min:"1",step:"1",id:"limit",value:""+this.state.limit,onChange:this.onLimitChange})),g.a.createElement(We.a,{message:"calendar:event.signup.visibility_label",htmlFor:"visibility",component:"label"}),g.a.createElement("select",{name:"visibility",defaultValue:this.state.visibility,onChange:this.onVisibilityChange},g.a.createElement(We.a,{component:"option",message:"calendar:event.comments.privacy.option_all",value:"all_users"}),g.a.createElement(We.a,{component:"option",message:"calendar:event.comments.privacy.option_modifiers",value:"users_with_modify_permission"}))),this.state.error&&g.a.createElement("p",{className:"error-msg"},g.a.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}])&&zf(e.prototype,t),n&&zf(e,n),r}(),Jf=n(452);function Qf(e){return(Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t){return!t||"object"!==Qf(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ep(e){return(ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tp(e,t){return(tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var np=function(){function e(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Xf(this,ep(e).apply(this,arguments))).handleExport=function(e){ru.a.exportTo(e,t.props.event,{appBaseUrl:window.APP_BASE_URL,timezone:re.getState().timezone.value,appKey:window.APP_KEY}),t.props.onExport&&t.props.onExport(e)},t}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tp(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){var t=this,e=ru.a.getAvailableServices(re).map(function(e){return{label:e.label,handler:function(){return t.handleExport(e.name)},icon:e.icon}});return e.length?g.a.createElement(Jf.a,{icon:"sprite-event-share",className:"export-menu",text:"calendar:event.editor.exportButtonText",items:e,tabIndex:this.props.tabIndex}):null}}])&&Zf(t.prototype,n),r&&Zf(t,r),e}();function rp(e){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t){return!t||"object"!==rp(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function op(e){return(op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sp(e,t){return(sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lp=function(){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ip(this,op(t).call(this,e))}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sp(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var e=[this.props.signup&&{label:"calendar:event.options.signup",handler:this.props.onSignup,icon:"sprite-event-signup"},this.props.comments&&{label:"calendar:event.options.comments",handler:this.props.onComments,icon:"sprite-icon-event-comments"}].filter(function(e){return!!e});return e.length?g.a.createElement(Jf.a,{icon:"sprite-icon-event-options",className:"dropdown-options-button",text:"calendar:event.editor.optionsButtonText",items:e,tabIndex:this.props.tabIndex}):null}}])&&ap(e.prototype,n),r&&ap(e,r),t}(),up=n(379);function cp(e){return(cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fp(e,t){return!t||"object"!==cp(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t){return(hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mp=function(){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=fp(this,pp(t).call(this,e))).handleEnabledChange=function(e){var t=n.state;t[e.target.name]=e.target.checked,n.setState(t)},n.handleVisibilityChange=function(e){n.setState({visibility:e.target.value})},n.onSave=function(){n.props.handleSave({enabled:n.state.enabled,visibility:n.state.visibility})},n.state={enabled:n.props.options.enabled,visibility:n.props.options.visibility||"all_users",error:null},n}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hp(e,t)}(t,g.a.Component),e=t,(n=[{key:"render",value:function(){var e=this;return g.a.createElement(Xt.a,{className:"eventsignup-options",title:"calendar:event.comments.title",yesText:"core_js:done",yesClassName:"button primary",onYes:this.onSave,noText:"core_js:help",noClassName:"button help",onNo:function(){window.open("http://calendar.teamup.com/kb/event-comments","_blank")},onClose:function(){e.props.onCancel()},onEnter:this.onSave},g.a.createElement("section",{className:"eventsignup-options__content visual-input"},g.a.createElement(wc.a,{section:"calendar",message:"event.comments.enabled.label",htmlFor:"enabled",spacer:!1,fullWidth:!1},g.a.createElement(up.a,{name:"enabled",onChange:this.handleEnabledChange,defaultChecked:this.state.enabled,enabledTitle:j.a.translate("core_js","enabled"),disabledTitle:j.a.translate("core_js","disabled")}),g.a.createElement(We.a,{component:"span",message:"core_js:"+(this.state.enabled?"enabled":"disabled")})),g.a.createElement(We.a,{section:"calendar",message:"event.comments.privacy.label",component:"label"}),g.a.createElement("select",{name:"visibility",defaultValue:this.state.visibility,onChange:this.handleVisibilityChange},g.a.createElement(We.a,{key:"comments-visibility-all",value:"all_users",message:"calendar:event.comments.privacy.option_all",component:"option"}),g.a.createElement(We.a,{key:"comments-visibility-modifiers",value:"users_with_modify_permission",message:"calendar:event.comments.privacy.option_modifiers",component:"option"}))),this.state.error&&g.a.createElement("p",{className:"error-msg"},g.a.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}])&&dp(e.prototype,n),r&&dp(e,r),t}(),vp=n(533),yp=n(531);n(395);function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wp(e,t){return!t||"object"!==gp(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sp=function(){function n(t){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(i=wp(this,_p(n).call(this,t))).remindersRefs=[],i.handleToggleEditing=function(){var e={editing:!i.state.editing};i.setState(e)},i.addNewReminderHandler=function(){var e=i.state.reminders||[];e.push({id:null,transport:"email",offset:i.props.allDay?"P1D":"PT10M",all_day:i.props.allDay,time_of_day:"08:00:00",tz:i.props.timezone}),i.setState({reminders:e,editing:!0},i.saveReminders)},i.removeHandler=function(e){if(e in i.state.reminders){var t=i.state.reminders;delete t[e],i.setState({reminders:t},i.saveReminders)}},i.saveReminders=function(e){var t=i.state.reminders.map(function(e){return{id:e.id,transport:e.transport,offset:e.offset,time_of_day:i.props.allDay?e.time_of_day:null,tz:i.props.timezone,all_day:i.props.allDay}});i.props.editable?(i.props.onSave(t),e&&i.setState({editing:!1})):e&&Gu.saveEventSubscriptions(i.props.eventId,t).then(function(e){le.a.flashStatus(e.message,"success"),i.props.onSave(t),i.setState({reminders:e.data,editing:!1})}).catch(function(e){var t;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),le.a.alert("",t.error.message,{},t.error.id)})},i.onUpdate=function(e,t,n,r){var a=i.state.reminders;e[n]="time_of_day"===n?T()("2016-01-01 "+r,"YYYY-MM-DD HH:mm").format("HH:mm"):r,a[t]=e,i.setState({reminders:a},i.saveReminders)};var e=t.reminders?t.reminders.filter(function(e){return e.all_day==t.allDay}):[];return 0===e.length&&(e=i.readDefaultReminders(t.allDay,t.resIds)),i.state={reminders:e,editing:!1},i}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ep(e,t)}(n,g.a.Component),e=n,(t=[{key:"UNSAFE_componentWillReceiveProps",value:function(t){if(t.allDay!==this.props.allDay||t.resIds!==this.props.resIds){var e=t.reminders?t.reminders.filter(function(e){return e.all_day==t.allDay}):[];0===e.length&&(e=this.readDefaultReminders(t.allDay,t.resIds)),this.setState({reminders:e})}}},{key:"readDefaultReminders",value:function(n,r){var a,i=[],o=new Set;return lc.getState().remindersPerResource.forEach(function(e,t){!r.includes(t)&&0!==t||e.forEach(function(e){if(e.all_day==n&&(a=e.transport+"-"+e.offset,n&&e.time_of_day&&(a+="-"+e.time_of_day.substr(0,5)),!o.has(a))){var t=Object(cf.a)(e,["res_id"]);t.id=null,i.push(t),o.add(a)}})}),i}},{key:"renderLabel",value:function(){return g.a.createElement("div",null,g.a.createElement(We.a,{message:"calendar:event.reminders.label",component:"label",className:"reminders-label print-hidden"}),g.a.createElement(We.a,{message:null===this.props.user?"calendar:event.reminders.add":"calendar:event.reminders.total",params:null===this.props.user?{}:{total:this.state.reminders.length},className:"soft-button",component:"a",onClick:this.handleToggleEditing}))}},{key:"renderFooter",value:function(){return g.a.createElement("div",{className:"footer"},null!==this.props.user&&g.a.createElement(We.a,{message:this.props.editable?"core_js:done":"core_js:save",component:"a",onClick:this.saveReminders,className:"button primary"}),g.a.createElement("div",null,g.a.createElement("a",{href:"https://calendar.teamup.com/kb/can-i-set-event-reminders/",target:"_blank"},g.a.createElement("i",{className:"sprite-icon-help icon-offset-normal"})),null!==this.props.user&&g.a.createElement("a",{onClick:this.addNewReminderHandler,className:"add-reminder-btn"},g.a.createElement("i",{className:"sprite-icon-plus-green icon-offset-normal"}),j.a.translate("calendar","event.reminders.add_reminder"))))}},{key:"renderRemindersList",value:function(){var i=this,e=this.state.reminders||[];return null===this.props.user?g.a.createElement("div",{className:"reminders-editor no-reminder"},g.a.createElement("div",{className:"content"},g.a.createElement("i",{className:"sprite-illustration-flag"}),g.a.createElement(We.a,{message:"calendar:event.reminders.not_logged_in_text",component:"p",params:{login_url:b.a.getLoginUrl()}})),this.renderFooter()):0===e.length?g.a.createElement("div",{className:"reminders-editor no-reminder"},g.a.createElement("div",{className:"content"},g.a.createElement("i",{className:"sprite-illustration-flag"}),g.a.createElement(We.a,{message:"calendar:event.reminders.no_reminders_text",component:"p"})),this.renderFooter()):g.a.createElement("div",{className:"reminders-editor"},g.a.createElement("ul",null,e.map(function(t,n){var e=[{value:"email",label:j.a.trans("calendar:event.reminders.transport.email")}],r=j.a.translate("calendar","event.reminders.before_at"),a=window.CALENDAR_SETTINGS.reminders;return g.a.createElement("li",{key:"reminder-"+n},g.a.createElement("form",null,g.a.createElement(od.a,{name:"transport",options:e,defaultValue:t.transport,className:"reminder-input",onChange:function(e){i.onUpdate(t,n,"transport",e.currentTarget.value)}}),g.a.createElement(sd.a,{name:"offset",defaultValue:t.offset,className:"reminder-input",onChange:function(e){i.onUpdate(t,n,"offset",e||"P1D")},intervalOptions:i.props.allDay?a.optionsAllDay.map(function(e){return{value:e,label:"interval."+e}}):a.optionsHourly.map(function(e){return{value:e,label:"interval."+e}}),key:"form-offset-"+n}),i.props.allDay?[g.a.createElement("div",{className:"before-label",key:"separator-"+n,title:r},r),g.a.createElement(Wc.a,{name:"time_of_day",value:T()(T()().format("YYYY-MM-DD")+" "+t.time_of_day,"YYYY-MM-DD HH:mm"),resolution:60,onChange:function(e){i.onUpdate(t,n,"time_of_day",e)},key:"timepicker-"+n})]:null,g.a.createElement("a",{onClick:function(){i.removeHandler(n)},className:"button ghost"},g.a.createElement("i",{className:"sprite-event-close"}))))})),this.renderFooter())}},{key:"render",value:function(){return g.a.createElement("div",{className:"visual-input reminders "+(this.state.editing?"editing ":"")},g.a.createElement("i",{className:"sprite-event-reminders visual-input-icon"}),null!==this.state.reminders&&this.renderLabel(),this.state.editing&&this.renderRemindersList())}}])&&bp(e.prototype,t),r&&bp(e,r),n}(),kp=n(380);function Op(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Cp,Dp=g.a.forwardRef(function(e,t){var n=Op(g.a.useState(e.defaultValue),2),r=n[0],a=n[1],i=e.editable&&r.split(" ").map(qd).find(Boolean);return g.a.createElement("div",{className:"visual-link"},g.a.createElement(nf,Object.assign({},e,{ref:t,onChange:a})),i?Kd(i,g.a.createElement("i",{className:"sprite-icon-link-open",title:i})):null)});function Tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xp(e){return(xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(e){return(jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Np(e,t){return(Np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ap=function(){function u(e){var s,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=this,n=jp(u).call(this,e),(s=!n||"object"!==xp(n)&&"function"!=typeof n?Mp(t):n).activePromises={},s.activePromiseCount=0,s.hasTabbed=!1,s.initialReminders=null,s.title=null,s.datePicker=null,s.calendarPicker=null,s.rrule=null,s.who=null,s.location=null,s.notes=null,s.custom={},s.signupsList=null,s.commentsList=null,s.reminders=null,s.toggleSidebar=function(e){e.preventDefault(),s.setState({sidebarCollapsed:!s.state.sidebarCollapsed})},s.closeSidebar=function(){s.setState({sidebarCollapsed:!0})},s.handleKeyDown=function(e){if(!document.querySelector(".modal-confirm")){var t=e.target;if(!(("Select-input"===t.className||t.parentNode&&"Select-input"===t.parentNode.className)&&"true"===t.getAttribute("aria-expanded")||-1!==t.className.indexOf("select-widget-input")||"flatpickr-input"===t.className||0===t.className.indexOf("flatpickr-")||"mce-textbox"===t.className||t.className.match("event-signup__input"))){if(27!==e.keyCode||e.defaultPrevented||(s.handleCancel(e),e.stopImmediatePropagation()),13===e.keyCode&&!e.defaultPrevented){var n="Select-input"===t.className||t.parentNode&&"Select-input"===t.parentNode.className?t.closest(".calendarpicker"):null;if(n&&n.classList.contains("is-focused"))return;if(t){if("recurrence-done-btn"===t.id)return;if("eventeditor-signup-btn"===t.id)return;if("editor-print-btn"===t.id)return void s.handlePrint();if("editor-delete-btn"===t.id)return void s.handleDelete();if(t.classList.contains("dropdown-button"))return}s.handleSave()}if(9===e.keyCode&&!s.hasTabbed){s.hasTabbed=!0;for(var r=t,a=f.a.findDOMNode(Mp(s));r!==a;)if((r=r.parentNode)===document){e.preventDefault(),s.title.focus();break}}}}},s.handleSave=function(){if(s.state.saving)console.log("Attempt to save ignored: saving already in progress");else{var e=s.getFormValues(),t=s.getEditedRecord(),n=!0;if(t||(n=!1,t={}),2!==s.state.hasUnsavedComment&&s.commentsList&&(s.commentsList.state.showAddCommentForm||s.commentsList.state.editingComment))s.setState({hasUnsavedComment:1});else{n&&!s.isDirty()&&s.closeModal();var r=s.getFormValues(),a=Object.assign(Y()(t),r);a.custom=Object.assign(Y()(t.custom||{}),r.custom);var i=[];if(re.getState().fields.definitions.filter(function(e){return e.active}).forEach(function(e){var t;t=-1==["builtin_who","builtin_location","builtin_notes"].indexOf(e.type)?a.custom[e.id]||null:a[e.type.substring(8)],-1<["builtin_who","builtin_location","builtin_notes","choices","single_line_text","number"].indexOf(e.type)&&0<e.type_data.min&&(null==t||""==t||0==t.length)&&i.push("custom."+e.id)}),0<i.length)return s.setState({highlightRequiredFields:!0,saving:!1}),void window.requestAnimationFrame(function(){var e=document.getElementById(i[0]);e&&e.scrollIntoView()});var o=e.comments_enabled||s.getInitialEventData().comments_enabled||e.signup_enabled||s.getInitialEventData().signup_enabled;n&&s.getInitialEventData().rrule&&!e.rrule&&o?s.setState({changedRRule:"removed"}):n&&s.getInitialEventData().rrule?(s.setState({showREditPrompt:!0,reditTarget:s.doSave,editingRecurrentEvent:!0}),e.rrule!==s.getInitialEventData().rrule&&o&&s.setState({changedRRule:"changed"})):s.doSave(n,t)}}},s.handleREditPick=function(e){s.state.reditTarget(!0,s.getEditedRecordWhenLoaded(),e)},s.doSave=function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=s.getFormValues(),a=!1;r.subcalendar_ids.forEach(function(e){N.a.findById(e).visible&&(a=!0)}),a||r.subcalendar_ids.forEach(function(e){var t=N.a.findById(e);t.visible||ut.a.toggleResourceVisibility(t,!0)});var i=Object.assign(Y()(n),r);i.custom=Object.assign(Y()(n.custom||{}),r.custom),delete i.signup_public,delete i.comments_privacy,e&&(i.redit=e);var o=null!==i.rrule&&("single"===e||"future"===e);if(b.a.getLoggedInUser()&&(null!==s.state.reminders&&!D()(s.initialReminders,s.state.reminders)||o)&&(i.reminders=o?s.state.reminders?s.state.reminders.map(function(e){return delete e.id,e}):[]:s.state.reminders),s.setState({saving:!0}),Cp=V()(r.subcalendar_ids),0===i.subcalendar_ids.length)return le.a.alert("calendar:event.editor.titleMissingSubcalendar","calendar:event.editor.textMissingSubcalendar"),void s.setState({highlightRequiredFields:!0,saving:!1});i.rrule||!s.getInitialEventData().rrule||"single"!==i.redit&&"future"!==i.redit||(i.rrule=s.getInitialEventData().rrule),Ce.updateEvent(i).then(function(e){if(!t||t&&i.comments_enabled&&!n.comments_enabled||t&&i.signup_enabled&&!n.signup_enabled)return s.flushBufferedWrites(e.id)}).then(function(){s.setState({saving:!1}),s.closeModal()}).catch(function(){s.setState({highlightRequiredFields:!0,saving:!1})})},s.handleDelete=function(e){s.getInitialEventData().rrule?s.setState({showREditPrompt:!0,reditTarget:s.doDelete,editingRecurrentEvent:!1}):re.getState().eventDeleteConfirmationEnabled?s.setState({showDeletePrompt:!0}):s.doDelete(!0,s.getEditedRecordWhenLoaded())},s.doDelete=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;n&&(t.redit=n),Ce.deleteEvent(t).then(function(){return s.closeModal()})},s.handleCancel=function(e){e.defaultPrevented||(!s.isLoading()&&s.isEditable()&&s.isDirty()?s.setState({hasUnsavedChanges:!0}):s.closeModal(),e.preventDefault(),e.stopPropagation())},s.handleDateFromToChange=function(){var e=s.datePicker.getValue();s.setState({dateFrom:e.dateFrom,allDay:e.allDay,reminders:[]})},s.handlePrint=function(){setTimeout(function(){window.print()},0)},s.handleExport=function(e){"teamup"===e&&s.setState({showCopyPrompt:!0}),s.closeSidebar()},s.handleCopyExport=function(e,t){ru.a.exportToTeamup(e,t),s.setState({showCopyPrompt:!1})},s.isEditable=function(){return!s.getInitialEventData().readonly},s.closeModal=function(){xe.a.backToCalendar()},s.setTitleRef=function(e){!s.title&&e&&e.focus(),s.title=e},s.handleSignup=function(){s.setState({showSignupPrompt:!0,sidebarCollapsed:!0})},s.handleComments=function(){s.setState({showCommentsPrompt:!0})},s.updateSignupOptions=function(e){s.setState({showSignupPrompt:!1,signupChanged:!0,signupEnabled:e.enabled,signupDeadline:e.deadline,signupVisibility:e.visibility,signupLimit:e.limit})},s.updateCommentsOptions=function(e){s.setState({showCommentsPrompt:!1,commentsChanged:!0,commentsEnabled:e.enabled,commentsVisibility:e.visibility})},s.handleSubcalendarChange=function(e){s.setState({resIds:e})},s.initCopyDatePicker=function(e){var t={firstDayOfWeek:re.getState().datetime.weekStart,weekdays:{shorthand:T.a.weekdaysShort(),longhand:T.a.weekdays()},months:{shorthand:T.a.monthsShort(),longhand:T.a.months()}};if(s.baseDatePickerOpts={allowInput:!1,dateFormat:"Y-m-d",defaultDate:T()().toDate(),inline:!0,locale:t,onReady:bt.b},e){var n=Y()(s.baseDatePickerOpts);n.onChange=s.handleCopy.bind(Mp(s)),s.copyDatePicker=gt()(e,n)}else s.copyDatePicker&&(Object(bt.a)(null,null,s.copyDatePicker),s.copyDatePicker.destroy())},s.handleOpenCopyDatePicker=function(){var e=s.getEditedRecordWhenLoaded(),t=e.ristart_dt?e.ristart_dt.toDate():e.start_dt.toDate();s.copyDatePicker.setDate(t),s.setState({showCopyToDatePicker:!s.state.showCopyToDatePicker})},s.isMobile=function(){return window.CALENDAR_SETTINGS.mobile};var r=re.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id}),a=re.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id}),i=!!s.getEventId(),o=null,l=s.getInitialEventData();return l.subcalendar_ids&&0<l.subcalendar_ids.length&&(o=l.subcalendar_ids),s.state={sidebarCollapsed:!0,showREditPrompt:!1,changedRRule:!1,signups:[],showSignupPrompt:!1,showCopyPrompt:!1,signupChanged:!1,signupEnabled:i&&r.type_data.default_enabled&&r.active,signupDeadline:T()(),signupVisibility:i?r.type_data.default_visibility:"users_with_modify_permission",signupLimit:i?r.type_data.default_limit:0,comments:[],showCommentsPrompt:!1,commentsChanged:!1,commentsEnabled:i&&a.type_data.default_enabled&&a.active,commentsVisibility:i?a.type_data.default_visibility:"all_users",editingRecurrentEvent:!1,highlightRequiredFields:!1,showDeletePrompt:!1,saving:!1,reminders:null,allDay:null,resIds:o,hasUnsavedComment:0,eventHistory:null,hasUnsavedChanges:!1,customFieldsValues:[],showCopyToDatePicker:!1,eventTz:null},s.initCopyDatePicker(null),s}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Np(e,t)}(u,g.a.Component),e=u,(t=[{key:"componentDidMount",value:function(){if(document.body.addEventListener("keydown",this.handleKeyDown,!1),document.body.className+=" eventeditor-open",le.a.clear(),!this.isNewEvent()){this.loadAuxiliaryInfo();var e=this.activePromises["aux-"+this.getEventId()];this.checkForPrintMode(e||Promise.resolve());var t=this.getEditedRecord();Yd()(t)&&t.title&&(document.title=t.title+" | "+b.a.getAppTitle()+" | Teamup")}}},{key:"UNSAFE_componentWillReceiveProps",value:function(){var e=document.location.pathname;this.state.lastRouterPath!==e&&(this.setState({lastRouterPath:e,eventHistory:null,signups:[],comments:[],reminders:null}),this.hasTabbed=!1,le.a.clear())}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1),document.body.className=document.body.className.replace(/ eventeditor-open/g,""),document.title=b.a.getAppTitle()+" | Teamup"}},{key:"checkForPrintMode",value:function(e){var t=this;this.props.match.path===xe.a.getRawPath("print_event")&&e.then(function(){0==t.activePromiseCount&&setTimeout(t.handlePrint,100)})}},{key:"flushBufferedWrites",value:function(e){var t=[];return this.commentsList&&t.push(this.commentsList.flushBufferedWrites(e)),this.signupsList&&t.push(this.signupsList.flushBufferedWrites(e)),Promise.all(t)}},{key:"isLoading",value:function(){return"loading"===this.getEditedRecord()}},{key:"isDirty",value:function(){var e=this.getFormValues(),r=this.getInitialEventData(),a=Object.assign(Y()(r),e),i=this.initialReminders,o=this.state.reminders;a.custom=Object.assign(Y()(r.custom||{}),e.custom),re.getState().fields.definitions.forEach(function(e){if(!e.type.match(/^builtin_/)&&"choices"===e.type&&r.custom&&r.custom[e.id]){var t=ce.a.listToMap(e.type_data.options.map(function(e,t){return Object.assign({index:t},e)})),n=r.custom[e.id].filter(function(e){return t[e].hidden});r.custom[e.id]=r.custom[e.id].filter(function(e){return!n.includes(e)})}}),delete r.subcalendars,delete a.subcalendars,delete r.tableCells,delete a.tableCells;var t=Object.keys(a).filter(function(e){var t="reminders"===e?i:r[e],n="reminders"===e?o:a[e];return(""!==t&&null!=t||""!==n&&null!=n)&&(T.a.isMoment(t)&&T.a.isMoment(n)?!t.isSame(n,"second"):Yd()(t)&&Yd()(n)?!D()(t,n):"string"==typeof t&&"string"==typeof n?t.trim()!=n.trim():!D()(t,n))});return 0<t.length&&console.table,0<t.length}},{key:"getDefaultResources",value:function(){var e=N.a.getState().resources;if(Cp){var t=e.filter(function(e){return-1!==Cp.indexOf(e.id)&&!e.readonly&&e.visible}).map(function(e){return e.id});if(0<t.length)return t}var n=e.filter(function(e){return e&&!e.readonly});return 1===n.length?[n[0].id]:1===(n=e.filter(function(e){return e&&!e.readonly&&e.visible})).length?[n[0].id]:[]}},{key:"getEventId",value:function(){return this.props.match.params.event_id||null}},{key:"getEditedRecord",value:function(){var e,t=this,n=this.getEventId();if(n)return this.activePromises["event-"+n]?"loading":(e=Ue.findById(n,!0))instanceof Promise?(this.activePromises["event-"+n]=e,this.activePromiseCount++,this.activePromises["event-"+n].then(function(e){delete t.activePromises["event-"+n],t.activePromiseCount--,e.id&&(t.forceUpdate(),document.title=e.title+" | "+b.a.getAppTitle()+" | Teamup")}).catch(function(){delete t.activePromises["event-"+n],t.activePromiseCount--}),this.checkForPrintMode(this.activePromises["event-"+n]),"loading"):e||"loading"}},{key:"getEditedRecordWhenLoaded",value:function(){var e=this.getEditedRecord();if(!e||"loading"===e)throw new Error("The record is not loaded, getEditedRecordWhenLoaded should not be called if not guaranteed to have a record present");return e}},{key:"getGridResolution",value:function(){var e=re.getState().datetime.defaultEventDuration,t=re.getState().grid.resolution;return-1===e?t:e}},{key:"getDateFromString",value:function(e){return null===/([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g.exec(e)?T()(e+" 12:00:00").startOf("day"):T()(e)}},{key:"getInitialEventData",value:function(){var e=this.props.match.params,t=b.a.getQueryParams(),n=T()().startOf("hour"),r=re.getState().timezone.value,s={title:"",start_dt:re.getState().datetime.currentDate.clone().minutes(n.minutes()).hours(n.hours()),end_dt:void 0,all_day:!1,rrule:"",location:"",who:"",notes:"",readonly:!1,subcalendar_ids:[],custom:{},tz:r,reminders:null};if(s.timezone=r,e.event_id){var a=this.getEditedRecord();if(Yd()(a)){var i=s.custom;(s=Object.assign(s,a)).custom=Object.assign(i,a.custom),s.start_dt=T()(a.start_dt),s.end_dt=T()(a.end_dt)}re.getState().fields.definitions.forEach(function(e){if("choices"===e.type){var t=ce.a.listToMap(e.type_data.options.map(function(e,t){return Object.assign({index:t},e)}));s.custom[e.id]=Vd()(s.custom[e.id],function(e){return t[e].index})}})}else{var o=re.getState().datetime.defaultEventDuration,l=this.getGridResolution(),u=-1===o?30===l?60:l:o;s.title=t.title||s.title;try{s.start_dt=this.getDateFromString(JSON.parse(t.start_dt)||s.start_dt)}catch(e){s.start_dt=this.getDateFromString(t.start_dt||s.start_dt)}try{s.end_dt=t.end_dt?this.getDateFromString(JSON.parse(t.end_dt)):s.start_dt.clone().minutes(s.start_dt.minutes()+u)}catch(e){s.end_dt=t.end_dt?this.getDateFromString(t.end_dt):s.start_dt.clone().minutes(s.start_dt.minutes()+u)}if(s.all_day=void 0!==t.all_day?1==t.all_day||"true"==t.all_day:s.all_day,s.rrule=t.rrule||s.rrule,s.location=t.location||s.location,s.who=t.who||s.who,s.notes=t.notes||s.notes,t.subcalendar_ids)if("string"==typeof t.subcalendar_ids){var c=t.subcalendar_ids.replace("[","").replace("]","");s.subcalendar_ids=c.split(",").map(Number)}else s.subcalendar_ids=t.subcalendar_ids;else t.subcalendars?s.subcalendar_ids="string"==typeof t.subcalendars?t.subcalendars.split(","):t.subcalendars:s.subcalendar_ids=this.getDefaultResources();if(s.subcalendar_ids=s.subcalendar_ids.map(function(e){return parseInt(e,10)}),s.start_dt.isSame(s.start_dt.clone().startOf("day"))&&s.end_dt.isSameOrAfter(s.end_dt.endOf("day").subtract(59,"seconds").millisecond(0))&&(s.all_day=!0),s.all_day&&(s.start_dt.startOf("day"),s.end_dt.endOf("day").subtract(59,"seconds").millisecond(0)),t.custom){var d,f=re.getState().fields.definitions;"object"===xp(t.custom)&&(d=t.custom),"string"==typeof t.custom&&(d=JSON.parse(t.custom)),Object.entries(d).forEach(function(e){var t=Tp(e,2),n=t[0],r=t[1],a=n.toLowerCase(),i=f.find(function(e){return e.id===a});if(i){var o="choices"!==i.type||Array.isArray(r)?r:[r];s.custom||(s.custom={}),s.custom[a]=o}})}var p=this.getSignupDefaults(s),h=this.getCommentsDefaults();s.signup_enabled=p.enabled||void 0,s.signup_deadline=p.deadline||void 0,s.signup_visibility=p.visibility||void 0,s.signup_limit=p.limit||void 0,s.comments_enabled=h.enabled||void 0,s.comments_visibility=h.visibility}return re.getState().timezone.visible||(s.timezone="",s.tz=""),s}},{key:"isNewEvent",value:function(){return this.props.match.path===xe.a.getUrl("create_event")}},{key:"getFormValues",value:function(){var s=this,l={},u=this.getInitialEventData();return this.props.match.params.event_id&&(l.id=this.props.match.params.event_id),l.title=this.title.getValue().trim(),l.start_dt=this.datePicker.getValue().dateFrom,l.end_dt=this.datePicker.getValue().dateTo,l.all_day=this.datePicker.getValue().allDay,l.all_day&&(l.start_dt.startOf("day"),l.end_dt.endOf("day").subtract(59,"seconds").millisecond(0)),l.rrule=this.rrule.getValue()||void 0,l.location=this.location?this.location.getValue():u.location||"",l.who=this.who?this.who.getValue():u.who||"",l.notes=this.notes?this.notes.getValue():u.notes||"",l.subcalendar_ids=this.calendarPicker.getValue(),null===u.signup_enabled&&!this.state.signupChanged||(l.signup_enabled=this.state.signupChanged?this.state.signupEnabled:u.signup_enabled,l.signup_deadline=this.state.signupChanged?this.state.signupDeadline:u.signup_deadline,l.signup_visibility=this.state.signupChanged?this.state.signupVisibility:u.signup_visibility,l.signup_limit=this.state.signupChanged?this.state.signupLimit:u.signup_limit),null===u.comments_enabled&&!this.state.commentsChanged||(l.comments_enabled=this.state.commentsChanged?this.state.commentsEnabled:u.comments_enabled,l.comments_visibility=this.state.commentsChanged?this.state.commentsVisibility:u.comments_visibility),l.custom={},this.state.eventTz&&(l.tz=this.state.eventTz),re.getState().fields.definitions.forEach(function(e){if(!e.type.match(/^builtin_/)){var t=!!s.custom[e.id],n=!t||s.custom[e.id].getValue(),r=t&&n&&n.length,a=Object.prototype.hasOwnProperty.call(u.custom,e.id),i=!a||u.custom[e.id];if(r||a)if(t){if("choices"===e.type){var o=ce.a.listToMap(e.type_data.options.map(function(e,t){return Object.assign({index:t},e)}));a&&1===e.type_data.max&&1<n.length&&(n=[n[0]]),n=Vd()(n,function(e){return o[e].index})}l.custom[e.id]=n}else l.custom[e.id]=i}}),u.custom.company_cam_project_id&&(l.custom.company_cam_project_id=u.custom.company_cam_project_id),l}},{key:"renderCloseButton",value:function(){return g.a.createElement("a",{className:"button ghost close-icon",onClick:this.handleCancel},g.a.createElement("i",{className:"sprite-event-close"}))}},{key:"renderUnsavedChangesConfirm",value:function(){var e=this;return this.state.hasUnsavedChanges?g.a.createElement(Xt.a,{title:"calendar:event.editor.titleUnsavedChanges",message:"calendar:event.editor.textUnsavedChanges",yesText:"core_js:save",noText:"core_js:unsaved_changes.discard",onYes:this.handleSave,onNo:this.closeModal,onClose:function(){e.setState({hasUnsavedChanges:!1})}}):null}},{key:"renderRRuleChangeConfirm",value:function(){var e=this;return this.state.changedRRule?g.a.createElement(Xt.a,{title:"calendar:event.editor.titleRRuleChange",message:"calendar:event.editor.textRRuleChange",yesText:"core_js:save",noText:"core_js:unsaved_changes.discard",onYes:function(){e.setState({changedRRule:!1}),"removed"===e.state.changedRRule&&e.doSave(!0,e.getEditedRecordWhenLoaded())},onNo:this.closeModal,onClose:function(){e.setState({changedRRule:!1})}}):null}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.showREditPrompt){var t=!1;if(this.state.editingRecurrentEvent){var n=this.getEditedRecordWhenLoaded(),r=T()("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return g.a.createElement(ni,{onPick:this.handleREditPick,onCancel:function(){e.setState({showREditPrompt:!1,editingRecurrentEvent:!1})},rruleUntilMessage:t})}return null}},{key:"renderSignupOptionsPrompt",value:function(){var e=this;if(this.state.showSignupPrompt){var t=this.getInitialEventData();return g.a.createElement($f,{options:this.initSignupOptions(t),handleSave:this.updateSignupOptions,onCancel:function(){e.setState({showSignupPrompt:!1})}})}return null}},{key:"renderCopyOptionsPrompt",value:function(){var t=this;if(this.state.showCopyPrompt){var n=this.getInitialEventData();return g.a.createElement(Su.a,{eventId:n.id,onConfirm:function(e){return t.handleCopyExport(n,e)},onCancel:function(){return t.setState({showCopyPrompt:!1})}})}return null}},{key:"renderCommentsOptionsPrompt",value:function(){var e=this;if(this.state.showCommentsPrompt){var t=this.getInitialEventData();return g.a.createElement(mp,{options:this.initCommentsOptions(t),handleSave:this.updateCommentsOptions,onCancel:function(){e.setState({showCommentsPrompt:!1})}})}return null}},{key:"renderDeletePrompt",value:function(){var e=this;if(this.state.showDeletePrompt)return g.a.createElement(uu,{onConfirm:function(){e.doDelete(!0,e.getEditedRecordWhenLoaded())},onCancel:function(){e.setState({showDeletePrompt:!1})}})}},{key:"getSignupDefaults",value:function(e){var t=re.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id});return{enabled:t.type_data.default_enabled&&t.active,deadline:e.start_dt.clone().subtract(T.a.duration(t.type_data.default_deadline_offset)),visibility:t.type_data.default_visibility,limit:t.type_data.default_limit}}},{key:"initSignupOptions",value:function(e){if(this.state.signupChanged)return{enabled:this.state.signupEnabled,deadline:this.state.signupDeadline,visibility:this.state.signupVisibility,limit:this.state.signupLimit};var t=this.getSignupDefaults(e);return{enabled:void 0!==e.signup_enabled&&e.signup_enabled,deadline:e.signup_deadline?e.signup_deadline:t.deadline,visibility:e.signup_visibility?e.signup_visibility:t.visibility,limit:void 0!==e.signup_limit&&null!==e.signup_limit?e.signup_limit:t.limit}}},{key:"getCommentsDefaults",value:function(){var e=re.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id});return{enabled:e.type_data.default_enabled&&e.active,visibility:e.type_data.default_visibility}}},{key:"initCommentsOptions",value:function(e){if(this.state.commentsChanged)return{enabled:this.state.commentsEnabled,visibility:this.state.commentsVisibility};var t=this.getCommentsDefaults();return{enabled:void 0!==e.comments_enabled&&e.comments_enabled,visibility:e.comments_visibility?e.comments_visibility:t.visibility}}},{key:"loadAuxiliaryInfo",value:function(){var t=this,n=this.getEventId();n&&(this.activePromises["aux-"+n]||(this.activePromises["aux-"+n]=Object(H.a)("GET",b.a.getBaseUrl()+"/"+b.a.getAppKey()+"/events/"+n+"/aux?tz="+re.getState().timezone.value).then(function(e){t.setState({eventHistory:e.history,signups:e.signups,comments:e.comments,reminders:e.reminders}),t.initialReminders=e.reminders,delete t.activePromises["aux-"+n],t.activePromiseCount--}).catch(function(){delete t.activePromises["aux-"+n],t.activePromiseCount--}),this.activePromiseCount++))}},{key:"renderSignups",value:function(n,r,e,t,a,i,o,s){var l=this;return e.enabled?g.a.createElement(Bf.a,{key:o,ref:function(e){l.signupsList=e},signups:a?this.state.signups:[],eventId:n.id,editable:r,enabled:e.enabled,newlyEnabled:!n.id||e.enabled&&!this.getInitialEventData().signup_enabled,allowSignup:t,displaySignups:a,updateHandler:function(e,t){l.setState({signups:e},function(){0!==t&&(r||void 0!==n.signups?n.signups=e:n.signup_count=(void 0===n.signup_count?0:n.signup_count)+t,Ce.eventWasUpdated({event:n,undo_id:""},null))})},signupButtons:this.getEventId()&&n.signup_enabled?i:[],containerClass:"visual-input event__signups",limit:e.limit,deadline:s,signedUpCount:n.signup_count||void 0}):null}},{key:"renderComments",value:function(e,t,n,r){var a=this,i=(t||!t&&"all_users"===n.visibility)&&n.enabled;return g.a.createElement(vp.a,{key:r,ref:function(e){a.commentsList=e},comments:i?this.state.comments:[],eventId:e.id,editable:t,enabled:n.enabled,newlyEnabled:!e.id||n.enabled&&!this.getInitialEventData().comments_enabled,visibility:n.visibility,displayComments:i,updateHandler:function(e){a.setState({comments:e})},timezone:re.getState().timezone.value,containerClass:"visual-input event__comments",iconClass:"sprite-icon-event-comments"})}},{key:"renderHistory",value:function(){if(this.state.eventHistory){var e=this.state.eventHistory,t=e.updates.length?e.updates[0]:null;return g.a.createElement("div",{className:"history"},g.a.createElement(We.a,{message:"calendar:event.editor.footer.created_on"})," ",g.a.createElement(kp.a,{date:T.a.parseZone(e.created.datetime)})," ",e.created.by&&g.a.createElement(We.a,{message:"calendar:event.editor.footer.by"}),e.created.by&&" "+e.created.by,t&&", ",t&&g.a.createElement(We.a,{message:"calendar:event.editor.footer.updated_on"}),t&&" ",t&&g.a.createElement(kp.a,{date:T.a.parseZone(t.datetime)}),t&&" ",t&&t.by&&g.a.createElement(We.a,{message:"calendar:event.editor.footer.by"}),t&&t.by&&" "+t.by)}this.loadAuxiliaryInfo()}},{key:"renderCustomisableFields",value:function(a,i){var o=this;return re.getState().fields.definitions.map(function(t,e){var n="custom-"+t.id,r="custom."+t.id;if(!t.hidden)return o.renderField(t,a,i,n,function(e){o.custom[t.id]=e},r,e)})}},{key:"renderField",value:function(e,t,n,r,a,i,o){var s=this,l=t.custom||{},u=o+20;if("builtin_who"===e.type){if(!(n&&e.active||t.who.length))return;return g.a.createElement(Dp,{key:r,ref:function(e){s.who=e},id:"custom.builtin_who",name:"who",editable:n,label:e.name||"calendar:event.editor.whoLabelText",translate:""===e.name,icon:"sprite-event-who",defaultValue:t.who,required:0<e.type_data.min,parseLinks:!0,tabIndex:u})}if("builtin_location"===e.type){if(!(n&&e.active||t.location.length))return;return g.a.createElement(Dp,{key:r,ref:function(e){s.location=e},id:"custom.builtin_location",name:"location",editable:n,label:e.name||"calendar:event.editor.whereLabelText",translate:""===e.name,icon:"sprite-event-where",defaultValue:t.location,required:0<e.type_data.min,parseLinks:!0,tabIndex:u},g.a.createElement(We.a,{component:"a",message:"calendar:event.editor.showOnMap",target:"_blank",className:"soft-button show-on-map",onClick:function(e){e.preventDefault(),window.open("https://www.google.com/maps/search/"+encodeURIComponent(s.location?s.location.getValue():t.location),"_blank")}}))}if("builtin_notes"===e.type){if(!(n&&e.active||t.notes))return;return g.a.createElement(Sf,{key:r,ref:function(e){s.notes=e},id:"custom.builtin_notes",name:"notes",editable:n,placeholder:" ",label:e.name||"calendar:event.tooltip.description",translate:""===e.name,defaultValue:t.notes||void 0,icon:g.a.createElement("i",{className:"sprite-event-description visual-input-icon"}),required:0<e.type_data.min,editorType:"event",tabIndex:u})}if("builtin_signup"===e.type){var c=this.initSignupOptions(t),d=(n||!n&&"all_users"===c.visibility)&&c.enabled,f=!!(c.enabled&&T()(c.deadline)>T()()),p=[{id:"eventeditor-signup-btn",className:"button secondary",icon:"sprite-event-flag-white",label:j.a.trans("calendar:event.editor.signupText"),onClick:this.closeSidebar,tabIndex:1001}];return this.renderSignups(t,n,c,f,d,p,r,T()(c.deadline))}if("builtin_comments"===e.type){var h=this.initCommentsOptions(t);return this.renderComments(t,n,h,r)}if("builtin_company_cam"===e.type){if(!l.company_cam_project_id||e.hidden)return;return g.a.createElement(yp.a,{key:r,label:e.name,projectId:l.company_cam_project_id})}if("single_line_text"===e.type){if(!(n&&e.active||l[e.id]))return;return g.a.createElement(Dp,{key:r,ref:a,id:i,name:i,editable:n,required:0<e.type_data.min,label:e.name,translate:!1,defaultValue:t.custom[e.id]||"",icon:"sprite-event-single-line",parseLinks:!0,tabIndex:u})}if("number"===e.type){if(!(n&&e.active||l[e.id]))return;return g.a.createElement(uf,{key:r,ref:a,id:i,name:i,editable:n,required:0<e.type_data.min,label:e.name,translate:!1,defaultValue:t.custom[e.id]||"",icon:"sprite-event-number",prefix:e.type_data.prefix,postfix:e.type_data.postfix,decimals:e.type_data.decimals,tabIndex:u})}if("choices"===e.type){if(!(n&&e.active||l[e.id]&&l[e.id].length))return;var m=e.type_data,v=t.custom[e.id]||[],y=ce.a.listToMap(m.options);return v=v.filter(function(e){return y[e]&&!y[e].hidden}),g.a.createElement("div",{className:"visual-input",key:r,id:i},g.a.createElement("i",{className:"sprite-event-choices visual-input-icon"}),g.a.createElement("label",null,0<m.min&&n?j.a.translate("core_js","required_field_label",{label:e.name}):e.name),g.a.createElement(Be.a,{ref:a,editable:n,required:0<m.min,defaultValue:v,multi:0===m.max,resources:m.options.filter(function(e){return e.active||-1!==v.indexOf(e.id)}).map(function(e){return{id:e.id,name:e.name,color:e.color,emoji:e.emoji,readonly:!1,visible:!0}}),searchPromptText:j.a.translate("core_js","custom_field_picker.no_result"),className:"choicepicker",tabIndex:u}))}"builtin_title"!==e.type&&"builtin_calendars"!==e.type&&console.log("Field "+e.id+" has unrecognised type "+e.type)}},{key:"renderUnsavedCommentConfirm",value:function(){var e=this;return 1===this.state.hasUnsavedComment?g.a.createElement(Xt.a,{title:"calendar:event.editor.titleUnsavedComment",message:"calendar:event.editor.textUnsavedComment",yesText:"core_js:save",noText:"core_js:cancel",onYes:function(){e.setState({hasUnsavedComment:2},e.handleSave)},onNo:function(){e.setState({hasUnsavedComment:0})},onClose:function(){e.setState({hasUnsavedComment:0})}}):null}},{key:"handleCopy",value:function(e){var t=this.getEditedRecordWhenLoaded();Ce.copyEventToDate(t,T()(e[0])),this.closeModal()}},{key:"render",value:function(){var t=this,e=re.getState(),n=this.isNewEvent(),r=e.fields.definitions.find(function(e){return"builtin_title"===e.type}),a=e.fields.definitions.find(function(e){return"builtin_calendars"===e.type});if("loading"===this.getEditedRecord())return g.a.createElement(Hu.a,{className:"eventeditor"},g.a.createElement("section",{className:"eventeditor__header"},g.a.createElement("div",{className:"menu"},this.renderCloseButton(),g.a.createElement("a",{href:"#",onClick:this.toggleSidebar,className:"button menu-icon"},g.a.createElement("i",{className:"sprite-event-menu"}))),g.a.createElement("section",{className:"title-input"},g.a.createElement(nf,{name:"title",editable:!1,placeholder:r.name?r.name:"calendar:event.editor.titlePlaceholder",defaultValue:"",readonlyPlaceholder:"calendar:event.editor.loading",tabIndex:1}))));var i=this.getInitialEventData(),o=!i.readonly,s=this.state.sidebarCollapsed?"":" menu-icon-open",l=e.fields.definitions.find(function(e){return"builtin_signup"===e.type}),u=!l.hidden&&(l.active||this.initSignupOptions(i).enabled),c=e.fields.definitions.find(function(e){return"builtin_comments"===e.type}),d=!c.hidden&&(c.active||this.initCommentsOptions(i).enabled);return g.a.createElement(Hu.a,{className:"eventeditor",draggable:!0,draggableHandle:".eventeditor__header",dragCancel:".textarea, .emoji-picker-dialog, .emoji-trigger",dragId:"eventeditor"},g.a.createElement("section",{className:"eventeditor__header"},g.a.createElement("div",{className:"menu"},this.renderCloseButton(),o&&g.a.createElement("a",{className:"button primary save-button",onClick:this.handleSave},g.a.createElement("i",{className:"sprite-event-check-white"})," ",g.a.createElement(We.a,{message:"calendar:event.editor.saveButtonText"})),!n&&g.a.createElement("a",{href:"#",onClick:this.toggleSidebar,className:"button menu-icon"+s},g.a.createElement("i",{className:"sprite-event-menu"}))),g.a.createElement("section",{className:"title-input"},g.a.createElement(Dp,{ref:this.setTitleRef,parseLinks:!0,name:"title",editable:o,placeholder:r.name?r.name:"calendar:event.editor.titlePlaceholder",defaultValue:i.title,maxLength:255,readonlyPlaceholder:"calendar:calendar.defaultEventTitleText",tabIndex:1}))),this.renderUnsavedChangesConfirm(),this.renderREditPrompt(),this.renderRRuleChangeConfirm(),this.renderSignupOptionsPrompt(),this.renderCopyOptionsPrompt(),this.renderCommentsOptionsPrompt(),this.renderDeletePrompt(),this.renderUnsavedCommentConfirm(),g.a.createElement("section",{className:"eventeditor__content"},g.a.createElement(vf,{ref:function(e){t.datePicker=e},editable:o,resolution:this.getGridResolution(),defaultDateFrom:i.start_dt,defaultDateTo:i.end_dt,defaultAllDay:i.all_day,onChange:this.handleDateFromToChange,id:i.id,tabIndex:2},g.a.createElement(Hf,{ref:function(e){t.rrule=e},editable:o,defaultValue:i.rrule,dateFrom:this.state.dateFrom||i.start_dt,recurrenceStartDate:i.rsstart_dt||this.state.dateFrom||i.start_dt,timezone:this.state.eventTz||i.tz,onTimezoneChange:function(e){t.setState({eventTz:e})},weekStart:b.a.getCalendarDefaults().datetime.weekStart,tabIndex:7}),g.a.createElement("br",null)),(null!==this.state.reminders||n)&&g.a.createElement(Sp,{ref:function(e){t.reminders=e},editable:o,reminders:this.state.reminders||[],eventId:i.id,allDay:null===this.state.allDay?i.all_day:this.state.allDay,resIds:null===this.state.resIds?i.subcalendar_ids:this.state.resIds,timezone:re.getState().timezone.value,onSave:function(e){t.setState({reminders:e})},user:b.a.getLoggedInUser()}),g.a.createElement("div",{className:"visual-input"},g.a.createElement("i",{className:"sprite-event-subcalendars visual-input-icon"}),a.name&&""!==a.name?g.a.createElement("label",null,a.name):g.a.createElement(We.a,{component:"label",message:"calendar:event.editor.calendarLabelText"}),g.a.createElement(Be.a,{ref:function(e){t.calendarPicker=e},editable:o,defaultValue:i.subcalendar_ids,resources:N.a.getState().resources,multi:e.oneToMany.enabled,clearable:!1,searchPromptText:j.a.translate("core_js","calendar_picker.no_result"),onChange:this.handleSubcalendarChange,tabIndex:19}))),g.a.createElement("section",{className:"eventeditor__sidebar"+(this.state.sidebarCollapsed?"":" opened")},o&&g.a.createElement("p",{className:"save-button"},g.a.createElement("button",{type:"submit",className:"button primary",onClick:this.handleSave,tabIndex:1e3},g.a.createElement("i",{className:"sprite-event-check-white"})," ",g.a.createElement(We.a,{message:"calendar:event.editor.saveButtonText"}))),!n&&i.signup_enabled?g.a.createElement("p",{id:"eventeditor-signup-btn"}):null,!n&&g.a.createElement("p",null,g.a.createElement("a",{className:"button",onClick:this.handlePrint,tabIndex:1002,id:"editor-print-btn"},g.a.createElement("i",{className:"sprite-event-print"})," ",g.a.createElement(We.a,{message:"calendar:event.editor.printButtonText"}))),!n&&g.a.createElement("div",null,g.a.createElement(np,{event:i,onExport:this.handleExport,tabIndex:1003})),o&&g.a.createElement("div",null,g.a.createElement(lp,{event:i,onSignup:this.handleSignup,onComments:this.handleComments,signup:u,comments:d,tabIndex:1004})),this.isMobile()&&g.a.createElement("div",null,!n&&o&&g.a.createElement("p",null,g.a.createElement("a",{className:"button",onClick:function(){return t.handleOpenCopyDatePicker()},tabIndex:1005},g.a.createElement("i",{className:"sprite-icon-link-copy eventeditor-copy-icon"}),g.a.createElement(We.a,{message:"calendar:event.menu.copyTo"}))),g.a.createElement("div",{className:this.state.showCopyToDatePicker?"copy-date-picker is-visible":"copy-date-picker"},g.a.createElement("div",{ref:this.initCopyDatePicker}))),!n&&o&&g.a.createElement("p",null,g.a.createElement("a",{className:"button",onClick:this.handleDelete,tabIndex:1006,id:"editor-delete-btn"},g.a.createElement("i",{className:"sprite-event-delete"})," ",g.a.createElement(We.a,{message:"calendar:event.editor.deleteButtonText"})))),g.a.createElement("section",{className:"eventeditor__rest"+(this.state.highlightRequiredFields?" show-required":"")},this.renderCustomisableFields(i,o),!n&&this.renderHistory(i)))}}])&&Pp(e.prototype,t),n&&Pp(e,n),u}();function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rp=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=null}var t,n,r;return t=e,(n=[{key:"show",value:function(e){this.ref=document.querySelector("."+e),this.ref&&(this.ref.className+=" is-loading")}},{key:"hide",value:function(e){this.ref=document.querySelector("."+e),this.ref&&(this.ref.className=this.ref.className.replace(/ is-loading/g,""))}}])&&Lp(t.prototype,n),r&&Lp(t,r),e}());function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(e,t){return!t||"object"!==Ip(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yp(e,t){return(Yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hp=function(){function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Vp(this,Up(r).call(this,e))).handleKeyDown=function(e){27===e.keyCode&&xe.a.backToCalendar()},n.closeModal=function(){xe.a.backToCalendar()},n.refresh=function(e){e.preventDefault();var t=n.getFormValues();y.setPrintPdfOptions(t),Rp.show(n.props.loadingContainerClassName),n.setState(t)};var t=re.getState();return n.state=t.printPdfOptions||{format:"en"===window.APP_LANGUAGE?"Letter":"A4",orientation:"portrait",color:"full",sidepanel:"v"},n}var e,t,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yp(e,t)}(r,id["a"].makeFormValues()),e=r,(t=[{key:"componentDidMount",value:function(){Rp.show(this.props.loadingContainerClassName),document.body.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"renderCloseButton",value:function(){return g.a.createElement("a",{className:"button ghost close-icon",onClick:this.closeModal},g.a.createElement("i",{className:"sprite-event-close"}))}},{key:"buildUrl",value:function(){var e="&format="+this.state.format+"&orientation="+this.state.orientation+"&color="+this.state.color+"&sidepanel="+this.state.sidepanel,t=b.a.getInitialQueryParams();return t.zoom&&(e+="&zoom="+t.zoom),He.buildAppStateUrl(this.props.baseUrl)+e}},{key:"renderPreviewIframe",value:function(){var e=this;return g.a.createElement("iframe",{src:this.buildUrl()+"&cachebuster="+Math.round((new Date).getTime()/1e3),height:"100%",width:"100%",onLoad:function(){Rp.hide(e.props.loadingContainerClassName)},onError:function(){Rp.hide(e.props.loadingContainerClassName)}})}},{key:"renderPreferencesForm",value:function(){return g.a.createElement("form",{onSubmit:this.refresh},g.a.createElement("div",{className:"row__inputs"},g.a.createElement("div",null,g.a.createElement("label",null,g.a.createElement("i",{className:"sprite-icon-orientation"}),j.a.translate("calendar","settings_menu.pdfExportWin.orientation")),g.a.createElement("select",{className:"settings__select",name:"orientation",defaultValue:this.state.orientation},g.a.createElement(We.a,{message:"calendar:settings_menu.pdfExportWin.portrait",component:"option",value:"portrait"}),g.a.createElement(We.a,{message:"calendar:settings_menu.pdfExportWin.landscape",component:"option",value:"landscape"})))),g.a.createElement("div",{className:"row__inputs"},g.a.createElement("div",null,g.a.createElement("label",null,g.a.createElement("i",{className:"sprite-icon-page"}),j.a.translate("calendar","settings_menu.pdfExportWin.format")),g.a.createElement("select",{className:"settings__select",name:"format",defaultValue:this.state.format},g.a.createElement("option",{value:"Legal"},"Legal"),g.a.createElement("option",{value:"Letter"},"Letter"),g.a.createElement("option",{value:"Tabloid"},"Tabloid"),g.a.createElement("option",{value:"A4"},"A4"),g.a.createElement("option",{value:"A3"},"A3"),g.a.createElement("option",{value:"A2"},"A2"),g.a.createElement("option",{value:"A1"},"A1"),g.a.createElement("option",{value:"A0"},"A0")))),g.a.createElement("div",{className:"row__inputs"},g.a.createElement("div",null,g.a.createElement("label",null,g.a.createElement("i",{className:"sprite-icon-color"}),j.a.translate("calendar","settings_menu.pdfExportWin.color")),g.a.createElement("select",{className:"settings__select",name:"color",defaultValue:this.state.color},g.a.createElement("option",{value:"full"},"Full Color"),g.a.createElement("option",{value:"eco"},"Eco Mode")))),g.a.createElement("div",{className:"row__inputs"},g.a.createElement("div",null,g.a.createElement("label",null,g.a.createElement("i",{className:"sprite-icon-sidebar"}),j.a.translate("calendar","settings_menu.pdfExportWin.sidepanel")),g.a.createElement("select",{className:"settings__select",name:"sidepanel",defaultValue:this.state.sidepanel},g.a.createElement("option",{value:"v"},j.a.translate("core_js","yes")),g.a.createElement("option",{value:"c"},j.a.translate("core_js","no"))))),g.a.createElement("div",{className:"row__inputs buttons"},g.a.createElement(We.a,{type:"submit",message:"calendar:settings_menu.pdfExportWin.refreshBtn",component:"button",className:"button secondary"})))}},{key:"render",value:function(){return g.a.createElement(Hu.a,{className:"pdf-preview-win"},g.a.createElement("section",{className:"pdf-preview-win__header"},g.a.createElement("div",{className:"menu"},this.renderCloseButton()),g.a.createElement("section",{className:"title-input"},g.a.createElement(We.a,{message:"calendar:settings_menu.pdfExport",component:"h1"}))),g.a.createElement("section",{className:"pdf-preview-win__options"},this.renderPreferencesForm()),g.a.createElement("section",{className:"pdf-preview-win__body"},g.a.createElement("div",{className:this.props.loadingContainerClassName},g.a.createElement("div",{className:"spinner"})),this.renderPreviewIframe()))}}])&&Fp(e.prototype,t),n&&Fp(e,n),r}();Hp.defaultProps={baseUrl:b.a.getBaseUrl()+"/"+b.a.getAppKey()+"/print/pdf",loadingContainerClassName:"loading-spinner"};var Bp=Hp;function Wp(e){return(Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(e,t){return!t||"object"!==Wp(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Kp(e){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qp(e,t){return(qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $p=xe.a.getAppUrl(),Jp=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Gp(this,Kp(e).apply(this,arguments))}var t,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qp(e,t)}(e,g.a.Component),t=e,(n=[{key:"render",value:function(){return g.a.createElement("div",null)}}])&&zp(t.prototype,n),r&&zp(t,r),e}();!function(){if(window.location.hash&&0<window.location.hash.length){var e=window.location.hash;if("#"===e.substring(0,1)&&(e=e.substring(1)),-1===e.indexOf("preferences"))return;"/"!==e.substring(0,1)&&(e="/"+e),window.location.href=$p+e}}(),window.addEventListener("popstate",function(){-1!==window.location.href.indexOf(xe.a.getSettingsUrl())&&(Te.show(),document.location.href=document.location.href)});function Qp(){return g.a.createElement(Fu.a,{section:"preferences"},g.a.createElement(Zp,null))}var Zp=Object(Vu.g)(Ap),Xp=Object(Vu.g)(Id),eh=Object(Uu.a)(),th=g.a.createElement(Vu.c,{history:eh},g.a.createElement("div",null,g.a.createElement(Vu.d,null,g.a.createElement(Vu.a,{exact:!0,from:$p+"/preferences",to:$p+"/preferences/ical-feeds"}),g.a.createElement(Vu.a,{exact:!0,from:$p+"/preferences/",to:$p+"/preferences/ical-feeds"}),g.a.createElement(Vu.a,{from:$p+"/new",to:$p+"/events/new"}),g.a.createElement(Vu.b,{path:$p+"/preferences",component:function(){return g.a.createElement(Fu.a,{section:"preferences"},g.a.createElement(Xp,null))}}),g.a.createElement(Vu.b,{path:$p+"/events/new",component:Qp}),g.a.createElement(Vu.b,{path:$p+"/events/:event_id/print",component:Qp}),g.a.createElement(Vu.b,{path:$p+"/events/:event_id",component:Qp}),g.a.createElement(Vu.b,{path:$p+"/print",component:Bp}),g.a.createElement(Vu.b,{path:$p+"/",component:Jp}),g.a.createElement(Vu.b,{path:$p+"*",component:Jp})))),nh=n(478),rh=n(412),ah=n(401),ih=n(432);function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var sh=0;r.a.loadSections(window.APP_LANGUAGE_SECTIONS,window.APP_DATETIME_LOCALE,function(){if(++sh==window.APP_LANGUAGE_SECTIONS.length){var e=re.getState();f.a.render(th,document.getElementById("modal-application"));var t=window.CALENDAR_SETTINGS,r=b.a.getInitialQueryParams(),n=[];re.getState().fields.definitions.forEach(function(e){e.active&&"choices"===e.type&&void 0!==oh(r["filterby_"+e.id])&&(n[e.id]=r["filterby_"+e.id])});var a={hideDatePicker:t.sidebarHideDatePicker,enableAboutWidget:t.enableAbout,aboutWidget:{title:t.aboutTitle,content:t.aboutContent,enableConfiguration:t.enableConfiguration},enableFilterWidget:!0,filterWidget:{oneToManyEnabled:e.oneToMany.enabled,defaultCalValue:[],defaultTextValue:r.keywords||"",defaultCustomValues:n},calendarListWidget:{enableConfiguration:t.enableConfiguration}};"string"==typeof r.filterby&&(a.filterWidget.defaultCalValue=r.filterby.split(",").map(function(e){return parseInt(e)}));var i={menu:{enableConfiguration:t.enableConfiguration,userSignupEnabled:!!t.userSignupEnabled,icsFeedsEnabled:!!t.icsFeedsEnabled},mobile:t.mobile},o=b.a.getLoggedInUser();o&&(i.user={email:o.email,isAdmin:o.isAdmin});try{f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(Ru,null)),document.querySelector(".calendar-body-content")),l=a,f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(Mt,{hideDatePicker:l.hideDatePicker,enableFilterWidget:l.enableFilterWidget,filterWidget:l.filterWidget,enableAboutWidget:l.enableAboutWidget,aboutWidget:l.aboutWidget,calendarListWidget:l.calendarListWidget})),document.querySelector(".calendar-sidebar")),s=i,f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(Zt,{menu:s.menu,mobile:s.mobile,user:s.user||void 0})),document.querySelector(".calendar-toolbar")),f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(ln,null)),document.getElementById("calendar_footer")),f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(Iu.a,{calendarStateStore:re.getState()})),document.getElementById("react-app-msg-ct")),function(){var e=document.getElementById("news_ticker");if(!e)return;f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(u.a,{news:JSON.parse(e.getAttribute("data-news"))})),e)}(),function(){var e=document.getElementById("header-search");if(!e)return;f.a.render(g.a.createElement(Fu.a,{section:"calendar"},g.a.createElement(O,null)),e)}(),function(){var e=document.getElementById("add-to-dashboard"),t=b.a.getLoggedInUser(),n=t&&!t.isKeyAddedToDashboard;if(!e||!n)return;f.a.render(g.a.createElement(Fu.a,{section:"core_js"},g.a.createElement(nh.a,null)),e)}(),function(){var e=document.getElementById("user-avatar");if(!e)return;f.a.render(g.a.createElement(Fu.a,{section:"core_js"},g.a.createElement(rh.a,{user:b.a.getLoggedInUser()})),e)}(),function(){var e=document.getElementById("react-impersonate-wrapper");if(!e)return;f.a.render(g.a.createElement(Fu.a,{section:"core_js"},g.a.createElement(ih.a,{switchUserParameter:e.getAttribute("data-switch-user-parameter")||"",redirectUrl:e.getAttribute("data-redirect-url")})),e)}(),function(){if(document.getElementsByClassName("calendar-body-container")){var e=JSON.parse(B.a.read("user-state"))||{},t=b.a.getLoggedInUser();e.userId=t?t.userId:null,B.a.write("user-state",JSON.stringify(e))}}()}catch(e){console.error&&console.error(e)}Te.hide(),"new_event"===r.action&&xe.a.openEventEditor(r),!0===window.CALENDAR_SETTINGS.licenseFeatures.refresh_param&&function(){var e=parseFloat(r.refresh);if(!(isNaN(e)||!Number.isFinite(e)||e<=0)){var t=Math.max(60*e*1e3,6e4),n=T()();setInterval(function(){T()().isSame(n,"day")?Ce.refresh():window.location.reload(!0)},t)}}(),window.addEventListener("storage",ah.a)}var s,l}),window.teamup={history:eh},window.moment=T.a}]);